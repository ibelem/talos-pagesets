var __oJKL_={};function JKLoad(YoN){this.debug=false;this.sON=YoN;this.qU='';this.Q='';this.Qc='';this.sUIpt='';this.BTP='';this.QTP='';this.sObj=new Object;this.SId='showJKL';this.FN='search';this.II='JKL';this.SI='submit';this.tD=500;this.mL=1;this.p=-1;this.ftp=-1;this.Mr=10;this.fx='JKL';this.f=false;this.h=false;this.bS='#FFFFFF';this.bW=1;this.bC='#000000';this.w=340;this.hl=20;this.ov='#AFC5E6';this.oT='#FFFFFF';this.hT=0;this.charset="gbk";this.sUrl="httpdisabled://key.so.56.com/kw?";this.isFF=navigator.userAgent.indexOf("Firefox")>0;this.sr='';document.body.onkeydown=function(){try{var oOoo=eval(YoN);__oJKL_=oOoo;if(typeof(_page_)!="undefined"&&(_page_.channel=='search_list'||_page_.channel=='search_index')){document.forms[oOoo.FN].target='_blank'}else{document.forms[oOoo.FN].target='_blank'}}catch(e){}}};JKLoad.prototype.$=function(sId){if(document.getElementById){return document.getElementById(sId)}else{return document.all[sId]}};JKLoad.prototype.initJKL=function(){if(this.Q){this.Qc=this.Q.trim()}else{this.Qc=""}
if(this.$(this.II).value){this.Q=this.sUIpt.trim()}
this.$(this.SId).style.margin=0;if(this.debug){try{this.$('debug').innerHTML+='<br>sUIpt:'+this.sUIpt+'  ---   Qc:'+this.Qc}catch(e){}}
if(this.sUIpt!=this.Qc&&this.Qc){this.hdJKL()}};JKLoad.prototype.initUrl=function(){if(this.isFF){if(typeof(document.characterSet)!=undefined){this.charset=document.characterSet}}else{if(typeof(document.charset)!=undefined){this.charset=document.charset}}
if(this.charset.toLowerCase()=="utf-8"){this.Q=encodeURI(this.Q);}
if(this.$('ra1')&&this.$('ra1').checked){this.sr='t'}else{this.sr=''}
this.qU=this.sUrl+this.Q;this.qU+="&charset="+this.charset;this.qU+="&s="+this.sr};JKLoad.prototype.show=function(oS){if(oS.length){this.f=true}else{this.f=false;return}
this.h=false;this.$(this.SId).style.display='';for(var i=0;i<oS.length;i++){this.addHeight();this.createL(oS[i],i)}};JKLoad.prototype.createL=function(obj,i){var oO=eval(this.sON);if(!this.sObj.getElementsByTagName("ul")[0]){var ul=document.createElement("ul");ul.setAttribute("id","jk_ul");this.sObj.appendChild(ul)}
oUl=this.sObj.getElementsByTagName("ul")[0];var p=document.createElement("li");p.style.height=this.hl;p.style.width='auto';p.style.margin=0;if(this.sr==''){p.innerHTML='<span>约'+obj.num+'个视频</span><a id="id_'+i+'">'+obj.keyword+'</a>';}else if(this.sr=='t'){p.innerHTML='<span>进入我贴</span><a id="id_'+i+'">'+obj.keyword+'</a>'}
p.onmouseover=function(){oO.ftp=i;oO.clearBgColor();oO.mouseover(this)};p.onmouseout=function(){oO.ftp=i;oO.clearBgColor();oO.mouseout(this)};p.onclick=function(){oO.sclick()};p.style.backgroundColor=this.oT;oUl.appendChild(p)};JKLoad.prototype.hdJKL=function(){if(this.h){return}else{this.h=true}
this.p=-1;this.hT=this.bW;if(this.isFF){try{this.$("jk_"+this.fx).parentNode.removeChild(this.$("jk_"+this.fx))}catch(e){}}
this.$(this.SId).style.display='none';this.$(this.SId).innerHTML=''};JKLoad.prototype.jBlur=function(){var oO=eval(this.sON);this.BTP=setTimeout(function(){oO.hdJKL()},500)};JKLoad.prototype.jkQ=function(){this.initUrl();try{var sCk=this.$("jk_"+this.fx)}catch(e){};if(sCk){sCk.src=this.qU;return;}else{sCk=document.createElement('SCRIPT');sCk.setAttribute("id","jk_"+this.fx)}
sCk.type='text/javascript';sCk.charset='gbk';sCk.src=this.qU;document.getElementsByTagName('HEAD')[0].appendChild(sCk,null);return;};JKLoad.prototype._callBack=function(sJson){this.show(sJson)};JKLoad.prototype.JKL=function(){var oO=eval(this.sON);this.initJKL();if(!this.ck())return;clearTimeout(this.QTP);this.QTP=window.setTimeout(function(){oO.jkQ()},this.tD)};JKLoad.prototype.ck=function(){if(this.Q.length<this.mL)return false;if(this.Qc){if(this.Q===this.Qc){return false}}
return true};JKLoad.prototype.eHandle=function(sEvt){this.sRs();this.sObj=this.$(this.SId);e=this.catchKeyCode(sEvt);if(e!=40&&e!=38){this.sUIpt=this.$(this.II).value.trim();this.JKL()}
if(this.f){if(e==8||e==38||e==40){this.keyScroll()}else{this.p=-1}}else{}};JKLoad.prototype.keyScroll=function(){len=this.sObj.getElementsByTagName("li").length;if(this.h)return;this.clearBgColor();if(e==40){if(this.p>=0){this.setBgColor(this.p,this.oT)}
this.p=(this.p>len-1)?-1:(this.p+1);if(this.p>-1){if(this.p<len){this.setBgColor(this.p,this.ov);this.select()}}}
if(e==38){if(this.p>=0){this.setBgColor(this.p,this.oT)}
this.p=(this.p<=0)?((this.p==0)?-1:len-1):(this.p-1);if(this.p>-1){this.setBgColor(this.p,this.ov);this.select()}}
if(e==8){if(this.$(this.II).value)this.Q=this.$(this.II).value.trim();this.hdJKL()}};JKLoad.prototype.mouseover=function(obj){this.p=this.getKey(obj);if(this.p>=0)this.setBgColor(this.p,this.ov);obj.style.backgroundColor=this.ov};JKLoad.prototype.mouseout=function(obj){this.setBgColor(this.p,this.oT)};JKLoad.prototype.addHeight=function(){this.sObj.style.height=this.hT+this.hl+'px';this.hT=this.hT+this.hl};JKLoad.prototype.sclick=function(){this.select();this.stats();this.jSubmit(this.FN)};JKLoad.prototype.select=function(){this.$(this.II).value=this.$('id_'+this.p).innerHTML};JKLoad.prototype.clearBgColor=function(){var len=this.sObj.getElementsByTagName("li").length;for(var i=0;i<len;i++){this.sObj.getElementsByTagName("li")[i].style.backgroundColor=this.oT}};JKLoad.prototype.setBgColor=function(num,color){if(num<0||num>=this.sObj.getElementsByTagName("li").length){this.clearBgColor();return}
this.sObj.getElementsByTagName("li")[num].style.backgroundColor=color};JKLoad.prototype.getKey=function(obj){var o=this.sObj.getElementsByTagName("li");for(var i=0;i<o.length;i++){if(obj.innerHTML.indexOf(o[i].innerHTML)!=-1){return i}else{var bNotFound=true}}
if(bNotFound)return-1};JKLoad.prototype.jSubmit=function(sN){if(!this.$(this.II).value.trim().length){return}
if(sN){document.forms[sN].submit()}else{document.search.submit();}};JKLoad.prototype.catchKeyCode=function(evt){evt=window.event||evt;var ret=evt.keyCode?evt.keyCode:evt.which;return ret};JKLoad.prototype.sRs=function(){document.forms[this.FN].onsubmit=function(){var len=__oJKL_.sObj.getElementsByTagName("li").length;if(!__oJKL_.h&&__oJKL_.p>=0&&__oJKL_.p<len){__oJKL_.select();__oJKL_.stats();__oJKL_.hdJKL()}
return true}};JKLoad.prototype.stats=function(){if(_page_.channel!='search_list'&&_page_.channel!='search_index'){try{this.$('add_favorite').src='http://stat3.corp.56.com/player.htm?s=jloaddisabled'}catch(e){}}};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"");}