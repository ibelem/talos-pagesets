(function(j,h){if(j.jQuery!==h){jQuery.noConflict();var b=jQuery;b.RJS_Helpers&&b().RJS_Slideshow&&(new function(){var a=this;b.extend(a,{settings:{noready:[0,"Int","^[0-1]$"],maxitem:[4,"Int","^[1-9]$"],minitem:[1,"Int","^[1-9]$"],sid:["","Str","^[a-zA-Z0-9_\\-]{3,64}$"],pagespeed:[100,"Range","0,9999"],opacityspeed:[100,"Range","0,9999"],omitname:[38,"Range","0,100"],imagesize:["80x80","Str","^[1-9]{1}[0-9]{1,2}x[1-9]{1}[0-9]{1,2}"],autoslidetime:[2,"Range","1,99"],autoslideflag:["next","Str","^(next|prev)$"],
autoslide:[0,"Int","^[0-1]$"],autoresize:[0,"Int","^[0-1]$"],impvar:["","Str","^[a-zA-Z0-9_]{3,64}$"],impdisp:["","Str","^[a-zA-Z0-9_]{3,64}$"],impnodisp:["","Str","^[a-zA-Z0-9_]{3,64}$"],verticalmode:[0,"Int","^[1]$"],jsonurl:["","Str","^http(s?)+(:\\/\\/[a-zA-Z0-9_\\-\\.]+)(\\.rakuten\\.co\\.jp\\/)+([a-zA-Z0-9_&=\\?\\-\\.\\/]+)$"],ajaxtimer:[3,"Range","1,99"]},eobj:{config:b("#bookmarkConfig"),existItem:b("#bookmarkExistItemDisplay"),overMaxItem:b("#bookmarkOverMaxItemDisplay"),prototypeItem:b("#prototypeBookmarkItem"),
prevButton:b("#bookmarkPrevButton"),nextButton:b("#bookmarkNextButton"),loaddisableding:b("#bookmarkLoading"),altContents:b("#bookmarkAlteredContents"),itemsDisplay:b("#bookmarkItemsDisplay")},status:{error:false,isTimeout:false},props:{items:[],itemPrototype:{html:"",height:0,width:0,identifiers:{itemurl:["",/\#ITEMURL\#/g,""],imageurl:['<img src="',/\#ITEMIMGELE\#/g,'" >'],itemname:["",/\#ITEMNAME\#/g,""]}}},initialize:function(){if(a.loaddisabledSettings())a.settings.noReady==1?a.begin():jQuery(document).ready(function(){a.begin()});
else a.displayDefaultContents()},loaddisabledSettings:function(){a.settings=b.RJS_Helpers.readAttr(a.eobj.config,a.settings);if(a.settings.jsonurl==""||a.settings.jsonurl.length>512)return false;a.settings.autoslidetime*=1E3;a.settings.ajaxtimer*=1E3;a.eobj.config.remove();return true},begin:function(){a.getData();a.status.error=!a.getPrototype()},getData:function(){function c(e){var k,f,g,i;if(a.status.isTimeout)return false;clearTimeout(d);if(e.code===h||e.num===h){a.displayDefaultContents();return false}if(e.code!=
"0"){e.num<=0&&a.regImpressionCode(a.settings.impnodisp);a.displayDefaultContents();return false}i=e.items.length;if(i<a.settings.minitem){a.displayDefaultContents(a.settings.impnodisp);return false}k=a.settings.imagesize;for(f=i-1;f>=0;f--){g=e.items[f];g.itemname=b.RJS_Helpers.omitStr(g.itemname,a.settings.omitname,"\u2026");g.imageurl=g.imageurl!=""?b.RJS_Helpers.urlParameter(g.imageurl,{_ex:k}):g.imageurl64;if(a.settings.sid!="")g.itemurl=b.RJS_Helpers.urlParameter(g.itemurl,{"s-id":a.settings.sid})}if(!b.browser.msie)for(f=
i-1;f>=0;f--)e.items[f].itemname=e.items[f].itemname.split("").join(String.fromCharCode(8203));a.props.items=e.items;if(a.status.error){a.displayDefaultContents();return false}else{a.startSlideshow();a.regImpressionCode(a.settings.impdisp);return true}}var d;a.status.isTimeout=false;try{d=setTimeout(function(){a.status.isTimeout=true;a.displayDefaultContents()},a.settings.ajaxtimer);b.ajax({url:a.settings.jsonurl,cache:false,dataType:"jsonp",scriptCharset:"euc-jp",timeout:a.settings.ajaxtimer,success:function(e){c(e)},
error:function(){a.displayDefaultContents();a.status.isTimeout=true}})}catch(l){a.displayDefaultContents();return false}return true},getPrototype:function(){var c=this.eobj.prototypeItem,d=this.props.itemPrototype;if(c.length==0)return false;d.width=c.outerWidth();d.height=c.outerHeight();d.html=c.html();if(d.html=="")return false;c.remove();return true},startSlideshow:function(){a.eobj.existItem.show();a.eobj.itemsDisplay.RJS_Slideshow(a,{settings:a.settings,itemPrototype:a.props.itemPrototype,eobj:a.eobj,
items:a.props.items,itemEvents:a.props.itemEvents,events:{afterFirstRender:a.afterFirstRender,beforeFirstRender:a.beforeFirstRender}})},regImpressionCode:function(c){return j[a.settings.impvar]===h||c==""?"":j[a.settings.impvar]=c},displayDefaultContents:function(c){a.eobj.loaddisableding.remove();a.eobj.altContents.show();a.eobj.existItem.remove();c&&a.regImpressionCode(c)},afterFirstRender:function(c,d){d.props.items.length>c&&d.eobj.overMaxItem.show()},beforeFirstRender:function(c,d){d.eobj.loaddisableding.remove();
d.eobj.itemsDisplay.show()}})}).initialize()}})(this);
