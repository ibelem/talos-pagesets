jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};
if(I===null){I="";
L.expires=-1;
}var E="";
if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;
if(typeof L.expires=="number"){F=new Date();
F.setTime(F.getTime()+(L.expires*24*60*60*1000));
}else{F=L.expires;
}E="; expires="+F.toUTCString();
}var K=L.path?"; path="+(L.path):"";
var G=L.domain?"; domain="+(L.domain):"";
var A=L.secure?"; secure":"";
document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("");
}else{var D=null;
if(document.cookie&&document.cookie!=""){var J=document.cookie.split(";");
for(var H=0;
H<J.length;
H++){var C=jQuery.trim(J[H]);
if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));
break;
}}}return D;
}};

(function($){$.toJSON=function(o){if(typeof (JSON)=="object"&&JSON.stringify){return JSON.stringify(o);
}var type=typeof (o);
if(o===null){return"null";
}if(type=="undefined"){return undefined;
}if(type=="number"||type=="boolean"){return o+"";
}if(type=="string"){return $.quoteString(o);
}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON());
}if(o.constructor===Date){var month=o.getUTCMonth()+1;
if(month<10){month="0"+month;
}var day=o.getUTCDate();
if(day<10){day="0"+day;
}var year=o.getUTCFullYear();
var hours=o.getUTCHours();
if(hours<10){hours="0"+hours;
}var minutes=o.getUTCMinutes();
if(minutes<10){minutes="0"+minutes;
}var seconds=o.getUTCSeconds();
if(seconds<10){seconds="0"+seconds;
}var milli=o.getUTCMilliseconds();
if(milli<100){milli="0"+milli;
}if(milli<10){milli="0"+milli;
}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"';
}if(o.constructor===Array){var ret=[];
for(var i=0;
i<o.length;
i++){ret.push($.toJSON(o[i])||"null");
}return"["+ret.join(",")+"]";
}var pairs=[];
for(var k in o){var name;
var type=typeof k;
if(type=="number"){name='"'+k+'"';
}else{if(type=="string"){name=$.quoteString(k);
}else{continue;
}}if(typeof o[k]=="function"){continue;
}var val=$.toJSON(o[k]);
pairs.push(name+":"+val);
}return"{"+pairs.join(", ")+"}";
}};
$.evalJSON=function(src){if(typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src);
}return eval("("+src+")");
};
$.secureEvalJSON=function(src){if(typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src);
}var filtered=src;
filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");
filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");
filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");
if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")");
}else{throw new SyntaxError("Error parsing JSON, source is not valid.");
}};
$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];
if(typeof c==="string"){return c;
}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);
})+'"';
}return'"'+string+'"';
};
var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;
var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
})(jQuery);

try{(function(A){if(!A||!(A.toJSON||Object.toJSON||window.JSON)){throw new Error("jQuery, MooTools or Prototype needs to be loaddisableded before jStorage!");
}A.jStorage={version:"0.1.2.1",_storage:{},_storage_service:{jStorage:"{}"},_storage_elm:null,json_encode:A.toJSON||Object.toJSON||(window.JSON&&(JSON.encode||JSON.stringify)),json_decode:A.evalJSON||(window.JSON&&(JSON.decode||JSON.parse))||function(B){return String(B).evalJSON();
},_init:function(){var D;
if("localStorage" in window){this._storage_service=window.localStorage;
}else{if("globalStorage" in window){this._storage_service=window.globalStorage[document.domain];
}else{this._storage_elm=document.createElement("link");
if("addBehavior" in this._storage_elm){this._storage_elm.style.behavior="url(#default#userData)";
document.getElementsByTagName("head")[0].appendChild(this._storage_elm);
try{this._storage_elm.loaddisabled("jStorage");
}catch(B){D="{}";
}try{D=this._storage_elm.getAttribute("jStorage");
}catch(B){D="{}";
}if(D&&D.length){this._storage_service.jStorage=D;
}}else{this._storage_elm=null;
return ;
}}}if("jStorage" in this._storage_service&&this._storage_service.jStorage){try{this._storage=this.json_decode(this._storage_service.jStorage);
}catch(C){this._storage_service.jStorage="{}";
}}else{this._storage_service.jStorage="{}";
}},_save:function(){if(this._storage_service){try{this._storage_service.jStorage=this.json_encode(this._storage);
}catch(C){}if(this._storage_elm){try{this._storage_elm.setAttribute("jStorage",this._storage_service.jStorage);
this._storage_elm.save("jStorage");
}catch(B){}}}},_checkKey:function(B){if(!B||(typeof B!="string"&&typeof B!="number")){throw new TypeError("Key name must be string or numeric");
}return true;
},set:function(B,C){this._checkKey(B);
this._storage[B]=C;
this._save();
return C;
},get:function(B,C){this._checkKey(B);
if(B in this._storage){return this._storage[B];
}return C?C:null;
},deleteKey:function(B){this._checkKey(B);
if(B in this._storage){delete this._storage[B];
this._save();
return true;
}return false;
},flush:function(){this._storage={};
this._save();
if("localStorage" in window){localStorage.clear();
}return true;
}};
A.jStorage._init();
})(typeof jQuery!="undefined"&&jQuery||$);
}catch(e){}
(function($,P){var I,M=Array.prototype.slice,R=decodeURIComponent,A=$.param,C,L,V,B=$.bbq=$.bbq||{},Q,U,J,E=$.event.special,D="hashchange",a="querystring",d="fragment",Y="elemUrlAttr",G="location",K="href",T="src",X=/^.*\?|#.*$/g,W=/^.*\#/,H,c={};
function e(f){return typeof f==="string";
}function b(g){var f=M.call(arguments,1);
return function(){return g.apply(this,f.concat(M.call(arguments)));
};
}function N(f){return f.replace(/^[^#]*#?(.*)$/,"$1");
}function O(f){return f.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1");
}function F(h,m,f,i,g){var o,l,k,n,j;
if(i!==I){k=f.match(h?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);
j=k[3]||"";
if(g===2&&e(i)){l=i.replace(h?W:X,"");
}else{n=L(k[2]);
i=e(i)?L[h?d:a](i):i;
l=g===2?i:g===1?$.extend({},i,n):$.extend({},n,i);
l=A(l);
if(h){l=l.replace(H,R);
}}o=k[1]+(h?"#":l||!k[1]?"?":"")+l+j;
}else{o=m(f!==I?f:P[G][K]);
}return o;
}A[a]=b(F,0,O);
A[d]=C=b(F,1,N);
C.noEscape=function(g){g=g||"";
var f=$.map(g.split(""),encodeURIComponent);
H=new RegExp(f.join("|"),"g");
};
C.noEscape(",/");
$.deparam=L=function(i,f){var h={},g={"true":!0,"false":!1,"null":null};
$.each(i.replace(/\+/g," ").split("&"),function(m,r){var l=r.split("="),q=R(l[0]),k,p=h,n=0,s=q.split("]["),o=s.length-1;
if(/\[/.test(s[0])&&/\]$/.test(s[o])){s[o]=s[o].replace(/\]$/,"");
s=s.shift().split("[").concat(s);
o=s.length-1;
}else{o=0;
}if(l.length===2){k=R(l[1]);
if(f){k=k&&!isNaN(k)?+k:k==="undefined"?I:g[k]!==I?g[k]:k;
}if(o){for(;
n<=o;
n++){q=s[n]===""?p.length:s[n];
p=p[q]=n<o?p[q]||(s[n+1]&&isNaN(s[n+1])?{}:[]):k;
}}else{if($.isArray(h[q])){h[q].push(k);
}else{if(h[q]!==I){h[q]=[h[q],k];
}else{h[q]=k;
}}}}else{if(q){h[q]=f?I:"";
}}});
return h;
};
function Z(h,f,g){if(f===I||typeof f==="boolean"){g=f;
f=A[h?d:a]();
}else{f=e(f)?f.replace(h?W:X,""):f;
}return L(f,g);
}L[a]=b(Z,0);
L[d]=V=b(Z,1);
$[Y]||($[Y]=function(f){return $.extend(c,f);
})({a:K,base:K,iframe:T,img:T,input:T,form:"action",link:K,script:T});
J=$[Y];
function S(i,g,h,f){if(!e(h)&&typeof h!=="object"){f=h;
h=g;
g=I;
}return this.each(function(){var l=$(this),j=g||J()[(this.nodeName||"").toLowerCase()]||"",k=j&&l.attr(j)||"";
l.attr(j,A[i](k,h,f));
});
}$.fn[a]=b(S,a);
$.fn[d]=b(S,d);
B.pushState=Q=function(i,f){if(e(i)&&/^#/.test(i)&&f===I){f=2;
}var h=i!==I,g=C(P[G][K],h?i:{},h?f:2);
P[G][K]=g+(/#/.test(g)?"":"#");
};
B.getState=U=function(f,g){return f===I||typeof f==="boolean"?V(f):V(g)[f];
};
B.removeState=function(f){var g={};
if(f!==I){g=U();
$.each($.isArray(f)?f:arguments,function(j,h){delete g[h];
});
}Q(g,2);
};
E[D]=$.extend(E[D],{add:function(f){var h;
function g(j){var i=j[d]=C();
j.getState=function(k,l){return k===I||typeof k==="boolean"?L(i,k):L(i,l)[k];
};
h.apply(this,arguments);
}if($.isFunction(f)){h=f;
return g;
}else{h=f.handler;
f.handler=g;
}}});
})(jQuery,this);
(function($,I,B){var J,K=$.event.special,C="location",D="hashchange",L="href",F=$.browser,G=document.documentMode,H=F.msie&&(G===B||G<8),E="on"+D in I&&!H;
function A(M){M=M||I[C][L];
return M.replace(/^[^#]*#?(.*)$/,"$1");
}$[D+"Delay"]=100;
K[D]=$.extend(K[D],{setup:function(){if(E){return false;
}$(J.start);
},teardown:function(){if(E){return false;
}$(J.stop);
}});
J=(function(){var M={},R,N,O,Q;
function P(){O=Q=function(S){return S;
};
if(H){N=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
Q=function(){return A(N.document[C][L]);
};
O=function(U,S){if(U!==S){var T=N.document;
void().close();
T[C].hash="#"+U;
}};
O(A());
}}M.start=function(){if(R){return ;
}var T=A();
O||P();
(function S(){var V=A(),U=Q(T);
if(V!==T){O(T=V,U);
$(I).trigger(D);
}else{if(U!==T){I[C][L]=I[C][L].replace(/#.*/,"")+"#"+U;
}}R=setTimeout(S,$[D+"Delay"]);
})();
};
M.stop=function(){if(!N){R&&clearTimeout(R);
R=0;
}};
return M;
})();
})(jQuery,this);

(function(I){function B(){this.regional=[];
this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,timeSeparator:":",isRTL:false};
this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};
I.extend(this._defaults,this.regional[""]);
this._serverSyncs=[];
}var L="countdown";
var C=0;
var J=1;
var E=2;
var A=3;
var N=4;
var K=5;
var G=6;
I.extend(B.prototype,{markerClassName:"hasCountdown",_timer:setInterval(function(){I.countdown._updateTargets();
},980),_timerTargets:[],setDefaults:function(D){this._resetExtraLabels(this._defaults,D);
F(this._defaults,D||{});
},UTCDate:function(T,S,R,P,O,M,H,D){if(typeof S=="object"&&S.constructor==Date){D=S.getMilliseconds();
H=S.getSeconds();
M=S.getMinutes();
O=S.getHours();
P=S.getDate();
R=S.getMonth();
S=S.getFullYear();
}var Q=new Date();
Q.setUTCFullYear(S);
Q.setUTCDate(1);
Q.setUTCMonth(R||0);
Q.setUTCDate(P||1);
Q.setUTCHours(O||0);
Q.setUTCMinutes((M||0)-(Math.abs(T)<30?T*60:T));
Q.setUTCSeconds(H||0);
Q.setUTCMilliseconds(D||0);
return Q;
},periodsToSeconds:function(D){return D[0]*31557600+D[1]*2629800+D[2]*604800+D[3]*86400+D[4]*3600+D[5]*60+D[6];
},_settingsCountdown:function(H,D){if(!D){return I.countdown._defaults;
}var M=I.data(H,L);
return(D=="all"?M.options:M.options[D]);
},_attachCountdown:function(H,D){var O=I(H);
if(O.hasClass(this.markerClassName)){return ;
}O.addClass(this.markerClassName);
var M={options:I.extend({},D),_periods:[0,0,0,0,0,0,0]};
I.data(H,L,M);
this._changeCountdown(H);
},_addTarget:function(D){if(!this._hasTarget(D)){this._timerTargets.push(D);
}},_hasTarget:function(D){return(I.inArray(D,this._timerTargets)>-1);
},_removeTarget:function(D){this._timerTargets=I.map(this._timerTargets,function(H){return(H==D?null:H);
});
},_updateTargets:function(){for(var D=this._timerTargets.length-1;
D>=0;
D--){this._updateCountdown(this._timerTargets[D]);
}},_updateCountdown:function(V,U){var T=I(V);
U=U||I.data(V,L);
if(!U){return ;
}T.html(this._generateHTML(U));
T[(this._get(U,"isRTL")?"add":"remove")+"Class"]("countdown_rtl");
var S=this._get(U,"onTick");
if(S){var R=U._hold!="lap"?U._periods:this._calculatePeriods(U,U._show,this._get(U,"significant"),new Date());
var Q=this._get(U,"tickInterval");
if(Q==1||this.periodsToSeconds(R)%Q==0){S.apply(V,[R]);
}}var P=U._hold!="pause"&&(U._since?U._now.getTime()<U._since.getTime():U._now.getTime()>=U._until.getTime());
if(P&&!U._expiring){U._expiring=true;
if(this._hasTarget(V)||this._get(U,"alwaysExpire")){this._removeTarget(V);
var O=this._get(U,"onExpiry");
if(O){O.apply(V,[]);
}var M=this._get(U,"expiryText");
if(M){var H=this._get(U,"layout");
U.options.layout=M;
this._updateCountdown(V,U);
U.options.layout=H;
}var D=this._get(U,"expiryUrl");
if(D){window.location=D;
}}U._expiring=false;
}else{if(U._hold=="pause"){this._removeTarget(V);
}}I.data(V,L,U);
},_changeCountdown:function(H,D,Q){D=D||{};
if(typeof D=="string"){var P=D;
D={};
D[P]=Q;
}var O=I.data(H,L);
if(O){this._resetExtraLabels(O.options,D);
F(O.options,D);
this._adjustSettings(H,O);
I.data(H,L,O);
var M=new Date();
if((O._since&&O._since<M)||(O._until&&O._until>M)){this._addTarget(H);
}this._updateCountdown(H,O);
}},_resetExtraLabels:function(H,D){var O=false;
for(var M in D){if(M!="whichLabels"&&M.match(/[Ll]abels/)){O=true;
break;
}}if(O){for(var M in H){if(M.match(/[Ll]abels[0-9]/)){H[M]=null;
}}}},_adjustSettings:function(T,S){var R;
var Q=this._get(S,"serverSync");
var P=0;
var O=null;
for(var D=0;
D<this._serverSyncs.length;
D++){if(this._serverSyncs[D][0]==Q){O=this._serverSyncs[D][1];
break;
}}if(O!=null){P=(Q?O:0);
R=new Date();
}else{var M=(Q?Q.apply(T,[]):null);
R=new Date();
P=(M?R.getTime()-M.getTime():0);
this._serverSyncs.push([Q,P]);
}var H=this._get(S,"timezone");
H=(H==null?-R.getTimezoneOffset():H);
S._since=this._get(S,"since");
if(S._since!=null){S._since=this.UTCDate(H,this._determineTime(S._since,null));
if(S._since&&P){S._since.setMilliseconds(S._since.getMilliseconds()+P);
}}S._until=this.UTCDate(H,this._determineTime(this._get(S,"until"),R));
if(P){S._until.setMilliseconds(S._until.getMilliseconds()+P);
}S._show=this._determineShow(S);
},_destroyCountdown:function(H){var D=I(H);
if(!D.hasClass(this.markerClassName)){return ;
}this._removeTarget(H);
D.removeClass(this.markerClassName).empty();
I.removeData(H,L);
},_pauseCountdown:function(D){this._hold(D,"pause");
},_lapCountdown:function(D){this._hold(D,"lap");
},_resumeCountdown:function(D){this._hold(D,null);
},_hold:function(H,D){var O=I.data(H,L);
if(O){if(O._hold=="pause"&&!D){O._periods=O._savePeriods;
var M=(O._since?"-":"+");
O[O._since?"_since":"_until"]=this._determineTime(M+O._periods[0]+"y"+M+O._periods[1]+"o"+M+O._periods[2]+"w"+M+O._periods[3]+"d"+M+O._periods[4]+"h"+M+O._periods[5]+"m"+M+O._periods[6]+"s");
this._addTarget(H);
}O._hold=D;
O._savePeriods=(D=="pause"?O._periods:null);
I.data(H,L,O);
this._updateCountdown(H,O);
}},_getTimesCountdown:function(H){var D=I.data(H,L);
return(!D?null:(!D._hold?D._periods:this._calculatePeriods(D,D._show,this._get(D,"significant"),new Date())));
},_get:function(H,D){return(H.options[D]!=null?H.options[D]:I.countdown._defaults[D]);
},_determineTime:function(M,H){var D=function(R){var Q=new Date();
Q.setTime(Q.getTime()+R*1000);
return Q;
};
var P=function(Z){Z=Z.toLowerCase();
var Y=new Date();
var X=Y.getFullYear();
var W=Y.getMonth();
var V=Y.getDate();
var U=Y.getHours();
var T=Y.getMinutes();
var S=Y.getSeconds();
var R=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;
var Q=R.exec(Z);
while(Q){switch(Q[2]||"s"){case"s":S+=parseInt(Q[1],10);
break;
case"m":T+=parseInt(Q[1],10);
break;
case"h":U+=parseInt(Q[1],10);
break;
case"d":V+=parseInt(Q[1],10);
break;
case"w":V+=parseInt(Q[1],10)*7;
break;
case"o":W+=parseInt(Q[1],10);
V=Math.min(V,I.countdown._getDaysInMonth(X,W));
break;
case"y":X+=parseInt(Q[1],10);
V=Math.min(V,I.countdown._getDaysInMonth(X,W));
break;
}Q=R.exec(Z);
}return new Date(X,W,V,U,T,S,0);
};
var O=(M==null?H:(typeof M=="string"?P(M):(typeof M=="number"?D(M):M)));
if(O){O.setMilliseconds(0);
}return O;
},_getDaysInMonth:function(H,D){return 32-new Date(H,D,32).getDate();
},_normalLabels:function(D){return D;
},_generateHTML:function(a){var Z=this._get(a,"significant");
a._periods=(a._hold?a._periods:this._calculatePeriods(a,a._show,Z,new Date()));
var Y=false;
var X=0;
var W=Z;
var V=I.extend({},a._show);
for(var U=C;
U<=G;
U++){Y|=(a._show[U]=="?"&&a._periods[U]>0);
V[U]=(a._show[U]=="?"&&!Y?null:a._show[U]);
X+=(V[U]?1:0);
W-=(a._periods[U]>0?1:0);
}var T=[false,false,false,false,false,false,false];
for(var U=G;
U>=C;
U--){if(a._show[U]){if(a._periods[U]){T[U]=true;
}else{T[U]=W>0;
W--;
}}}var S=this._get(a,"compact");
var R=this._get(a,"layout");
var Q=(S?this._get(a,"compactLabels"):this._get(a,"labels"));
var P=this._get(a,"whichLabels")||this._normalLabels;
var O=this._get(a,"timeSeparator");
var M=this._get(a,"description")||"";
var H=function(d){var c=I.countdown._get(a,"compactLabels"+P(a._periods[d]));
return(V[d]?a._periods[d]+(c?c[d]:Q[d])+" ":"");
};
var D=function(d){var c=I.countdown._get(a,"labels"+P(a._periods[d]));
return((!Z&&V[d])||(Z&&T[d])?'<span class="countdown_section"><span class="countdown_amount">'+a._periods[d]+"</span><br/>"+(c?c[d]:Q[d])+"</span>":"");
};
return(R?this._buildLayout(a,V,R,S,Z,T):((S?'<span class="countdown_row countdown_amount'+(a._hold?" countdown_holding":"")+'">'+H(C)+H(J)+H(E)+H(A)+(V[N]?this._minDigits(a._periods[N],2):"")+(V[K]?(V[N]?O:"")+this._minDigits(a._periods[K],2):"")+(V[G]?(V[N]||V[K]?O:"")+this._minDigits(a._periods[G],2):""):'<span class="countdown_row countdown_show'+(Z||X)+(a._hold?" countdown_holding":"")+'">'+D(C)+D(J)+D(E)+D(A)+D(N)+D(K)+D(G))+"</span>"+(M?'<span class="countdown_row countdown_descr">'+M+"</span>":"")));
},_buildLayout:function(Z,Y,X,W,V,U){var S=this._get(Z,(W?"compactLabels":"labels"));
var R=this._get(Z,"whichLabels")||this._normalLabels;
var Q=function(b){return(I.countdown._get(Z,(W?"compactLabels":"labels")+R(Z._periods[b]))||S)[b];
};
var P=function(d,c){return Math.floor(d/c)%10;
};
var O={desc:this._get(Z,"description"),sep:this._get(Z,"timeSeparator"),yl:Q(C),yn:Z._periods[C],ynn:this._minDigits(Z._periods[C],2),ynnn:this._minDigits(Z._periods[C],3),y1:P(Z._periods[C],1),y10:P(Z._periods[C],10),y100:P(Z._periods[C],100),y1000:P(Z._periods[C],1000),ol:Q(J),on:Z._periods[J],onn:this._minDigits(Z._periods[J],2),onnn:this._minDigits(Z._periods[J],3),o1:P(Z._periods[J],1),o10:P(Z._periods[J],10),o100:P(Z._periods[J],100),o1000:P(Z._periods[J],1000),wl:Q(E),wn:Z._periods[E],wnn:this._minDigits(Z._periods[E],2),wnnn:this._minDigits(Z._periods[E],3),w1:P(Z._periods[E],1),w10:P(Z._periods[E],10),w100:P(Z._periods[E],100),w1000:P(Z._periods[E],1000),dl:Q(A),dn:Z._periods[A],dnn:this._minDigits(Z._periods[A],2),dnnn:this._minDigits(Z._periods[A],3),d1:P(Z._periods[A],1),d10:P(Z._periods[A],10),d100:P(Z._periods[A],100),d1000:P(Z._periods[A],1000),hl:Q(N),hn:Z._periods[N],hnn:this._minDigits(Z._periods[N],2),hnnn:this._minDigits(Z._periods[N],3),h1:P(Z._periods[N],1),h10:P(Z._periods[N],10),h100:P(Z._periods[N],100),h1000:P(Z._periods[N],1000),ml:Q(K),mn:Z._periods[K],mnn:this._minDigits(Z._periods[K],2),mnnn:this._minDigits(Z._periods[K],3),m1:P(Z._periods[K],1),m10:P(Z._periods[K],10),m100:P(Z._periods[K],100),m1000:P(Z._periods[K],1000),sl:Q(G),sn:Z._periods[G],snn:this._minDigits(Z._periods[G],2),snnn:this._minDigits(Z._periods[G],3),s1:P(Z._periods[G],1),s10:P(Z._periods[G],10),s100:P(Z._periods[G],100),s1000:P(Z._periods[G],1000)};
var M=X;
for(var T=C;
T<=G;
T++){var H="yowdhms".charAt(T);
var D=new RegExp("\\{"+H+"<\\}(.*)\\{"+H+">\\}","g");
M=M.replace(D,((!V&&Y[T])||(V&&U[T])?"$1":""));
}I.each(O,function(d,c){var b=new RegExp("\\{"+d+"\\}","g");
M=M.replace(b,c);
});
return M;
},_minDigits:function(H,D){H=""+H;
if(H.length>=D){return H;
}H="0000000000"+H;
return H.substr(H.length-D);
},_determineShow:function(H){var D=this._get(H,"format");
var M=[];
M[C]=(D.match("y")?"?":(D.match("Y")?"!":null));
M[J]=(D.match("o")?"?":(D.match("O")?"!":null));
M[E]=(D.match("w")?"?":(D.match("W")?"!":null));
M[A]=(D.match("d")?"?":(D.match("D")?"!":null));
M[N]=(D.match("h")?"?":(D.match("H")?"!":null));
M[K]=(D.match("m")?"?":(D.match("M")?"!":null));
M[G]=(D.match("s")?"?":(D.match("S")?"!":null));
return M;
},_calculatePeriods:function(w,v,b,a){w._now=a;
w._now.setMilliseconds(0);
var Z=new Date(w._now.getTime());
if(w._since){if(a.getTime()<w._since.getTime()){w._now=a=Z;
}else{a=w._since;
}}else{Z.setTime(w._until.getTime());
if(a.getTime()>w._until.getTime()){w._now=a=Z;
}}var Y=[0,0,0,0,0,0,0];
if(v[C]||v[J]){var X=I.countdown._getDaysInMonth(a.getFullYear(),a.getMonth());
var W=I.countdown._getDaysInMonth(Z.getFullYear(),Z.getMonth());
var V=(Z.getDate()==a.getDate()||(Z.getDate()>=Math.min(X,W)&&a.getDate()>=Math.min(X,W)));
var U=function(c){return(c.getHours()*60+c.getMinutes())*60+c.getSeconds();
};
var T=Math.max(0,(Z.getFullYear()-a.getFullYear())*12+Z.getMonth()-a.getMonth()+((Z.getDate()<a.getDate()&&!V)||(V&&U(Z)<U(a))?-1:0));
Y[C]=(v[C]?Math.floor(T/12):0);
Y[J]=(v[J]?T-Y[C]*12:0);
a=new Date(a.getTime());
var S=(a.getDate()==X);
var R=I.countdown._getDaysInMonth(a.getFullYear()+Y[C],a.getMonth()+Y[J]);
if(a.getDate()>R){a.setDate(R);
}a.setFullYear(a.getFullYear()+Y[C]);
a.setMonth(a.getMonth()+Y[J]);
if(S){a.setDate(R);
}}var Q=Math.floor((Z.getTime()-a.getTime())/1000);
var P=function(d,c){Y[d]=(v[d]?Math.floor(Q/c):0);
Q-=Y[d]*c;
};
P(E,604800);
P(A,86400);
P(N,3600);
P(K,60);
P(G,1);
if(Q>0&&!w._since){var O=[1,12,4.3482,7,24,60,60];
var M=G;
var H=1;
for(var D=G;
D>=C;
D--){if(v[D]){if(Y[M]>=H){Y[M]=0;
Q=1;
}if(Q>0){Y[D]++;
Q=0;
M=D;
H=1;
}}H*=O[D];
}}if(b){for(var D=C;
D<=G;
D++){if(b&&Y[D]){b--;
}else{if(!b){Y[D]=0;
}}}}return Y;
}});
function F(H,D){I.extend(H,D);
for(var M in D){if(D[M]==null){H[M]=null;
}}return H;
}I.fn.countdown=function(H){var D=Array.prototype.slice.call(arguments,1);
if(H=="getTimes"||H=="settings"){return I.countdown["_"+H+"Countdown"].apply(I.countdown,[this[0]].concat(D));
}return this.each(function(){if(typeof H=="string"){I.countdown["_"+H+"Countdown"].apply(I.countdown,[this].concat(D));
}else{I.countdown._attachCountdown(this,H);
}});
};
I.countdown=new B();
})(jQuery);

(function(B){B.fn.bgiframe=(B.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(C){C=B.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},C);
var D='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+C.src+'"style="display:block;position:absolute;z-index:-1;'+(C.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(C.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":A(C.top))+";left:"+(C.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":A(C.left))+";width:"+(C.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":A(C.width))+";height:"+(C.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":A(C.height))+';"/>';
return this.each(function(){if(B(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(D),this.firstChild);
}});
}:function(){return this;
});
B.fn.bgIframe=B.fn.bgiframe;
function A(C){return C&&C.constructor===Number?C+"px":C;
}})(jQuery);

(function(B){function A(G,F){function I(K){if(!H){H=true;
J.start&&J.start(K,C);
}}function E(K,L){if(H){clearTimeout(D);
D=setTimeout(function(){H=false;
J.stop&&J.stop(K,C);
},L>=0?L:J.delay);
}}var J=B.extend({start:null,stop:null,delay:400},F),C=B(G),H=false,D;
C.keypress(I);
C.keydown(function(K){if(K.keyCode===8||K.keyCode===46){I(K);
}});
C.keyup(E);
C.blur(function(K){E(K,0);
});
}B.fn.typing=function(C){return this.each(function(D,E){A(E,C);
});
};
})(jQuery);

var caretPositionAmp=[];
jQuery.fn.extend({getSelection:function(){var I=this.jquery?this[0]:this,J,H,F,C=0;
I.onmousedown=function(){document.selection&&typeof I.selectionStart!="number"?document.selection.empty():window.getSelection().removeAllRanges();
};
if(document.selection){var G=document.selection.createRange(),E=0,D=0,B=0;
J=document.getElementsByTagName("TEXTAREA");
for(H=0;
H<J.length;
H++){if(J[H]==I){break;
}}if(I.value.match(/\n/g)!=null){C=I.value.match(/\n/g).length;
}if(G.text){F=G.text;
if(typeof I.selectionStart=="number"){J=I.selectionStart;
H=I.selectionEnd;
if(J==H){return{start:J,end:H,text:G.text,length:H-J};
}}else{J=I.createTextRange();
F=J.duplicate();
firstRe=J.text;
J.moveToBookmark(G.getBookmark());
secondRe=J.text;
F.setEndPoint("EndToStart",J);
if(firstRe==secondRe&&firstRe!=G.text||F.text.length>firstRe.length){return{start:caretPositionAmp[H],end:caretPositionAmp[H],text:"",length:0};
}J=F.text.length;
H=F.text.length+G.text.length;
}if(C>0){for(F=0;
F<=C;
F++){var A=I.value.indexOf("\n",D);
if(A!=-1&&A<J){D=A+1;
E++;
B=E;
}else{if(A!=-1&&A>=J&&A<=H){if(A==J+1){E--;
B--;
D=A+1;
}else{D=A+1;
B++;
}}else{F=C;
}}}}if(G.text.indexOf("\n",0)==1){B+=2;
}J-=E;
H-=B;
return{start:J,end:H,text:G.text,length:H-J};
}I.focus();
if(typeof I.selectionStart=="number"){J=I.selectionStart;
}else{G=document.selection.createRange();
J=I.createTextRange();
F=J.duplicate();
J.moveToBookmark(G.getBookmark());
F.setEndPoint("EndToStart",J);
J=F.text.length;
}if(C>0){for(F=0;
F<=C;
F++){A=I.value.indexOf("\n",D);
if(A!=-1&&A<J){D=A+1;
E++;
}else{F=C;
}}}J-=E;
if(J==0&&typeof I.selectionStart!="number"){J=caretPositionAmp[H];
H=caretPositionAmp[H];
}return{start:J,end:J,text:G.text,length:0};
}else{if(typeof I.selectionStart=="number"){J=I.selectionStart;
H=I.selectionEnd;
F=I.value.substring(I.selectionStart,I.selectionEnd);
return{start:J,end:H,text:F,length:H-J};
}else{return{start:undefined,end:undefined,text:undefined,length:undefined};
}}},replaceSelection:function(L){var M=this.jquery?this[0]:this,K,I;
I=0;
var F,J,H=0,G=0,E=M.scrollTop==undefined?0:M.scrollTop;
K=document.getElementsByTagName("TEXTAREA");
for(var C=0;
C<K.length;
C++){if(K[C]==M){break;
}}if(document.selection&&typeof M.selectionStart!="number"){E=document.selection.createRange();
if(typeof M.selectionStart!="number"){var D;
J=M.createTextRange();
F=J.duplicate();
K=J.text;
J.moveToBookmark(E.getBookmark());
D=J.text;
try{F.setEndPoint("EndToStart",J);
}catch(A){return this;
}if(K==D&&K!=E.text||F.text.length>K.length){return this;
}}if(E.text){part=E.text;
if(M.value.match(/\n/g)!=null){H=M.value.match(/\n/g).length;
}K=F.text.length;
if(H>0){for(D=0;
D<=H;
D++){var B=M.value.indexOf("\n",I);
if(B!=-1&&B<K){I=B+1;
G++;
}else{D=H;
}}}E.text=L;
caretPositionAmp[C]=F.text.length+L.length;
J.move("character",caretPositionAmp[C]);
document.selection.empty();
M.blur();
}return this;
}else{if(typeof M.selectionStart=="number"&&M.selectionStart!=M.selectionEnd){K=M.selectionStart;
I=M.selectionEnd;
M.value=M.value.substr(0,K)+L+M.value.substr(I);
I=K+L.length;
M.setSelectionRange(I,I);
M.scrollTop=E;
return this;
}}return this;
},setSelection:function(H,I){H=parseInt(H);
I=parseInt(I);
var G=this.jquery?this[0]:this;
G.focus();
if(typeof G.selectionStart!="number"){re=G.createTextRange();
if(re.text.length<I){I=re.text.length+1;
}}if(I<H){return this;
}if(document.selection){var E=0,B=0,F=0,D=0;
if(typeof G.selectionStart!="number"){re.collapse(true);
re.moveEnd("character",I);
re.moveStart("character",H);
re.select();
}else{if(typeof G.selectionStart=="number"){if(G.value.match(/\n/g)!=null){E=G.value.match(/\n/g).length;
}if(E>0){for(var C=0;
C<=E;
C++){var A=G.value.indexOf("\n",F);
if(A!=-1&&A<H){F=A+1;
B++;
D=B;
}else{if(A!=-1&&A>=H&&A<=I){if(A==H+1){B--;
D--;
F=A+1;
}else{F=A+1;
D++;
}}else{C=E;
}}}}H+=B;
I+=D;
G.selectionStart=H;
G.selectionEnd=I;
}G.focus();
}return this;
}else{if(G.selectionStart||G.selectionStart==0){G.focus();
window.getSelection().removeAllRanges();
G.selectionStart=H;
G.selectionEnd=I;
G.focus();
return this;
}}},insertAtCaretPos:function(L){var M=this.jquery?this[0]:this,K,I,F,J,H,G,E;
K=I=0;
var C=M.scrollTop==undefined?0:M.scrollTop;
E=document.getElementsByTagName("TEXTAREA");
for(var D=0;
D<E.length;
D++){if(E[D]==M){break;
}}M.focus();
if(document.selection&&typeof M.selectionStart!="number"){if(M.value.match(/\n/g)!=null){K=M.value.match(/\n/g).length;
}E=parseInt(caretPositionAmp[D]);
if(K>0){for(var A=0;
A<=K;
A++){var B=M.value.indexOf("\n",F);
if(B!=-1&&B<=E){F=B+1;
E-=1;
I++;
}}}}caretPositionAmp[D]=parseInt(caretPositionAmp[D]);
M.onkeyup=function(){if(document.selection&&typeof M.selectionStart!="number"){M.focus();
J=document.selection.createRange();
H=M.createTextRange();
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
caretPositionAmp[D]=G.text.length;
}};
M.onmouseup=function(){if(document.selection&&typeof M.selectionStart!="number"){M.focus();
J=document.selection.createRange();
H=M.createTextRange();
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
caretPositionAmp[D]=G.text.length;
}};
if(document.selection&&typeof M.selectionStart!="number"){J=document.selection.createRange();
if(J.text.length!=0){return this;
}H=M.createTextRange();
textLength=H.text.length;
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
K=G.text.length;
if(caretPositionAmp[D]>0&&K==0){I=caretPositionAmp[D]-I;
H.move("character",I);
H.select();
J=document.selection.createRange();
caretPositionAmp[D]+=L.length;
}else{if(!(caretPositionAmp[D]>=0)&&textLength==0){J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(!(caretPositionAmp[D]>=0)&&K==0){H.move("character",textLength);
H.select();
J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(!(caretPositionAmp[D]>=0)&&K>0){H.move("character",0);
document.selection.empty();
H.select();
J=document.selection.createRange();
caretPositionAmp[D]=K+L.length;
}else{if(caretPositionAmp[D]>=0&&caretPositionAmp[D]==textLength){if(textLength!=0){H.move("character",textLength);
H.select();
}else{H.move("character",0);
}J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(caretPositionAmp[D]>=0&&K!=0&&caretPositionAmp[D]>=K){I=caretPositionAmp[D]-K;
H.move("character",I);
}else{caretPositionAmp[D]>=0&&K!=0&&caretPositionAmp[D]<K&&H.move("character",0);
}document.selection.empty();
H.select();
J=document.selection.createRange();
caretPositionAmp[D]+=L.length;
}}}}}J.text=L;
M.focus();
return this;
}else{if(typeof M.selectionStart=="number"&&M.selectionStart==M.selectionEnd){F=M.selectionStart+L.length;
K=M.selectionStart;
I=M.selectionEnd;
M.value=M.value.substr(0,K)+L+M.value.substr(I);
M.setSelectionRange(F,F);
M.scrollTop=C;
return this;
}}return this;
},setCaretPos:function(A){var B=this.jquery?this[0]:this,H,F=0,C=0,G;
G=document.getElementsByTagName("TEXTAREA");
for(var E=0;
E<G.length;
E++){if(G[E]==B){break;
}}B.focus();
if(parseInt(A)==0){return this;
}if(parseInt(A)>0){A=parseInt(A)-1;
if(document.selection&&typeof B.selectionStart=="number"&&B.selectionStart==B.selectionEnd){if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){for(var D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)+1;
}}}}}else{if(parseInt(A)<0){A=parseInt(A)+1;
if(document.selection&&typeof B.selectionStart!="number"){A=B.value.length+parseInt(A);
if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){for(D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)-1;
C+=1;
}}A=A+C-F;
}}else{if(document.selection&&typeof B.selectionStart=="number"){A=B.value.length+parseInt(A);
if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){A=parseInt(A)-F;
for(D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)+1;
C+=1;
}}}}else{A=B.value.length+parseInt(A);
}}}else{return this;
}}if(document.selection&&typeof B.selectionStart!="number"){H=document.selection.createRange();
if(H.text!=0){return this;
}B=B.createTextRange();
B.collapse(true);
B.moveEnd("character",A);
B.moveStart("character",A);
B.select();
caretPositionAmp[E]=A;
return this;
}else{if(typeof B.selectionStart=="number"&&B.selectionStart==B.selectionEnd){B.setSelectionRange(A,A);
return this;
}}return this;
},countCharacters:function(){var A=this.jquery?this[0]:this;
if(A.value.match(/\r/g)!=null){return A.value.length-A.value.match(/\r/g).length;
}return A.value.length;
},setMaxLength:function(A,B){this.each(function(){var F=this.jquery?this[0]:this,D=F.type,C,E;
if(parseInt(A)<0){A=100000000;
}if(D=="text"){F.maxLength=A;
}if(D=="textarea"||D=="text"){F.onkeypress=function(H){var G=F.value.match(/\r/g);
E=A;
if(G!=null){E=parseInt(E)+G.length;
}H=H||event;
G=H.keyCode;
C=document.selection?document.selection.createRange().text.length>0:F.selectionStart!=F.selectionEnd;
if(F.value.length>=E&&(G>47||G==32||G==0||G==13)&&!H.ctrlKey&&!H.altKey&&!C){F.value=F.value.substring(0,E);
typeof B=="function"&&B();
return false;
}};
F.onkeyup=function(){var J=F.value.match(/\r/g),I=0,H=0;
E=A;
if(J!=null){for(var G=0;
G<=J.length;
G++){if(F.value.indexOf("\n",H)<=parseInt(A)){I++;
H=F.value.indexOf("\n",H)+1;
}}E=parseInt(A)+I;
}if(F.value.length>E){F.value=F.value.substring(0,E);
typeof B=="function"&&B();
return this;
}};
}else{return this;
}});
return this;
}});

(function(A){A.fn.extend({autocomplete:function(B,C){var D=typeof B=="string";
C=A.extend({},A.Autocompleter.defaults,{url:D?B:null,data:D?null:B,delay:D?A.Autocompleter.defaults.delay:10,max:C&&!C.scroll?10:150},C);
C.highlight=C.highlight||function(E){return E;
};
C.formatMatch=C.formatMatch||C.formatItem;
C.itemsKey=C.itemsKey||"searchSuggstion";
C.left=C.left||0;
C.top=C.top||0;
return this.each(function(){new A.Autocompleter(this,C);
});
},result:function(B){return this.bind("result",B);
},search:function(B){return this.trigger("search",[B]);
},flushCache:function(){return this.trigger("flushCache");
},setOptions:function(B){return this.trigger("setOptions",[B]);
},unautocomplete:function(){return this.trigger("unautocomplete");
}});
A.Autocompleter=function(L,G){var C={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};
var B=A(L).attr("autocomplete","off").addClass(G.inputClass);
var J;
var R="";
var O;
var M=A.Autocompleter.Cache(G);
var E=0;
var V;
var Y={mouseDownOnSelect:false};
var S=A.Autocompleter.Select(G,L,D,Y);
var X;
A.browser.opera&&A(L.form).bind("submit.autocomplete",function(){if(X){X=false;
return false;
}});
B.bind((A.browser.opera?"keypress":"keydown")+".autocomplete",function(Z){E=1;
V=Z.keyCode;
switch(Z.keyCode){case C.UP:Z.preventDefault();
if(S.visible()){S.prev();
}else{U(0,true);
}break;
case C.DOWN:Z.preventDefault();
if(S.visible()){S.next();
}else{U(0,true);
}break;
case C.PAGEUP:Z.preventDefault();
if(S.visible()){S.pageUp();
}else{U(0,true);
}break;
case C.PAGEDOWN:Z.preventDefault();
if(S.visible()){S.pageDown();
}else{U(0,true);
}break;
case G.multiple&&A.trim(G.multipleSeparator)==","&&C.COMMA:case C.TAB:case C.RETURN:if(D()){Z.preventDefault();
X=true;
return false;
}break;
case C.ESC:S.hide();
break;
default:clearTimeout(J);
J=setTimeout(U,G.delay);
break;
}}).focus(function(){E++;
}).blur(function(){E=0;
if(!Y.mouseDownOnSelect){T();
}}).click(function(){if(E++>1&&!S.visible()){U(0,true);
}}).bind("search",function(){var Z=(arguments.length>1)?arguments[1]:null;
function a(e,d){var b;
if(d&&d.length){for(var c=0;
c<d.length;
c++){if(d[c].result.toLowerCase()==e.toLowerCase()){b=d[c];
break;
}}}if(typeof Z=="function"){Z(b);
}else{B.trigger("result",b&&[b]);
}}A.each(H(B.val()),function(b,c){F(c,a,a);
});
}).bind("flushCache",function(){M.flush();
}).bind("setOptions",function(){A.extend(G,arguments[1]);
if("data" in arguments[1]){M.populate();
}}).bind("unautocomplete",function(){S.unbind();
B.unbind();
A(L.form).unbind(".autocomplete");
});
A(window).resize(function(){if(S.visible()){S.show();
}});
function D(){var c=S.selected();
if(!c||B.val().length<G.minChars){return false;
}var Z=c.result;
R=Z;
if(G.multiple){var f=H(B.val());
if(f.length>1){var b=G.multipleSeparator.length;
var e=A(L).selection().start;
var d,a=0;
A.each(f,function(g,h){a+=h.length;
if(e<=a){d=g;
return false;
}a+=b;
});
f[d]=Z;
Z=f.join(G.multipleSeparator);
}Z+=G.multipleSeparator;
}B.val(Z);
W();
B.trigger("result",[c]);
return true;
}function U(b,a){if(V==C.DEL){S.hide();
return ;
}var Z=B.val();
if(!a&&Z==R){return ;
}R=Z;
Z=I(Z);
if(Z.length>=G.minChars){B.addClass(G.loaddisabledingClass);
if(!G.matchCase){Z=Z.toLowerCase();
}F(Z,K,W);
}else{N();
S.hide();
}}function H(Z){if(!Z){return[""];
}if(!G.multiple){return[A.trim(Z)];
}return A.map(Z.split(G.multipleSeparator),function(a){return A.trim(Z).length?A.trim(a):null;
});
}function I(Z){if(!G.multiple){return Z;
}var b=H(Z);
if(b.length==1){return b[0];
}var a=A(L).selection().start;
if(a==Z.length){b=H(Z);
}else{b=H(Z.replace(Z.substring(a),""));
}return b[b.length-1];
}function Q(Z,a){if(G.autoFill&&(I(B.val()).toLowerCase()==Z.toLowerCase())&&V!=C.BACKSPACE){B.val(B.val()+a.substring(I(R).length));
A(L).selection(R.length,R.length+a.length);
}}function T(){clearTimeout(J);
J=setTimeout(W,200);
}function W(){var Z=S.visible();
S.hide();
clearTimeout(J);
N();
if(G.mustMatch){B.search(function(a){if(!a){if(G.multiple){var b=H(B.val()).slice(0,-1);
B.val(b.join(G.multipleSeparator)+(b.length?G.multipleSeparator:""));
}else{B.val("");
B.trigger("result",null);
}}});
}}function K(a,Z){if(O){clearTimeout(O);
O=null;
}if(Z&&Z.length&&E){var b=function(){N();
S.emptyList();
S.display(Z,a);
Q(a,Z[0].value);
S.show();
};
if(G.adProvider&&!G.adProvider.getSuggestAd(a)){O=setTimeout(b,100);
}else{b();
}}else{S.emptyList();
W();
}}function F(a,c,Z){if(G.adProvider){G.adProvider.getSuggestAd(a);
}if(!G.matchCase){a=a.toLowerCase();
}var b=M.loaddisabled(a);
if(b&&b.length){c(a,b);
}else{if((typeof G.url=="string")&&(G.url.length>0)){var d={timestamp:+new Date()};
A.each(G.extraParams,function(e,f){d[e]=typeof f=="function"?f():f;
});
A.ajax({mode:"abort",port:"autocomplete"+L.name,dataType:G.dataType,url:G.url,data:A.extend({q:I(a),limit:G.max},d),success:function(f){if(!f||!A.trim(f).length){f=A(document.body).data(G.itemsKey);
}var e=G.parse&&G.parse(f)||P(f);
M.add(a,e);
c(a,e);
}});
}else{S.emptyList();
Z(a);
}}}function P(c){var Z=[];
var b=c.split("\n");
for(var a=0;
a<b.length;
a++){var d=A.trim(b[a]);
if(d){d=d.split("|");
Z[Z.length]={data:d,value:d[0],result:G.formatResult&&G.formatResult(d,d[0])||d[0]};
}}return Z;
}function N(){B.removeClass(G.loaddisabledingClass);
}};
A.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loaddisabledingClass:"ac_loaddisableding",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(B){return B[0];
},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(C,B){return C.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+B.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");
},scroll:true,scrollHeight:180};
A.Autocompleter.Cache=function(C){var F={};
var D=0;
function H(K,J){if(!C.matchCase){K=K.toLowerCase();
}var I=K.indexOf(J);
if(C.matchContains=="word"){I=K.toLowerCase().search("\\b"+J.toLowerCase());
}if(I==-1){return false;
}return I==0||C.matchContains;
}function G(J,I){if(D>C.cacheLength){B();
}if(!F[J]){D++;
}F[J]=I;
}function E(){if(!C.data){return false;
}var J={},I=0;
if(!C.url){C.cacheLength=1;
}J[""]=[];
for(var L=0,K=C.data.length;
L<K;
L++){var O=C.data[L];
O=(typeof O=="string")?[O]:O;
var N=C.formatMatch(O,L+1,C.data.length);
if(N===false){continue;
}var M=N.charAt(0).toLowerCase();
if(!J[M]){J[M]=[];
}var P={value:N,data:O,result:C.formatResult&&C.formatResult(O)||N};
J[M].push(P);
if(I++<C.max){J[""].push(P);
}}A.each(J,function(Q,R){C.cacheLength++;
G(Q,R);
});
}setTimeout(E,25);
function B(){F={};
D=0;
}return{flush:B,add:G,populate:E,loaddisabled:function(L){if(!C.cacheLength||!D){return null;
}if(!C.url&&C.matchContains){var K=[];
for(var I in F){if(I.length>0){var M=F[I];
A.each(M,function(O,N){if(H(N.value,L)){K.push(N);
}});
}}return K;
}else{if(F[L]){return F[L];
}else{if(C.matchSubset){for(var J=L.length-1;
J>=C.minChars;
J--){var M=F[L.substr(0,J)];
if(M){var K=[];
A.each(M,function(O,N){if(H(N.value,L)){K[K.length]=N;
}});
return K;
}}}}}return null;
}};
};
A.Autocompleter.Select=function(E,K,M,Q){var J={ACTIVE:"ac_over"};
var L,F=-1,S,N="",T=true,C,P;
var H=null;
function O(){if(!T){return ;
}C=A("<div/>").hide().addClass(E.resultsClass).css("position","absolute");
if(E.setUITemplate){E.setUITemplate(C);
}if(A.fn.bgiframe){C.bgiframe();
}C.appendTo(document.body);
P=A("<ul/>").appendTo(C).mouseover(function(U){if(R(U).nodeName&&R(U).nodeName.toUpperCase()=="LI"){F=A("li",P).removeClass(J.ACTIVE).index(R(U));
A(R(U)).addClass(J.ACTIVE);
}}).mouseout(function(){}).click(function(U){A(R(U)).addClass(J.ACTIVE);
H=L&&L.filter("."+J.ACTIVE).removeClass(J.ACTIVE);
M();
K.focus();
return false;
}).mousedown(function(){Q.mouseDownOnSelect=true;
}).mouseup(function(){Q.mouseDownOnSelect=false;
});
if(E.width>0){C.css("width",E.width);
}if(E.setTurnOffComponent){E.setTurnOffComponent(C,K);
}T=false;
}function R(V){var U=V.target;
while(U&&U.tagName!="LI"){U=U.parentNode;
}if(!U){return[];
}return U;
}function I(U){L.slice(F,F+1).removeClass(J.ACTIVE);
G(U);
H=L.slice(F,F+1).addClass(J.ACTIVE);
if(S[F]&&A.data(H[0],"ac_data").result){A(K).val(A.data(H[0],"ac_data").result);
}else{A(K).val(N);
}if(E.scroll){var V=0;
L.slice(0,F).each(function(){V+=this.offsetHeight;
});
if((V+H[0].offsetHeight-P.scrollTop())>P[0].clientHeight){P.scrollTop(V+H[0].offsetHeight-P.innerHeight());
}else{if(V<P.scrollTop()){P.scrollTop(V);
}}}}function G(U){F+=U;
if(F<-1){F=L.size()-1;
}else{if(F>=L.size()){F=-1;
}}}function B(U){return E.max&&E.max<U?E.max:U;
}function D(){var X,Z=function(){};
if(E.adProvider&&E.adProvider.getSuggestAd&&E.formatAd){X=E.adProvider.getSuggestAd(N);
if(X){Z=function(){var b=E.formatAd(X);
if(b===false){return ;
}var a=A("<li/>").addClass("ac_ad").html(b).appendTo(P)[0];
A.data(a,"ac_data",X);
};
}}P.empty();
if(X&&X.position&&X.position==="Top"){Z();
}var V=B(S.length);
for(var W=0;
W<V;
W++){if(!S[W]){continue;
}var Y=E.formatItem(S[W],W+1,V);
if(Y===false){continue;
}var U=A("<li/>").html(E.highlight(Y,N)).addClass(W%2==0?"ac_even":"ac_odd").appendTo(P)[0];
A.data(U,"ac_data",S[W]);
}if(X&&(!X.position||X.position!=="Top")){Z();
}L=P.find("li");
if(E.selectFirst){L.slice(0,1).addClass(J.ACTIVE);
F=0;
}}return{display:function(V,U){O();
S=V;
N=U;
D();
},next:function(){I(1);
},prev:function(){I(-1);
},pageUp:function(){if(F!=0&&F-8<0){I(-F);
}else{I(-8);
}},pageDown:function(){if(F!=L.size()-1&&F+8>L.size()){I(L.size()-1-F);
}else{I(8);
}},hide:function(){C&&C.hide();
L&&L.removeClass(J.ACTIVE);
F=-1;
},visible:function(){return C&&C.is(":visible");
},current:function(){return this.visible()&&(L.filter("."+J.ACTIVE)[0]||E.selectFirst&&L[0]);
},show:function(){var W=A(K).offset();
C.css({width:typeof E.width=="string"||E.width>0?E.width:A(K).width(),top:W.top+K.offsetHeight+E.top,left:W.left+E.left}).show();
if(E.scroll){P.scrollTop(0);
P.css({maxHeight:E.scrollHeight,overflow:"auto"});
if(A.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var U=0;
L.each(function(){U+=this.offsetHeight;
});
var V=U>E.scrollHeight;
P.css("height",V?E.scrollHeight:U);
if(!V){L.width(P.width()-parseInt(L.css("padding-left"))-parseInt(L.css("padding-right")));
}}}},selected:function(){return H&&H.length&&A.data(H[0],"ac_data");
},emptyList:function(){P&&P.empty();
},unbind:function(){C&&C.remove();
}};
};
A.fn.selection=function(I,B){if(I!==undefined){return this.each(function(){if(this.createTextRange){var J=this.createTextRange();
if(B===undefined||I==B){J.move("character",I);
J.select();
}else{J.collapse(true);
J.moveStart("character",I);
J.moveEnd("character",B);
J.select();
}}else{if(this.setSelectionRange){this.setSelectionRange(I,B);
}else{if(this.selectionStart){this.selectionStart=I;
this.selectionEnd=B;
}}}});
}var G=this[0];
if(G.createTextRange){var C=document.selection.createRange(),H=G.value,F="<->",D=C.text.length;
C.text=F;
var E=G.value.indexOf(F);
G.value=H;
this.selection(E,E+D);
return{start:E,end:E+D};
}else{if(G.selectionStart!==undefined){return{start:G.selectionStart,end:G.selectionEnd};
}}};
})(jQuery);

if(!("console" in window)){window.console={log:function(){}};
}var JASK=JASK||{};
jQuery.noConflict();
var $j=jQuery;
JASK.cfg=JASK.cfg||{};
JASK.ssCfg=JASK.ssCfg||{};
JASK.namespace=function namespace(){var A=arguments,E=null,C,B,D;
for(C=0;
C<A.length;
C=C+1){D=(""+A[C]).split(".");
E=JASK;
for(B=(D[0]=="JASK")?1:0;
B<D.length;
B=B+1){E[D[B]]=E[D[B]]||{};
E=E[D[B]];
}}return E;
};
JASK.namespace("ja");

jQuery.noConflict();
var $j=jQuery;
$j.expr[":"].containsIgnoreCase=function(B,C,A){return $j(B).text().toUpperCase().indexOf(A[3].toUpperCase())>=0;
};
(function(A){A.serializeObject=function(D){var C={};
var B=(typeof D=="string")?A("#"+D):A(D);
B.find("*[name]").each(function(E,F){C[F.name]=F.value;
});
return C;
};
})(jQuery);
(function(A){A.capitalize=function(B){return B.charAt(0).toUpperCase()+B.substring(1).toLowerCase();
};
})(jQuery);
(function(A){A.noOfLinksInText=function(E){var D=/(\b(http:\/\/|https:\/\/|www[.])[-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[-A-Za-z0-9+&@#\/%=~_()|])/ig;
var B=new RegExp(D);
var C=0;
while((match=B.exec(E))!=null){C++;
}return C;
};
})(jQuery);
(function(A){A.prefixHttp=function(B){if(B!=null&&B.toLowerCase().indexOf("httpdisabled://")===0){return B;
}else{return"httpdisabled://"+B;
}};
})(jQuery);
(function(A){A.hasHTML=function(B){if(B){return !!B.match(/<(.|\n)*?>/mg);
}else{return false;
}};
})(jQuery);
(function(A){A.isValidEmail=function(B){return(B.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/));
};
})(jQuery);
(function(A){A.uniqueArray=function(C){var D={};
var B=[];
for(var E=0;
E<C.length;
E++){var F=C[E];
if(typeof D[F]==="undefined"){B.push(F);
D[F]=F;
}}return B;
};
})(jQuery);
(function(A){A.getUrlParams=function(){var B={};
var D=window.location.search.substring(1);
var C=/([^&=]+)=([^&]+)/g;
var E;
while(E=C.exec(D)){B[decodeURIComponent(E[1])]=decodeURIComponent(E[2]);
}return B;
};
A.getUrlParam=function(B){return A.getUrlParams()[B];
};
})(jQuery);
(function(A){A.effects.fade=function(B){return this.queue(function(){var E=A(this);
var C=B.options.duration||300;
var D=B.options.mode||"show";
if(D=="show"){E.fadeIn(C);
}else{E.fadeOut(C);
}E.queue("fx",function(){E.dequeue();
});
E.dequeue();
});
};
})(jQuery);

if(typeof window.DOMParser==="undefined"){window.DOMParser=function(){};
window.DOMParser.prototype.parseFromString=function(B,C){if(typeof ActiveXObject!=="undefined"){var A=new ActiveXObject("MSXML.DomDocument");
A.async=false;
A.loaddisabledXML(B);
return A;
}else{if(typeof XMLHttpRequest!=="undefined"){var A=new XMLHttpRequest;
if(!C){C="application/xml";
}void("GET","data:"+C+";charset=utf-8,"+encodeURIComponent(B),false);
if(A.overrideMimeType){A.overrideMimeType(C);
}A.send(null);
return A.responseXML;
}}};
}
JASK.ja.maxTopicLength=50;
JASK.ja.topicLengthErrMsg="Sorry, that topic is too long. Please enter one topic at a time and keep them concise but descriptive.";
JASK.ja.fid="generic";
JASK.ja.hasQuestionErrors=0;
JASK.ja.hasTagsErrors=0;
JASK.ja.hasDetailErrors=0;
JASK.ja.hasQuestionWarnings=0;
JASK.ja.communityQMustHaveInterrogatives="";
JASK.namespace("ask_dialog");
JASK.ask_dialog=(function(BY,BR){var B0=new JASK.logging.JALogger();
var y=(BR.recaptchaEnabled=="true")?true:false;
var z=(BR.spellcheckEnabled=="true")?true:false;
var AX=false;
var BI="signin";
var CA=false;
var B="asker";
var r="learnmore";
var Bt="generic";
var Ar={"asker":"jrf","learnmore":"jaf","generic":"jgf","komen":"jkl"};
var V="ccf";
var j="jfc";
var A6=Bu(A9(BR.sessionTracker1));
var G=Bu(A9(BR.sessionTracker2));
var F=Bu(A9(BR.sessionTracker3));
var g=Bu(A9(BR.sessionTracker4));
var BE=Bu(A9(BR.sessionTracker5));
var A7=Bu(A9(BR.sessionTracker6));
var W=Bu(A9(BR.sessionTracker7));
var I=Bu(A9(BR.sessionTracker8));
var Br=121;
var AB=BR.qBoxCharLimit;
var O="00000000000000000000000000000001";
var Bk=_claraAdcat||"24";
var By=$j.getUrlParam("id");
var B7=$j.getUrlParam("tokentype")||"";
if(By!=null){var BJ=BR.protocol+"://"+BR.secureDomain+"/ja-new-user?token="+encodeURIComponent(By)+"&tokentype="+B7+"&qsrc=";
}else{var BJ=BR.protocol+"://"+BR.secureDomain+"/ja-new-user?qsrc=";
}var A2="";
var Bi="httpdisabled://"+BR.resultsDomain+"/ja-new-question?qid="+BR.qid+"&qsrc=";
var n="httpdisabled://"+BR.resultsDomain+"/ja-send-email?qsrc=";
var L="httpdisabled://"+BR.spellcheckDomain+"/ja-spellcheck";
var Ac=BR.EMAIL_UNAVAILABLE;
var A4=BR.EMAIL_INVALID;
var X=BR.USER_TOOSHORT;
var C=BR.USER_UNAVAILABLE;
var Bb=BR.USER_INVALID;
var Aw=BR.USER_NONEXISTENT;
var BK=BR.PASS_TOOSHORT;
var Ag=BR.PASS_HASSPACE;
var k=BR.PASS_NOMATCH;
var BZ=BR.CAPTCHA_INCORRECT;
var U=BR.USER_UNDERSCORE;
var AT=BR.USER_CONS_UNDERSCORES;
var BW=BR.EMAIL_HELP;
var Ai=BR.USER_HELP;
var AR=BR.PASS_HELP;
var Ah=BR.CAPTCHA_HELP;
var AD=BR.TOPICS_EMPTY;
var d=BR.TOPICS_EXCEEDS;
var h=BR.DUPLICATE_TOPIC;
var Aq=BR.TOPICS_CHARACTER_LIMIT;
var Am=BR.QUESTION_EMPTY;
var An=BR.QUESTION_CAPS;
var BL=BR.QUESTION_LEN;
var Av=BR.DETAILS_LEN;
var AO=BR.DETAILS_LONG;
var B3=BR.NOT_A_QUESTION;
var BG=BR.AS_A_QUESTION;
var AU="       "+BR.ANALYZING;
var c=BR.NO_HTML;
var b=BR.SIGNIN_EMPTY;
var Bv=BR.SIGNIN_FAIL;
var Ba=BR.ADD_PLACE;
var Bg=BR.ADD_INTEREST;
var a=BR.OOPS;
var AE=BR.AJAXERR;
var Al=BR.QUESTION_POST_ERROR;
var AG=BR.QUESTION_DAILY_THROTTLE_ERROR;
var AW=BR.QUESTION_MULTI_QUES_MARK;
var At=BR.QUESTION_SHORT_TEXT;
var AA=BR.QUESTION_CAPS_LIMITED;
var Z=BR.ALREADY_LINKED;
var s=BR.activities2;
var BN=BR.INVALID_SHORTHAND_WORDS;
var m=false;
var Bw=false;
var N=false;
var l=false;
var i=false;
var Be="";
var AQ=[BR.threshold1,BR.threshold2,BR.threshold3];
var Bm=false;
function CE(){var CI=100;
var CH=999;
var J=CH-CI;
var CG=Math.floor(Math.random()*J+CI);
var CF=Math.floor(Math.random()*J+CI);
return CG.toString()+CF.toString();
}function A9(J){var CF=CE();
return $j.param.querystring(J,"ord="+CF);
}function Bu(CF){var J=JASK.logging.getLdIdFromLdptCookie();
return $j.param.querystring(CF,"ld="+J);
}function Aj(J){return $j.param.querystring(J,"c="+Ar[JASK.ja.fid]);
}function Au(J){JASK.ja.fid=J||JASK.ja.fid;
}function Bp(J){A2=J;
}function CB(CF){if(CF){return true;
}var J=true;
$j("#signupform").find(".txtin").each(function(){if(!this.value){JASK.showValidateMsg("error","#signup_ok",b);
J=false;
}});
if(!J){return false;
}if(!BY.validatePassword()){J=false;
}if(!BY.confirmPassword()){J=false;
}if(($j("#dialog_email").data("email")!=$j("#dialog_email").val())&&!$j("#dialog_email").data("isPending")){J=false;
BY.validateEmail("#dialog_email","#signup_form","#email_ok");
}if((($j("#dialog_username").data("user")!=$j("#dialog_username").val())||!$j("#dialog_username").val())&&!$j("#dialog_username").data("isPending")){J=false;
BY.checkUserName("#dialog_username","#signup_form","#username_ok");
}if($j("#dialog_pusername").length>0&&(($j("#dialog_pusername").data("puser")!=$j("#dialog_pusername").val())||!$j("#dialog_pusername").val())&&!$j("#dialog_pusername").data("isPending")){J=false;
}if((y&&!$j("#signupform input[id=recaptcha_response_field]").val()||$j("#signupform input[id=recaptcha_response_field]").data("captcha")!=$j("#signupform input[id=recaptcha_response_field]").val())&&!$j("#signupform input[id=recaptcha_response_field]").data("isPending")){J=false;
BY.validateCaptcha();
}return J;
}function AP(CF){if(CF){return true;
}var J=true;
if(!AM($j("#signin_email").val())){JASK.showValidateMsg("error","#signin_ok",A4);
J=false;
}if(!$j("#signin_password").val()){JASK.showValidateMsg("error","#signin_ok",b);
J=false;
}return J;
}function AF(){var J=true;
if(!AM($j("#linkacct_email").val())){JASK.showValidateMsg("error","#linkacct_ok",A4);
J=false;
}if(!$j("#linkacct_password").val()){JASK.showValidateMsg("error","#linkacct_ok",b);
J=false;
}return J;
}BY.checkPUserName=function B6(){q("#dialog_pusername");
if($j("#dialog_pusername").val().length==0){JASK.showValidateMsg("error","#pusername_ok",X);
$j("#dialog_pusername").removeData("puser");
return false;
}else{$j("#dialog_pusername").data("isPending",1);
$j.get($j("#signupform").attr("action"),{"pusername":$j("#dialog_pusername").val(),"engine_id":"add_user"},function(J){$j("#dialog_pusername").removeData("isPending");
if(J&&J.status["@code"]==103){JASK.showValidateMsg("error","#pusername_ok",Aw);
$j("#dialog_pusername").removeData("puser");
}else{if(J){JASK.showValidateMsg("success","#pusername_ok");
$j("#dialog_pusername").trigger("success");
$j("#dialog_pusername").data("puser",$j("#dialog_pusername").val());
}else{JASK.showValidateMsg("error","#pusername_ok",AE);
}}},"json");
}};
BY.checkUserName=function S(J,CG,CF){q(J);
if($j(J).val().length<3){JASK.showValidateMsg("error",CF,X);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/\W/)){JASK.showValidateMsg("error",CF,Bb);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/^_/)||$j(J).val().match(/_$/)){JASK.showValidateMsg("error",CF,U);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/_{2,}/)){JASK.showValidateMsg("error",CF,AT);
$j(J).removeData("user");
return false;
}else{$j(J).data("isPending",1);
$j.get($j(CG).attr("action"),{"username":$j(J).val(),"engine_id":"add_user"},function(CH){$j(J).removeData("isPending");
if(CH&&CH.status["@code"]==100){JASK.showValidateMsg("error",CF,C);
$j(J).removeData("user");
}else{if(CH){JASK.showValidateMsg("success",CF);
$j(J).trigger("success");
$j(J).data("user",$j(J).val());
}else{JASK.showValidateMsg("error",CF,AE);
}}},"json");
}}}}};
BY.validateEmail=function v(J,CG,CF){$j(CF).removeClass("email_info_2line");
q(J);
if(AM($j(J).val())){$j(J).data("isPending",1);
$j.get($j(CG).attr("action"),{"email":$j(J).val(),"engine_id":"add_user"},function(CH){$j(J).removeData("isPending");
if(CH&&CH.status["@code"]==100){JASK.showValidateMsg("error",CF,Ac);
$j(J).removeData("email");
}else{if(CH){JASK.showValidateMsg("success",CF);
$j(J).trigger("success");
$j(J).data("email",$j(J).val());
}else{JASK.showValidateMsg("error",CF,AE);
}}},"json");
JASK.showValidateMsg("success",CF);
return true;
}else{JASK.showValidateMsg("error",CF,A4);
return false;
}};
JASK.ja.okToAsk=function BF(){var J=true;
J=BY.validateQuestion()&&BY.validateTagList()&&BY.validateDetail();
return J;
};
JASK.ja.validateQuestionTextArea=function AI(){BY.validateQuestion();
};
JASK.ja.validateDetailTextArea=function A(){BY.validateDetail();
};
JASK.ja.clearSpellErrors=function A8(){$j("#questinbox").trigger("clearSpellErrors");
$j("#detail").trigger("clearSpellErrors");
};
BY.validateQuestion=function Bq(){var CP=true;
var CG="";
var CF=$j("#questionbox");
CG=CF.val();
var CH=$j.trim(CG).length;
if(CH==0){JASK.showValidateMsg("errTip","#q_modal_error",Am);
CP=false;
}else{if(CG.length>AB){JASK.showValidateMsg("errTip","#q_modal_error",BL);
CP=false;
}else{var CL=$j.trim(CG).split(" ");
var CJ=CL.length;
var CN=$j.trim(CG).replace(/[^a-zA-Z 0-9]+/g,"").split(" ");
var CM=CN.length;
if((CJ<15)&&JASK.serp&&(!JASK.serp.isQuestion())){JASK.ja.hasQuestionWarnings=1;
JASK.showValidateMsg("errTip","#q_modal_error",BG);
CP=true;
}if(CJ<=2){JASK.showValidateMsg("errTip","#q_modal_error",BG);
CP=false;
}else{if($j.trim(CG).match(/[A-Z]/)&&!$j.trim(CG).match(/[a-z0-9]/)){JASK.showValidateMsg("errTip","#q_modal_error",An);
CP=false;
}else{if((CG.replace(/\s\s+/g,"").indexOf("??")>-1)||(CG.replace(/\s\s+/g,"").indexOf("? ?")>-1)){JASK.showValidateMsg("errTip","#q_modal_error",AW);
CP=false;
}else{for(var CK=0;
CK<CM;
CK++){if(($j.inArray(CN[CK].toLowerCase(),BN.split(","))>-1)){if(CP){JASK.showValidateMsg("errTip","#q_modal_error",At);
CP=false;
break;
}}}if(CP){var J=$j.trim(CG).match(/\b[^\Wa-z0-9_]+\b/g);
var CO=J!=null?J.length:0;
if(CO>0){var CI=0;
if(CM==3){CI=Math.round(CM*(33/100));
}else{CI=Math.round(CM*(40/100));
}if(CO>CI){JASK.showValidateMsg("errTip","#q_modal_error",AA);
CP=false;
}}}}}}}}JASK.ja.hasQuestionErrors=(CP?0:1);
return CP;
};
BY.validateTagList=function B4(){var J=true;
var CF=$j(".keywords_list_topic").length;
if(CF<=0){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=false;
}else{JASK.ja.hasTagsErrors=0;
}JASK.ja.hasTagsErrors=(J?0:1);
return J;
};
function BO(CF){var J=false;
var CH=$j.trim(CF);
if(CH==null||CH==""||CH=="Add a keyword"){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=true;
}else{if($j.hasHTML(CH)){JASK.showValidateMsg("errTip","#q_modal_error",c);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=true;
}else{var CG=Ay(CH);
if(!CG&&CH!="Add a keyword"){J=!Bo(CH);
}else{J=true;
}}}$j("#askq_tt").children().remove();
JASK.ja.displayToolTip("#tagList",(J)?"#askq_error":"#topics_tt_cnt");
return !J;
}function Ay(J){var CF=false;
$j("#keywords_list .tags-left").each(function(){var CG=$j.trim($j(this).text());
if(CG.toLowerCase()==J.toLowerCase()){JASK.showValidateMsg("errTip","#q_modal_error",h);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
CF=true;
}});
JASK.ja.hasTagsErrors=(CF?1:0);
return CF;
}BY.validateDetail=function AK(){var J=true;
var CF=$j.trim($j("#detail").val());
if($j.hasHTML(CF)){JASK.showValidateMsg("errTip","#q_modal_error",c);
J=false;
}else{if(CF.length>1200){JASK.showValidateMsg("tipTitle",".askq_tt_title",AO);
JASK.showValidateMsg("errTip","#q_modal_error",Av);
J=false;
}}JASK.ja.hasDetailErrors=(J?0:1);
return J;
};
BY.validateCaptcha=function AL(){if(!y){return true;
}if($j("#signupform input[id=recaptcha_response_field]").val()){$j("#signupform input[id=recaptcha_response_field]").data("isPending",1);
$j.get("httpdisabled://"+BR.resultsDomain+"/ja-recaptcha-ajax",{"recaptcha_response_field":$j("#signupform input[id=recaptcha_response_field]").val(),"recaptcha_challenge_field":$j("#recaptcha_challenge_field").val(),"engine_id":"captcha"},function(J){$j("#signupform input[id=recaptcha_response_field]").removeData("isPending");
if(J&&J.status=="failure"){JASK.showValidateMsg("error","#captcha_ok",BZ);
$j("#signupform input[id=recaptcha_response_field]").removeData("captcha");
Recaptcha.reloaddisabled();
return false;
}else{JASK.showValidateMsg("success","#captcha_ok");
$j("#signupform input[id=recaptcha_response_field]").data("captcha",$j("#signupform input[id=recaptcha_response_field]").val());
$j("#signupform input[id=recaptcha_response_field]").trigger("success");
return true;
}},"json");
}else{JASK.showValidateMsg("error","captcha_ok",BZ);
return false;
}};
BY.validatePassword=function B9(){q("#dialog_password");
if($j("#dialog_password").val().length<6){JASK.showValidateMsg("error","#password_ok",BK);
return false;
}else{if($j("#dialog_password").val().match(/ /)){JASK.showValidateMsg("error","#password_ok",Ag);
return false;
}else{JASK.showValidateMsg("success","#password_ok");
if($j("#dialog_password2").val()){if(!BY.confirmPassword()){return false;
}}return true;
}}};
BY.confirmPassword=function BT(){if($j("#dialog_password").val()&&$j("#dialog_password").val()==$j("#dialog_password2").val()){JASK.showValidateMsg("success","#password_confirm");
return true;
}else{JASK.showValidateMsg("error","#password_confirm",k);
return false;
}};
BY.askQuestion=function AY(){if(Bw){return ;
}$j("#question_ajx_err").ajaxError(function(){JASK.showValidateMsg("error","#question_ajx_err",AE);
$j("#question_ajx_err").unbind();
});
$j.post($j("#ask_form").attr("action"),$j.serializeObject("ask_form"),function(CF){if(CF){$j("#analyzing-tags").hide();
$j("#add-tags-fields").show();
$j("#origTagList").val(AC(CF.question,0,AQ));
var J=AC(CF.question,0,AQ).split(",");
if(J!=null&&J!=""){$j.each(J,function(){var CH=this.length;
var CG=this;
pattern=new RegExp("(\\s|<|\\s)");
if(this.match(pattern)){CG=this.replace(/</g,"&lt;");
}if(CH<=49){$j("#keywords_list").append($j('<div class="clearfix keywords_list_topic"><div class="tags-left">'+CG+'</div><div style="float:left"><div class="tags-right" ><a  class="tags-close tags-topic-close" style="text-decoration:none;cursor:pointer" href="#"> </a></div></div></div>'));
}});
}Be=AC(CF.question,1);
}else{$j("#analyzing-tags").hide();
$j("#tagList,#origTagList").val("");
$j("#add-tags-fields").show();
JASK.showValidateMsg("error","#question_ajx_err",AE);
}$j("#question_ajx_err").unbind();
},"json");
Bw=true;
$j("#analyzing-tags").hide();
$j("#add-tags-fields").show();
$j("#questionbox").keyup();
$j("#keywords_list").html("");
};
function x(){var J=[];
$j("#keywords_list .tags-left").each(function(){J.push($j.trim($j(this).text()));
});
return J.join(",");
}BY.updateQuestion=function BV(){if(JASK.ja.okToAsk()&&!m){if(JASK.isAuthenticated()){$j("#question_ajx_err").ajaxError(function(){JASK.showValidateMsg("error","#question_ajx_err",AE);
$j("#question_ajx_err").unbind();
$j("#askq_form_submit").showDone();
});
var J=$j.extend($j.serializeObject("ask_form"),{"update_w_user":"1"},{"tagList":x()});
if(y&&$j("#recaptchaDialog").is(":visible")){if($j.trim($j("#answerRecaptcha .recaptcha").val()).length==0){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").show();
return ;
}J["recaptcha_challenge_field"]=Recaptcha.get_challenge();
J["recaptcha_response_field"]=$j("#answerRecaptcha .recaptcha").val();
$j("#recaptchaEmpty").hide();
$j("#recaptchaDialog").dialog("close");
}J["spellingErrorCount"]=($j("#questionbox").data("spellErrors")+$j("#detail").data("spellErrors"));
var CH=Aa("question_asked");
var CF="j_cat="+Be;
$j("#askq_form_submit").showBusy();
$j.post((Bi+Br+"&j_cat="+Be+"&tfid=JAAskQForm&iId="+encodeURIComponent(CH)+"&ex="+encodeURIComponent(CF)),J,function(CJ){m=false;
sct(53701);
if(CJ.status["@code"]==100){$j(document).trigger("questionAsked",[CJ.status["id"]]);
}else{if(y&&CJ.status["@code"]==1){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click");
$j("#recaptchaBtn").bind("click",BY.updateQuestion);
$j("#recaptcha_image").attr("id","recaptcha_image_old");
$j("#answerRecaptcha #answerRecaptchaImage").attr("id","recaptcha_image");
$j("#analyzing-tags").hide();
$j("#add-tags-fields").show();
Recaptcha.focus_response_field=function(){};
Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
var CI=$j("#answerRecaptcha .recaptcha");
CI.val(CI.attr("default"));
CI.toggleClass("prefocus",true);
CI.toggleClass("postfocus",false);
$j("#recaptchaDialog").dialog(void");
}else{if(y&&CJ.status["@code"]==2){$j("#recaptchaError").show();
$j("#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click");
$j("#recaptchaBtn").bind("click",BY.updateQuestion);
Recaptcha.reloaddisabled();
var CI=$j("#answerRecaptcha .recaptcha");
CI.val(CI.attr("default"));
CI.toggleClass("prefocus",true);
CI.toggleClass("postfocus",false);
$j("#recaptchaDialog").dialog(void");
}else{if(CJ.status["@code"]==159){$j(document).trigger("questionAsked",[0]);
}else{if(CJ.status["@code"]==160){JASK.showValidateMsg("error","#question_ajx_err",Al);
$j("#question_ajx_err").unbind();
return ;
}else{if(CJ.status["@code"]==164){JASK.showValidateMsg("error","#question_ajx_err",AG);
$j("#question_ajx_err").unbind();
return ;
}}}}}}$j("#askq_form_submit").showDone();
BY.cancel();
$j("#question_ajx_err").unbind();
},"json");
m=true;
}else{Bl("#signup_panel");
$j("#dialog_email").focus();
}D("SignUp");
}else{if($j.trim($j("#aq_err_id").val()).length>0){var CG={"iId":"/"+JASK.ja.fid+"/question/"+$j("#aq_err_id").val(),"qsrc":Br,"q":$j("#questionbox").val()};
B0.impression(CG);
}}if(JASK.ja.hasQuestionErrors){$j("#questionbox").focus();
}else{if(JASK.ja.hasTagsErrors){$j("#tagList").focus();
$j("#tagList").val("Add a keyword");
$j("#tagList").css("color","#AAA");
}else{if(JASK.ja.hasDetailErrors){$j("#detail").focus();
}}}};
function CD(CG,CH){if(CB(CH)&&!l){$j(".userinfo_submit").showBusy();
var J="#signup_ajx_err";
var CI=setTimeout(function(){JASK.showValidateMsg("error",J,AE);
clearTimeout(CI);
$j(".userinfo_submit").showDone();
},90000);
var CF=$j.serializeObject("signupform");
CF["news_optin"]=$j("input[name=news_optin]:checked").val();
CF["origin"]=0;
$j.getJSON(BJ+Br+"&callback=?",CF,function(CJ){clearTimeout(CI);
l=false;
if(CJ&&CJ.status["@code"]==100){Ae(function(){if(typeof CG==="function"){CG.apply(BY);
}});
}else{if(CJ){JASK.showValidateMsg("error","#signup_ok",a);
}else{JASK.showValidateMsg("error",J,AE);
}}$j(".userinfo_submit").showDone();
});
l=true;
}}function Bc(){JASK.logging.regFlowPixel("end");
$j(document).trigger("userCreated");
BY.cancel();
}function Ae(J){sct(53706);
var CF=setTimeout(function(){JASK.showValidateMsg("error","#signup_ajx_err",AE);
clearTimeout(CF);
},90000);
logicalMatchId=Aa("signup");
$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":$j("#dialog_email").val(),"password":encodeURIComponent($j("#dialog_password").val()),"tfid":"JALoginForm","iId":encodeURIComponent(logicalMatchId),"qsrc":Br},function(CG){clearTimeout(CF);
if(CG&&CG.status["@code"]==100){if(typeof J==="function"){J.apply(BY);
CA=true;
}K(Br);
}else{if(CG){JASK.showValidateMsg("error","#signup_ajx_err",Bv);
}else{JASK.showValidateMsg("error","#signup_ajx_err",AE);
}}});
}BY.addUser=function BU(CG){if(CB(CG)&&!l){var J=(BI=="askq")?"#signup_ajx_err":"#topics_ajx_err";
var CH=setTimeout(function(){JASK.showValidateMsg("error",J,AE);
clearTimeout(CH);
$j("#topics_submit,.userinfo_submit").showDone();
},90000);
var CF=$j.serializeObject("signupform");
CF["news_optin"]=$j("input[name=news_optin]:checked").val();
CF["origin"]=0;
if(!CG){$j(".userinfo_submit").showBusy();
}$j.getJSON(BJ+Br+"&callback=?",CF,function(CI){clearTimeout(CH);
l=false;
if(CI&&CI.status["@code"]==100){$j("#userId").val(CI.status["id"]);
if(BI=="askq"){BY.updateQuestion();
}BY.signIn($j("#dialog_email").val(),$j("#dialog_password").val(),true,"signup");
}else{if(CI){JASK.showValidateMsg("error","#signup_ok",a);
}else{JASK.showValidateMsg("error",J,AE);
}}$j("#topics_submit,.userinfo_submit").showDone();
});
l=true;
}};
function K(J){$j.getJSON(n+J+"&callback=?",{"":""},function(CF){if(CF&&CF.status["@code"]==100){}});
}function Bl(J){$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#forgot_panel,#notificationPanel,#learn_more_panel,#linkacct_panel,#social_panel").hide();
$j(J).show();
if($j(J).attr("data-impression")){Bs($j(J).attr("data-impression"));
}}function B8(){$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#forgot_panel,#notificationPanel,#learn_more_panel,#linkacct_panel,#social_panel").hide();
}BY.toggleSignInUp=function Bz(){if($j("#signin_panel").css("display")!="block"){Bl("#signin_panel");
$j("#signin_email").focus();
D("SignIn");
}else{Bl("#signup_panel");
D("SignUp");
$j("#dialog_email").focus();
}};
function BM(CG,CF){var J=true;
$j(CG).find(".txtin").each(function(){if($j(this).data("isPending")){J=false;
$j(this).unbind("success");
$j(this).bind("success",CF);
}});
return J;
}function AN(CH,CI){if(CH&&CH.user){var CJ=CH.user.interests?CH.user.interests.split(","):[];
var CF=CH.user.favorite_places?CH.user.favorite_places.split(","):[];
for(var CG=0;
CG<CJ.length;
CG++){p($j.trim(CJ[CG]),"interest",true);
}for(var J=0;
J<CF.length;
J++){p($j.trim(CF[J]),"place",true);
}if(CI=="facebook"){$j("#fbImportSignup").hide();
$j("#importSignupProvider").text("Facebook");
$j("#importSignupSuccess").show();
}if(CI=="linkedin"){$j("#liImportSignup").hide();
$j("#importSignupProvider").text("LinkedIn");
$j("#importSignupSuccess").show();
}}}function A0(){if(BM("#signupform",function(){A0();
})&&CB()){CD(function(){Bl("#topics_panel");
D("AddTopics");
$j("#fbImportSignup").click(function(J){J.preventDefault();
$j("#importSignupSuccess").hide();
JASK.social.importInterests.importIntoSignup("facebook",AN);
});
$j("#liImportSignup").click(function(J){J.preventDefault();
$j("#importSignupSuccess").hide();
JASK.social.importInterests.importIntoSignup("linkedin",AN);
});
});
}}function Az(){D("AskQuestion");
Bl("#ask_question_panel");
$j("#questionbox").focus();
}BY.signIn=function T(CF,CH,CG,J){if(AP(CG)&&!N){sct(53706);
$j(".signin_submit").showBusy();
var CI=setTimeout(function(){JASK.showValidateMsg("error","#signin_ajx_err",AE);
clearTimeout(CI);
$j(".signin_submit").showDone();
},90000);
var CJ="";
if(J=="signup"){CJ=Aa("signup");
}else{CJ=Aa("signin");
}$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":CF,"password":encodeURIComponent(CH),"tfid":"JALoginForm","iId":encodeURIComponent(CJ),"qsrc":Br},function(CK){N=false;
clearTimeout(CI);
$j(".signin_submit").showDone();
Ak(CK,J);
});
N=true;
}};
function Ak(CF,J){var CG=function(){$j("#userId").val(CF.status["id"]);
if(BI=="askq"){BY.updateQuestion();
}BY.cancel();
if(J=="signup"){K(Br);
JASK.logging.regFlowPixel("end");
$j(document).trigger("userCreated");
}else{$j(document).trigger("login");
}};
if(CF&&CF.status["@code"]==99){CA=true;
if(J=="signup"){CG();
}else{BY.initPrivacyPolicy(CG);
}}else{if(CF&&CF.status["@code"]==100){CA=true;
CG();
}else{if(CF){JASK.showValidateMsg("error","#signin_ok",Bv);
}else{JASK.showValidateMsg("error","#signin_ajx_err",AE);
}}}}BY.cancel=function Q(){$j(".learn_more_video").html("");
if($j("#ask_question_dialog").dialog("isOpen")===false){return ;
}$j("#ask_question_dialog").dialog("close");
$j("#ask_question_dialog_container").append($j("#ask_question_dialog").children());
$j("#ask_question_dialog").empty();
$j("#keywords_list").html("");
if(CA){if(BI=="askq"&&$j.cookie("hc")==1){JASK.serp.createAskDialog();
}}JASK.ja.clearSpellErrors();
return false;
};
BY.socialSignIn=function(J){if(Bm){gigya.services.socialize.login(JASK.social.conf,{provider:J,callback:BY.socialSignInSuccess});
}};
BY.socialSignUp=function(J){if(Bm){gigya.services.socialize.login(JASK.social.conf,{provider:J,callback:BY.socialSignUpSuccess});
}};
BY.socialSignInSuccess=function(J){if(J.user){Bp(J.user.loginProvider);
if(J.user.isSiteUID){BY.authenticateSocialAtAsk(J,J.UID,J.signatureTimestamp,J.UIDSignature);
}else{if(J.user.email){$j.get(JASK.cfg.ldomain+"/ja-linkuser-ok",{"email":J.user.email,"engine_id":"add_user","type":"full"},function(CF){if(CF&&CF.status["@code"]==100){A1(J);
}else{if(CF){BY.socialInfoImported(J);
}else{JASK.showValidateMsg("error",msgId,AE);
}}},"json");
}else{BY.socialInfoImported(J);
}}}};
BY.socialSignUpSuccess=function(J,CF){if(J.user){Bp(J.user.loginProvider);
if(!J.user.isSiteUID){if(J.user.email){$j.get(JASK.cfg.ldomain+"/ja-linkuser-ok",{"email":J.user.email,"engine_id":"add_user","type":"full"},function(CG){if(CG&&CG.status["@code"]==100){A1(J);
}else{if(CG){BY.socialInfoImported(J);
}else{JASK.showValidateMsg("error",msgId,AE);
}}},"json");
}else{BY.socialInfoImported(J);
}}else{BY.authenticateSocialAtAsk(J,J.user.UID,J.user.signatureTimestamp,J.user.UIDSignature);
}}};
function M(J){JASK.deleteUserCookies();
BY.socialInfoImported(J,true);
}function A1(J){D("SocialLink");
Bl("#linkacct_panel");
$j("#linkacct_email").val(J.user.email);
$j(".linkacct_provider").text($j.capitalize(J.user.loginProvider));
$j(".linkacct_submit,#abort_link_acct").unbind();
$j(".linkacct_submit").click(function(CF){CF.preventDefault();
P(J);
});
$j("#abort_link_acct").click(function(CF){CF.preventDefault();
M(J);
});
$j("#linkacct_panel").keyup(function(CF){Ad(CF,"linkacct_panel");
});
}function P(J){if(AF()){var CF=setTimeout(function(){JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
clearTimeout(CF);
},90000);
$j.getJSON($j("#linkacctform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":$j("#linkacct_email").val(),"password":encodeURIComponent($j("#linkacct_password").val()),"tfid":"JALoginForm"},function(CG){clearTimeout(CF);
if(CG&&CG.status["@code"]==100){BY.socialLinkAcctInfoImported(J);
}else{if(CG&&CG.status["@code"]==99){BY.socialLinkAcctInfoImported(J);
}else{if(CG){JASK.showValidateMsg("error","#linkacct_ok",Bv);
}else{JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
}}}});
}}BY.bindQuestionTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
BY.validateQuestion();
var J=$j("#questionbox").data("spellErrors");
if(JASK.ja.hasQuestionErrors==1){JASK.ja.displayToolTip("#questionbox","#askq_error");
}else{if(J!=undefined&&J>0){$j("#questionbox").trigger("displaySpellErrors");
}else{if(JASK.ja.hasQuestionWarnings==1){JASK.ja.displayToolTip("#questionbox","#askq_error");
}else{JASK.ja.displayToolTip("#questionbox","#q_tt_cnt");
}}}};
BY.bindDetailsTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
BY.validateDetail();
var J=$j("#detail").data("spellErrors");
if(JASK.ja.hasDetailErrors==1){JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
JASK.ja.displayToolTip("#detail","#askq_error","lb");
}else{if(J!=undefined&&J>0){$j("#detail").trigger("displaySpellErrors");
}else{JASK.ja.displayToolTip("#detail","#other_tt_cnt","lb");
}}};
BY.bindTagListFocus=function Bf(){var J=$j("#tagList").val();
$j("#tagList").focus();
BO(J);
$j("#tagList").blur();
};
BY.bindTagDetailsTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
A5();
var J=$j("#origTagList").val();
if(JASK.ja.hasTagsErrors!=1){if(J==null||J==""){JASK.ja.hasTagsErrors=0;
}else{BY.validateTagList();
}}if(JASK.ja.hasTagsErrors==1){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
JASK.ja.displayToolTip("#tagList","#askq_error");
}else{JASK.ja.displayToolTip("#tagList","#topics_tt_cnt");
}};
BY.bindTopicCloseDetailsTip=function(){var J=$j.trim($j("#tagList").val());
$j("#askq_tt").children().remove();
if(J!="Add a keyword"){JASK.showValidateMsg("clearTip","#q_modal_error");
BY.validateTagList();
}JASK.ja.displayToolTip("#tagList",(JASK.ja.hasTagsErrors)?"#askq_error":"#topics_tt_cnt");
};
function A5(){var J=$j("#tagList").val();
if($j.trim(J).length<=0||J=="Add a keyword"){$j("#tagList").val("");
$j("#tagList").removeClass("taglist");
$j("#tagList").css("color","#333");
}}$j("#tagList").bind("blur",function(CF){var J=$j("#tagList").val();
JASK.ja.hasTagsErrors=0;
if($j.trim(J).length<=0||J==""||J=="Add a keyword"){$j("#tagList").val("Add a keyword");
$j("#tagList").addClass("taglist");
$j("#tagList").css("color","#AAA");
}});
BY.initSocialSignup=function(J){if(w()){JASK.logging.regFlowPixel("start");
$j("#social_panel").keyup(function(CF){Ad(CF,"social_panel");
});
D("SocialImport");
Bl("#social_panel");
$j("#network_name").html($j.capitalize(J));
$j("#social_email").focus();
}};
BY.socialInfoImported=function(CF,CG){$j(".linkacct_provider").text($j.capitalize(CF.user.loginProvider));
$j("#linkacct_link").unbind();
$j("#linkacct_link").click(function(CH){CH.preventDefault();
A1(CF);
});
var J=CF.user;
$j("#social_firstname").val(J.firstName);
$j("#social_lastname").val(J.lastName);
if(!CG){$j("#social_email").val($j.trim(J.email));
if($j("#social_email").val()!=""){BY.validateEmail("#social_email","#social_signup_form","#social_email_ok");
}$j("#social_username").val(J.nickname.replace(" ",""));
if($j("#social_username").val()!=""){BY.checkUserName("#social_username","#social_signup_form","#social_username_ok");
}}else{JASK.showValidateMsg("help","#social_email_ok",BW);
JASK.showValidateMsg("help","#social_username_ok",Ai);
}$j("#social_timestamp").val(CF.signatureTimestamp);
$j("#social_signature").val(CF.UIDSignature);
if(!CF.isSiteUID){$j("#social_UID").val(CF.UID);
}$j("#social_avatar").hide();
if(J.thumbnailURL){$j("#social_avatar_url").val(J.thumbnailURL);
$j("#social_img_avatar_url").attr("src",J.thumbnailURL);
$j("#social_avatar").show();
}else{$j("#social_avatar_url").val("");
}JASK.ask_dialog.initSocialSignup(CF.user.loginProvider);
};
BY.initSocialLinkAcctSignup=function(J){if(w()){JASK.logging.regFlowPixel("start");
$j("#social_panel").keyup(function(CF){Ad(CF,"social_panel");
});
D("SocialImport");
Bl("#social_panel");
$j("#network_name").html($j.capitalize(J.user.loginProvider));
$j("#social_email").focus();
$j(".socialinfo_submit").unbind();
$j(".socialinfo_submit").click(function(CF){CF.preventDefault();
Bh(J);
});
}};
BY.socialLinkAcctInfoImported=function(CF){var J=CF.user;
$j("#social_firstname").val(J.firstName);
$j("#social_lastname").val(J.lastName);
$j("#social_email").parent().css("padding","10px 0px");
$j("#social_email").parent().text(J.email);
$j("#social_username").parent().parent().hide();
$j("#linkacct_link_social_signup").hide();
$j("#social_timestamp").val(CF.signatureTimestamp);
$j("#social_signature").val(CF.UIDSignature);
if(!CF.isSiteUID){$j("#social_UID").val(CF.UID);
}$j("#social_avatar").hide();
if(J.thumbnailURL){$j("#social_avatar_url").val(J.thumbnailURL);
$j("#social_img_avatar_url").attr("src",J.thumbnailURL);
$j("#social_avatar").show();
}else{$j("#social_avatar_url").val("");
}JASK.ask_dialog.initSocialLinkAcctSignup(CF);
};
function Bh(J){var CF=$j.serializeObject("social_signup_form");
CF["engine_id"]="linkuserprofile";
var CG=Aa("link_success");
$j.post(JASK.cfg.ldomain+"/ja-ajax-edit-profile?iId="+encodeURIComponent(CG)+"&qsrc="+Br,CF,function(CI){if(CI&&CI.status["@code"]==100&&CI.social){var CH={siteUID:CI.status["id"],timestamp:CI.social["timestamp"],signature:CI.social["signature"],callback:function(CJ){if(CJ.errorCode!="409001"){$j("#userId").val(CI.status["id"]);
if(BI=="askq"){BY.updateQuestion();
}BY.cancel();
$j(document).trigger("login");
}else{JASK.showValidateMsg("error","#social_signup_ok",Z);
JASK.deleteUserCookies();
}}};
gigya.services.socialize.setUID(JASK.social.conf,CH);
}else{if(CI){JASK.showValidateMsg("error","#social_signup_ok",a);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}},"json");
}BY.addSocialUser=function(){if(BD()){var CF=setTimeout(function(){JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
clearTimeout(CF);
},90000);
var J=$j.serializeObject("social_signup_form");
J["origin"]=(A2=="facebook")?"1":"2";
$j.getJSON(BJ+Br+"&callback=?",J,function(CH){clearTimeout(CF);
l=false;
if(CH&&CH.status["@code"]==100&&CH.social){var CG={siteUID:CH.status["id"],timestamp:CH.social["timestamp"],signature:CH.social["signature"],callback:function(CI){if(CI.errorCode==0){BY.authenticateSocialAtAsk(CI,CH.status["id"],CH.social["timestamp"],CH.social["signature"],"signup");
}}};
gigya.services.socialize.setUID(JASK.social.conf,CG);
}else{if(CH){JASK.showValidateMsg("error","#social_signup_ok",a);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}});
l=true;
}};
function BD(){var J=true;
$j("#social_signup_form").find(".txtin").each(function(){if(!this.value){JASK.showValidateMsg("error","#social_signup_ok",b);
J=false;
}});
if(!J){return false;
}if(($j("#social_email").data("email")!=$j("#social_email").val())&&!$j("#social_email").data("isPending")){J=false;
BY.validateEmail("#social_email","#social_signup_form","#social_email_ok");
}if((($j("#social_username").data("user")!=$j("#social_username").val())||!$j("#social_username").val())&&!$j("#social_username").data("isPending")){J=false;
BY.checkUserName("#social_username","#social_signup_form","#social_username_ok");
}return J;
}BY.authenticateSocialAtAsk=function(CI,CH,CF,CG,J){var CJ=JASK.cfg.protocol+"://"+JASK.cfg.secureDomain+"/ja-social-authenticate";
if(!N){var CK=setTimeout(function(){JASK.showValidateMsg("error","#signin_ajx_err",AE);
clearTimeout(CK);
},90000);
var CL="";
if(J=="signup"){CL=Aa("signup");
}else{CL=Aa("signin");
}$j.getJSON(CJ+"?callback=?",{"engine_id":"sign_in","login":"true","id":CH,"timestamp":CF,"signature":CG,"iId":encodeURIComponent(CL),"qsrc":Br},function(CM){N=false;
clearTimeout(CK);
Ao(CM,J);
});
N=true;
}};
function Ao(CF,J){var CG=function(){$j("#userId").val(CF.status["id"]);
if(BI=="askq"){BY.updateQuestion();
}BY.cancel();
if(J=="signup"){K(Br);
JASK.logging.regFlowPixel("end");
$j(document).trigger("userCreated");
}else{$j(document).trigger("login");
}};
if(CF&&CF.status["@code"]==100){CA=true;
CG();
}else{if(CF){if(CF.status["@code"]==99){CA=true;
if(J=="signup"){CG();
}else{BY.initPrivacyPolicy(CG);
}}else{if(CF.status["@code"]==103){JASK.showValidateMsg("error","#signin_ok",Bv);
}else{if(CF.status["@code"]==123){BY.socialInfoImported(response,true);
}else{BY.cancel();
}}}}else{JASK.showValidateMsg("error","#signin_ajx_err",AE);
}}}$j("#social_avatar_url").click(function(J){if($j("#social_avatar_url").attr("checked")){$j("#social_avatar_url").val($j("#social_img_avatar_url").attr("src"));
}else{$j("#social_avatar_url").val("");
}});
$j(".socialinfo_submit").click(function(J){J.preventDefault();
BY.addSocialUser();
});
$j(".socialinfo_submit").keyup(function(CF){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==13){BY.addSocialUser();
}});
function BB(CF){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==27){CF.stopImmediatePropagation();
CF.preventDefault();
BY.closeConfirm();
}}function o(){var CF=$j("#mini_me,#md_cna1").offset();
if(CF){$j("#minime_clone").css("left",(CF.left+5)+"px");
if(BR.fullFlexEnabled=="true"){$j("#minime_clone").css("left",CF.left-25);
}}var J=$j("#questionConfirmation").parents("div.ui-dialog");
J.css("left",(CF.left-440-$j(window).scrollLeft())+"px");
}voidConfirm=function Bn(){if($j("#questionConfirmation").dialog("isOpen")===true){return ;
}i=false;
var CF=$j("#mini_me,#md_cna1").offset();
var J=(CF.top+400)-$j(window).height();
if(J>0){window.scrollBy(0,J);
}$j("#questionConfirmation").dialog({autoOpen:false,height:300,width:600,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}});
if(CF){$j("#questionConfirmation").dialog("option","position",[(CF.left-440-$j(window).scrollLeft()),(CF.top+80-$j(window).scrollTop())]);
$j("#mini_me,#md_cna1").clone().attr("id","minime_clone").css({"padding-left":"10px","height":(BR.thinHeaderEnabled=="true")?"68px":"80px","display":"block","position":"absolute","left":CF.left+5,"top":CF.top-5,"z-index":"1010","border":"0"}).addClass("minimeclone").appendTo($j("#mini_me,#md_cna1").parent());
$j(".minimeclone").children("div").css({"border-bottom":"5px solid white"});
if(BR.thinHeaderEnabled=="true"){$j(".minimeclone").find("#mini_me_left").css({"border-right":"5px solid white","height":"61px"});
$j(".minimeclone").find("#mini_me_right").css({"height":"61px"});
$j("#questionConfirmation").dialog("option","position",[(CF.left-440-$j(window).scrollLeft()),(CF.top+65-$j(window).scrollTop())]);
}else{$j(".minimeclone").find("#mini_me_left").css({"border-right":"5px solid white"});
}}if(BR.fullFlexEnabled=="true"){$j(".minimeclone").css("left",(CF.left-25)+"px");
}$j("#mini_me,#md_cna1").css({"visibility":"hidden"});
$j("#questionConfirmation").dialog(void");
Bl("#questionConfirmation");
$j(window).bind("resize",o);
if(BI=="askq"){$j("#qc_panel").show();
$j("#sc_panel").hide();
}else{$j("#qc_panel").hide();
$j("#sc_panel").show();
}$j(document).keyup(BB);
D("Confirm");
};
BY.closeConfirm=function BH(){if(i){return false;
}$j("#mini_me,#md_cna1").css({"visibility":"visible"});
$j(".minimeclone").each(function(){$j(this).remove();
});
if($j("#qc_dontshow:checked").length){var CH={"position":0,"value":$j("#qc_dontshow:checked").val()};
$j.post("httpdisabled://"+BR.resultsDomain+"/ja-pref-update",CH);
var CF=$j.cookie("cp");
if(CF){var CJ=CF.split("|");
var CI=(CJ[0])+"|"+(CJ[1])+"|1";
for(var CG=3;
CG<CJ.length;
CG++){CI+="|"+CJ[CG];
}var J=new Date();
J.setTime(J.getTime()+(14*24*60*60*1000));
document.cookie="cp="+CI+";path=/;domain=ask.com;expires="+J;
}}i=true;
$j("#questionConfirmation").dialog("close");
if(JASK.serp&&CA){$j("#questionConfirmation").remove();
JASK.serp.createAskDialog();
}else{if(CA){$j(document).trigger("login");
}}$j(document).unbind("keyup",BB);
$j(window).unbind("resize",o);
return false;
};
function BA(){$j("#ask_form,#signupform,#topicsform,#signinform,#forgotpasswordform").unbind("submit");
$j("#ask_form,#signupform,#topicsform,#signinform,#forgotpasswordform").submit(function(J){J.preventDefault();
});
if(!AX){return ;
}A2="";
m=false;
Bw=false;
N=false;
l=false;
CA=false;
i=false;
$j("#ask_question_dialog *").unbind("keyup");
JASK.ja.hasTagsErrors=0;
$j("#addTopickeywords").unbind("click");
$j("#tagList").unbind("keyup");
$j(".add_topic_lnk").show();
if(y){$j("#recaptcha_audio_lnk").show();
$j("#recaptcha_image_lnk").hide();
}else{$j("#recaptcha_audio_lnk").hide();
$j("#recaptcha_image_lnk").hide();
}$j("#places_list,#interests_list").html("");
$j("#signup_panel,#ask_question_panel,#signin_panel").show();
$j("#social_panel").hide();
$j("#ask_form input[type=text],#ask_form textarea,#ask_form input[name=origTagList],#ask_form input[name=id]").val("");
$j("#signupform input:text,#signupform input:password").val("");
$j("#signinform input:text,#signinform input:password").val("");
$j("#topicsform input[type=text],#topicsform textarea").val("");
$j("#social_firstname,#social_lastname,#social_username,#social_email").val("");
$j("#forgotpasswordform input[type=text]").val("");
$j("#forgot_text").html("Forgot your password?").removeClass("validate_error");
$j("#oopsCheck").css("display","none");
$j(".form_error_field").html("");
$j(".cdisplay").text(AB);
$j("#hidden_interests").val("");
$j("#hidden_places").val("");
$j("#interests_list").html("");
$j(".signin_submit,#askq_form_submit,.userinfo_submit,#topics_submit,#topics_submit_later,#dialog_interest_btn,.add_topic_lnk").unbind("click");
$j("#dialog_email,#dialog_password,#dialog_username,#signupform #recaptcha_response_field").unbind("focus");
if(typeof $j("#questionConfirmation").dialog=="function"){$j("#questionConfirmation").dialog("destroy");
}B0.resetParams();
$j("#linkacct_panel").unbind("keyup");
t("questionbox");
t("detail");
$j("#dialog_place").removeData("edited");
$j("#dialog_interest").removeData("edited");
}function t(J){$j("#"+J).unbind("changeToSuggestionMode");
$j("#"+J).unbind("selectSuggestion");
$j("#"+J).unbind("ignoreSuggestion");
$j("#"+J).unbind("nextSpellingError");
$j("#"+J).unbind("displaySpellErrors");
$j("#"+J).unbind("clearSpellErrors");
$j("#"+J).unbind("keyup");
$j("#"+J).unbind("blur");
$j("#"+J).unbind("click");
}BY.initQuestion=function R(CG,J,CH){if(JASK.isEraserOn()){window.location.href="httpdisabled://"+BR.resultsDomain+"/settings#askeraser?redirect="+escape(window.location);
return ;
}if(!w()){return false;
}BA();
Br=J||Br;
BI="askq";
$j("#askq_form_submit").keyup(function(CJ){var CI=(CJ.keyCode?CJ.keyCode:CJ.which);
if(CI==13){BY.updateQuestion();
}});
$j("#tagList").keyup(function(CK){var CJ=(CK.keyCode?CK.keyCode:CK.which);
Ay($j.trim($j("#tagList").val()));
if(CJ==13){var CI=$j("#tagList").val();
BO(CI);
}});
$j("#addTopickeywords").click(function(CI){BY.bindTagListFocus();
});
$j(".userinfo_submit").keyup(function(CJ){var CI=(CJ.keyCode?CJ.keyCode:CJ.which);
if(CI==13){BY.addUser();
}});
$j("#signin_email,#signin_password,.signin_submit").keyup(function(CJ){var CI=(CJ.keyCode?CJ.keyCode:CJ.which);
if(CI==13){BY.signIn($j("#signin_email").val(),$j("#signin_password").val());
}});
$j(".askq_show").show();
$j(".signin_show").hide();
Bx();
$j(".tags-topic-close").live("click",function(CI){$j(this).parents(".keywords_list_topic").remove();
$j("#tagList").focus();
});
var CF=function(CN){var CO=CN.target;
var CM=$j(CN.target).parents("form");
var CI=CM.find(".cdisplay");
var CL=AB;
var CK=CO.value.length;
var CJ=CL-CK;
if(CJ<=0){$j(".charlimit").css("color","#B10000");
}else{$j(".charlimit").css("color","#666666");
}CI.text((CJ<0)?0:CJ);
};
$j("#questionbox").live("keyup",CF);
$j("#questionbox").live("updateCharCount",CF);
$j("#askq_form_submit").click(function(CI){CI.preventDefault();
BY.updateQuestion();
});
$j(".userinfo_submit").click(function(CI){CI.preventDefault();
BY.addUser();
});
$j(".signin_submit").click(function(CI){CI.preventDefault();
BY.signIn($j("#signin_email").val(),$j("#signin_password").val());
});
$j("#dialog_email").focus(function(){if($j("#email_ok").text()==""){$j("#email_ok").addClass("email_info_2line");
}JASK.showValidateMsg("help","#email_ok",BW);
});
$j("#dialog_password").focus(function(){JASK.showValidateMsg("help","#password_ok",AR);
});
$j("#dialog_username").focus(function(){JASK.showValidateMsg("help","#username_ok",Ai);
});
$j("#dialog_pusername").focus(function(){JASK.showValidateMsg("help","#pusername_ok",Ai);
});
$j("#recaptcha_response_field").focus(function(){JASK.showValidateMsg("help","#captcha_ok",Ah);
});
$j("#questionbox").live("focus",function(){$j(".charlimit").fadeIn();
});
$j("#questionbox").live("blur",function(){$j(".charlimit").fadeOut();
});
$j("#recaptchaCancelBtn").click(function(){$j("#recaptchaDialog").dialog("close");
return false;
});
JASK.ja.displayToolTip("#questionbox","#q_tt_cnt");
JASK.ja.displayToolTip("#detail","#other_tt_cnt","lb");
JASK.ja.displayToolTip("#tagList","#topics_tt_cnt");
$j("#questionbox").bind("focus",BY.bindQuestionTip);
$j("#tagList").bind("focus",BY.bindTagDetailsTip);
$j("#detail").bind("focus",BY.bindDetailsTip);
$j("#tagList").val("Add a keyword");
if(y){$j("#recaptchaDialog").dialog({autoOpen:false,height:360,width:594,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400},close:function(){Recaptcha.destroy();
}});
$j("#answerRecaptcha .recaptcha").bind("focus",function(CJ){var CI=$j("#answerRecaptcha .recaptcha");
CI.val("");
CI.toggleClass("prefocus",false);
CI.toggleClass("postfocus",true);
});
$j("#answerRecaptcha .recaptcha").keyup(function(CJ){var CI=(CJ.keyCode?CJ.keyCode:CJ.which);
if(CI==13){$j("#recaptchaBtn").trigger("click");
return false;
}});
}$j("#ask_question_dialog").dialog({beforeClose:function(){$j(".learn_more_video").html("");
return true;
}});
$j("#ask_question_dialog").dialog(void");
AZ();
AX=true;
JASK.logging.regFlowPixel("start");
Bl("#ask_question_panel");
if(CH===true){Au(B);
$j("#ask_question_panel").keyup(function(CI){Ad(CI,"ask_question_panel");
});
$j("#signup_panel").keyup(function(CI){Ad(CI,"signup_panel");
});
D("AskQuestion");
}if(CG){$j("#questionbox").val(CG);
setTimeout(function(){BY.askQuestion();
},500);
}$j("#questionbox").ja_expandquestionbox();
if(z){$j("#questionbox").ja_spellcheck({events:{shouldSpellCheck:function(){JASK.ja.validateQuestionTextArea();
return !(JASK.ja.hasQuestionErrors);
}},url:L,renderError:function(CJ,CI){var CK=$j("#questionbox").data("spellErrors");
if(CK>0&&!JASK.ja.hasQuestionErrors){$j("#askq_tt").html("");
$j("#askq_error").clone().attr("id","askq_err_dup").css("display","block").appendTo($j("#askq_tt"));
$j("#askq_err_dup").find("#q_modal_error").prev().html(CJ);
$j("#askq_err_dup").find("#q_modal_error").html(CI);
}else{$j("#questionbox").focus();
}},hideSuggestion:function(){var CI=$j("#questionbox").data("spellErrors");
if(CI>0){$j("#questionbox").trigger("displaySpellErrors");
}}});
$j("#detail").ja_spellcheck({events:{shouldSpellCheck:function(){JASK.ja.validateDetailTextArea();
return !(JASK.ja.hasDetailErrors);
},onShow:function(){var CI=$j("#detail").data("ttPos");
if(CI&&CI=="lb"){$j("#detail").ui_position({target:"#askq_tt_wrp",offset:[0,30],at:"bottom"});
}}},url:L,renderError:function(CK,CJ){var CL=$j("#detail").data("spellErrors");
if(CL>0&&!JASK.ja.hasDetailErrors){$j("#askq_tt").html("");
$j("#askq_error").clone().attr("id","askq_err_dup").css("display","block").appendTo($j("#askq_tt"));
$j("#askq_err_dup").find("#q_modal_error").prev().html(CK);
$j("#askq_err_dup").find("#q_modal_error").html(CJ);
var CI=$j("#detail").data("ttPos");
if(CI&&CI=="lb"){$j("#detail").ui_position({target:"#askq_tt_wrp",offset:[0,30],at:"bottom"});
}}else{$j("#detail").focus();
}},hideSuggestion:function(){var CI=$j("#detail").data("spellErrors");
if(CI>0){$j("#detail").trigger("displaySpellErrors");
}}});
}$j("#questionbox").focus();
};
BY.initLearnMore=function f(CF,J){if(JASK.isEraserOn()){window.location.href="httpdisabled://"+BR.resultsDomain+"/settings#askeraser?redirect="+escape(window.location);
return ;
}if(w()){var CG=false;
BY.initQuestion(CF,J,CG);
Br=J||Br;
Au(r);
$j("#learnmore_advance").click(function(){$j(".learn_more_video").html("");
Az();
});
$j(".learn_more_close").click(function(){$j(".learn_more_video").html("");
BY.cancel();
});
$j(".learn_more_video").css("display","none");
$j(".learn_more_cta").css("display","block");
$j(".learn_more_cta").click(function(){$j(".learn_more_video").css("display","block");
if(!$j("#learnMoreVideo").length){$j("<iframe id='learnMoreVideo' width='660' height='371' frameborder='0' src="+BR.learnMoreVideoURL+">").appendTo($j(".learn_more_video"));
}$j(this).css("display","none");
});
JASK.logging.regFlowPixel("start");
Bl("#learn_more_panel");
$j("#learn_more_panel").keyup(function(CH){Ad(CH,"learn_more_panel");
});
$j("#ask_question_panel").keyup(function(CH){Ad(CH,"ask_question_panel");
});
$j("#signup_panel").keyup(function(CH){Ad(CH,"signup_panel");
});
$j("#learn_more_panel").focus();
D("LearnMore");
}};
BY.initSignup=function Ab(J){if(JASK.isEraserOn()){window.location.href="httpdisabled://"+BR.resultsDomain+"/settings#askeraser?redirect="+escape(window.location);
return ;
}if(w()){Br=J||Br;
if(JASK.ja.funnels&&JASK.ja.funnels.signup){Au(JASK.ja.funnels.signup);
}else{Au(Bt);
}D("SignUp");
Bj();
JASK.logging.regFlowPixel("start");
Bl("#signup_panel");
$j("#dialog_email").focus();
}};
BY.initSignin=function AV(J){if(JASK.isEraserOn()){window.location.href="httpdisabled://"+BR.resultsDomain+"/settings#askeraser?redirect="+escape(window.location);
return ;
}if(w()){Br=J||Br;
Au(Bt);
D("SignIn");
Bj();
JASK.logging.regFlowPixel("start");
Bl("#signin_panel");
$j("#signin_email").focus();
}};
BY.initForget=function BX(J){if(JASK.isEraserOn()){window.location.href="httpdisabled://"+BR.resultsDomain+"/settings#askeraser?redirect="+escape(window.location);
return ;
}if(w()){Bj();
Br=J||Br;
Bl("#forgot_panel");
$j("#emailAddressText").focus();
}};
function Bo(CH){var CG=CH.length;
if(CG>30){JASK.showValidateMsg("errTip","#q_modal_error",Aq);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
return false;
}else{var J=CH;
pattern=new RegExp("(\\s|<|\\s)");
if(J.match(pattern)){var CF=J.replace(/</g,"&lt;");
J=CF;
}if(($j("#keywords_list").children(".keywords_list_topic").length)>5){JASK.showValidateMsg("errTip","#q_modal_error",d);
JASK.showValidateMsg("tipTitle","#q_error_title","That's good!");
return false;
}else{$j("#keywords_list").append($j('<div class="clearfix keywords_list_topic "><div class="tags-left">'+J+'</div><div style="float:left"><div class="tags-right" ><a  class="tags-close tags-topic-close" style="text-decoration:none;cursor:pointer;" href="#"> </a></div></div></div>'));
$j("#tagList").val("");
}}return true;
}BY.doPickOnValidatedQuestion=function Af(J){if($j("#questionbox").val().match(/[a-z0-9]/)){if($j.trim($j("#questionbox").val()).split(" ").length>2){BY.doPick(J);
}}};
var AH=0;
function B2(CG){var CF=(A2)?"/"+A2:"";
var J=(B0.getParams().iId.match(/\/link\//)&&(CG!="link"))?"/link":"";
return{"suffix":CF,"path":J};
}function As(CF){var J=function(){var CG={};
if($j("#tagList")&&$j("#origTagList")&&x()!=$j("#origTagList").val()){CG={"ex":"j_ot="+$j("#origTagList").val()+"&j_nt="+x()+"&j_qt="+$j("#questionbox").val()};
}$j.extend(CG,{"iId":B0.getParams().iId,"evId":$j(this).attr("data-activity"),"qsrc":B0.getParams().qsrc});
B0.activity(CG);
};
B0.bindActivity("*[data-impression="+CF+"]",J);
}function Bs(CF,J){clearTimeout(AH);
AH=setTimeout(function(){var CH=B2(CF);
var CG=J||{};
var CI={};
$j.extend(CI,{"iId":"/"+JASK.ja.fid+CH.path+"/"+CF+CH.suffix,"qsrc":Br},CG);
B0.impression(CI);
B0.bindActivity("*[data-impression="+CF+"]");
if(CF=="question"){As(CF);
}},500);
}function Ap(CI,CH){var CF=B2(CI);
var J=CH||{};
var CG={};
$j.extend(CG,{"iId":"/l/"+JASK.ja.fid+CF.path+"/"+CI+CF.suffix,"qsrc":Br},J);
B0.impression(CG);
}function Aa(CF){var J=B2(CF);
return"/l/"+JASK.ja.fid+J.path+"/"+CF+J.suffix;
}BY.doPickOrdinal=function AS(CJ,J){var CF="";
var CI=B1(CJ,J);
var CH=encodeURI(_SP(CI));
CH=JASK.logging.setPickUrlLdId(CH);
if($j("#tagList")&&$j("#origTagList")&&x()!=$j("#origTagList").val()){CF=escape("j_ot="+$j("#origTagList").val()+"&j_nt="+x()+"&j_qt="+$j("#questionbox").val());
}CH=$j.param.querystring(CH,"c="+JASK.ja.fid);
CH=$j.param.querystring(CH,"qs="+Br);
CH=$j.param.querystring(CH,"id="+O);
CH=decodeURI($j.param.querystring(CH,"p=1"));
CH+=("&ex="+CF);
var CG=new Image();
CG.src=CH;
};
BY.doPick=function E(J){BY.doPickOrdinal(J,"0");
};
function B1(CJ,J){var CI={en:"",io:J,b:"",tp:"d",ec:"1",ex:""};
var CF=CJ.split("-");
var CG=CF[0];
var CH=CF[1];
if(CH=="abandon"){CI.en=jaSharedAbandon;
}else{if(CH=="continue"){CI.en=jaSharedContinue;
}else{if(CH=="signin"){CI.en=jaSharedSignIn;
}else{if(CH=="skip"){CI.en=jagenSkip;
}else{if(CH=="save"){CI.en=jagenSaveInterest;
}else{if(CH=="ask"){CI.en=jaskerAskQuestion;
}else{if(CH=="cf_action"){CI.en=V;
}}}}}}}if(CG=="usersignin"){CI.b=sharedSignInDlgBlockID;
}else{if(JASK.ja.fid==r||JASK.ja.fid==B){if(CG=="learnmore"){CI.b=learnMoreDlgBlockID;
}else{if(CG=="askquestion"){CI.b=askQuestionDlgBlockID;
}else{if(CG=="usersignup"){CI.b=userSignUpDlgBlockID;
}}}}else{if(CG=="usersignup"){CI.b=genSignUpDlg1BlockID;
}else{if(CG=="addinterests"){CI.b=genSignUpDlg2BlockID;
}else{if(CG=="cfalert"){CI.b=j;
}}}}}return CI;
}function D(CF){var CG="";
if(CF=="LearnMore"){CG=Aj(A6);
}else{if(CF=="AskQuestion"){CG=Aj(G);
}else{if(CF=="SignUp"){CG=Aj(F);
}else{if(CF=="SignIn"){CG=Aj(A7);
}else{if(CF=="Confirm"){CG=Aj(BE);
}else{if(CF=="AddTopics"){CG=Aj(g);
}else{if(CF=="SocialLink"){CG=Aj(W);
}else{if(CF=="SocialImport"){CG=Aj(I);
}}}}}}}}var J=new Image();
J.height=1;
J.width=1;
J.id="SessionTracker";
J.src=CG;
}function BS(){$j.get("httpdisabled://"+BR.resultsDomain+"/ja-local-zoom",null,function(CI){if(CI&&CI.locationList.length){var CH=CI.locationList[1].city;
var CF=CH+", "+CI.locationList[1].state;
var J=$j(".nearByCity").text();
$j(".nearByCity").text(CF);
var CG=new RegExp(J,"gi");
$j(".nearByCityLocal").each(function(){$j(this).text($j(this).text().replace(CG,CH));
});
}else{var CG=new RegExp($j(".nearByCity").text(),"gi");
$j(".nearByCityLocal").each(function(CJ){if($j(this).text().match(CG)){$j(this).text(s[CJ]);
}});
}},"json");
}function Bj(){BA();
BI="signin";
BS();
$j(".askq_show").hide();
$j(".signin_show").show();
$j(".userinfo_submit").click(function(J){J.preventDefault();
A0();
});
$j("#topics_submit,#topics_submit_later").click(function(J){J.preventDefault();
sct(53313);
Bc();
});
$j("#dialog_email").focus(function(){if($j("#email_ok").text()==""){$j("#email_ok").addClass("email_info_2line");
}JASK.showValidateMsg("help","#email_ok",BW);
});
$j("#dialog_password").focus(function(){JASK.showValidateMsg("help","#password_ok",AR);
});
$j("#dialog_username").focus(function(){JASK.showValidateMsg("help","#username_ok",Ai);
});
$j("#signupform #recaptcha_response_field").focus(function(){JASK.showValidateMsg("help","#captcha_ok",Ah);
});
Bx();
$j(".signin_submit").click(function(J){J.preventDefault();
BY.signIn($j("#signin_email").val(),$j("#signin_password").val());
});
$j("#signin_email,#signin_password,.signin_submit").keyup(function(CF){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==13){BY.signIn($j("#signin_email").val(),$j("#signin_password").val());
}});
$j("#signup_panel").keyup(function(J){Ad(J,"signup_panel");
});
$j("#ask_question_panel").keyup(function(J){Ad(J,"ask_question_panel");
});
$j("#dialog_email,#dialog_password,#dialog_username,#signupform #recaptcha_response_field").keyup(function(CF){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==13){sct(53311);
A0();
}});
$j("#dialog_interest_btn").click(function(J){J.preventDefault();
p($j("#dialog_interest").val(),"interest");
$j("#dialog_interest").val("");
});
$j("#dialog_place_btn").click(function(J){J.preventDefault();
p($j("#dialog_place").val(),"place");
$j("#dialog_place").val("");
});
$j(".add_topic_lnk").click(function(CF){CF.preventDefault();
var J=($j(this).hasClass("topic_interest"))?"interest":"place";
p($j(this).text(),J);
});
$j("#dialog_interest,#dialog_place").keyup(function(CG){var CF=(CG.keyCode?CG.keyCode:CG.which);
if(CF==13){CG.preventDefault();
var J=($j(this).attr("id")==="dialog_interest")?"interest":"place";
p($j(this).val(),J);
$j(this).val("");
$j(".ac_results_profile").css("display","none");
}});
$j("#ask_question_dialog").dialog(void");
AZ();
AX=true;
}function Ad(CF,CH){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==27){CF.stopImmediatePropagation();
CF.preventDefault();
var CG={"iId":B0.getParams().iId,"evId":"cancel","qsrc":B0.getParams().qsrc};
B0.activity(CG);
BY.cancel();
}}function AZ(){$j("#ask_question_dialog").append($j("#ask_question_dialog_container").children());
$j("#ask_question_dialog_container").empty();
}function Bx(){if(y){Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
}}function w(){return(typeof $j("#ask_question_dialog").dialog=="function");
}function AC(CI,CG,CF){var CL=CG||0;
var J=(CI&&CI.tagList&&typeof CI.tagList.sort=="function")?CI.tagList:[];
J=J.sort(function(CN,CM){return CM.relevance-CN.relevance;
});
var CK=[];
var CH=0;
for(var CJ=0;
CJ<J.length;
CJ++){if(J[CJ].type==CL){if(CF&&J[CJ].relevance&&typeof CF[CH]!="undefined"){if(J[CJ].relevance>CF[CH]){CK.push(J[CJ].tag);
}CH++;
}else{CK.push(J[CJ].tag);
}}}return CK.join(", ");
}function p(J,CG,CI){if(!$j.trim(J).length||J==Ba||J==Bg){return ;
}else{if($j.hasHTML(J)){JASK.showValidateMsg("error","#topics_ok",c);
return ;
}else{if($j("#topics_ok").text()==c){JASK.showValidateMsg("clear","#topics_ok");
}else{if($j.trim(J).length>JASK.ja.maxTopicLength){JASK.showValidateMsg("error","#topics_ok",JASK.ja.topicLengthErrMsg);
return ;
}else{if($j("#topics_ok").text()==JASK.ja.topicLengthErrMsg){JASK.showValidateMsg("clear","#topics_ok");
}}}}}$j(".add_topic_lnk:contains("+J+")").hide();
var CF=(CG=="interest")?"#interests_list":"#places_list";
$j(CF).find(".promo_content").remove();
$j(CF).mouseleave(function(){$j(".d_interest").css("border","1px solid white").find(".delete_icon").hide();
});
if(!CI){B5(J,CG);
}if($j(CF).find(".d_interest").length<JASK.ja.maxTopicLength){J=J.replace(/\,/," ").replace(/\>/,"&gt;").replace(/\</,"&lt;");
var CH=(J.length>30)?(J.substring(0,30)+"..."):J;
$j('<div rel="'+J+'" class="d_interest txt2 abstract"><div style="float:left">'+CH+'</div><div style="display:none;float:right;" class="delete_icon"></div></div>').hover(function(){$j(this).css("border","1px solid #CCCCCC").find(".delete_icon").show();
},function(){$j(this).css("border","1px solid white").find(".delete_icon").hide();
}).appendTo(CF).find(".delete_icon").hover(function(){$j(this).parent().css("border","1px solid #B10000");
$j(this).css("background-position","-9px -1396px");
},function(){$j(this).parent().css("border","1px solid #CCCCCC");
$j(this).css("background-position","-9px -1346px");
}).click(function(){u(this,CG);
});
}else{}}function u(CF,J){B5($j(CF).parent().attr("rel"),J,true);
$j(CF).parent().remove();
}function B5(CJ,CL,CN){var CG=JASK.cfg.ldomain+"/ja-profile-interests";
var CM=(CL==="interest")?"intr":"place";
var CK=(CN)?"delintrs":"newintrs";
var CF=[],CI=$j("#interests_list").find(".d_interest").each(function(){CF.push($j(this).attr("rel"));
});
var J=[],CI=$j("#places_list").find(".d_interest").each(function(){J.push($j(this).attr("rel"));
});
var CH={"tfid":"JATopicsProfileForm","engine_id":"editprofile","interests":"["+CF.join(", ")+"]","places":"["+J.join(", ")+"]","engine":(CM+"change")};
CH[CK]=CJ.replace(/,/," ");
$j.post(CG,CH,function(){});
}function q(J){var CF=$j(J);
if(CF.val()){CF.val($j.trim(CF.val()));
}}BY.toggleForgotPanel=function A3(){Bl("#forgot_panel");
$j("#emailAddressText").focus();
};
JASK.ja.displayToolTip=function e(CJ,J,CG){$j(J).clone().attr("id",J+"_dup").css("display","block").appendTo("#askq_tt");
var CI=25;
var CH=25;
var CF=($j(CJ).outerHeight()/2)+(CI*2);
if(CJ=="#questionbox"){CF=CF+10;
}else{if(CJ=="#tagList"){CF=CF-20;
CH=235;
}else{if(CJ=="#detail"){CF=CF+52;
}}}if(CG=="lb"){$j(CJ).ui_position({target:"#askq_tt_wrp",offset:[0,40],at:"bottom"});
$j(CJ).data("ttPos",CG);
}$j(CJ).tooltip({events:{input:"focus, dummyevent",def:"focus, dummyevent",tooltip:""},tip:"#askq_tt_wrp",relative:true,position:"bottom right",offset:[-CF,CH],onShow:function(){$j("#askq_tt_wrp .tt-beak").addClass("hide");
if(CG){$j("#askq_tt_wrp .jtt-"+CG).removeClass("hide");
}else{$j("#askq_tt_wrp .jtt-lt").removeClass("hide");
}}});
};
function Ax(){if(($j("#emailAddressText").data("email")==$j("#emailAddressText").val())){Bl("#notificationPanel");
$j("#email_ID").html($j("#emailAddressText").data("email"));
$j("#emailAddressText").removeData("email");
}}function H(){q("#emailAddressText");
if(AM($j("#emailAddressText").val())){$j("#emailAddressText").data("isPending",1);
$j.post($j("#forgotpasswordform").attr("action"),{"email":$j("#emailAddressText").val(),"engine_id":"reset"},function(J){$j("#emailAddressText").removeData("isPending");
if(J&&J.status["@code"]==100){$j("#emailAddressText").data("email",$j("#emailAddressText").val());
$j("#oopsCheck").css("display","none");
$j("#forgot_text").html("Forgot your password?").removeClass("validate_error");
Ax();
}else{$j("#oopsCheck").css("display","block");
JASK.showValidateMsg("error","#forgot_text","Oops. We couldn't find that email address. Please try again.");
$j("#emailAddressText").removeData("email");
}},"json");
return true;
}else{JASK.showValidateMsg("error","#forgot_text",A4);
return false;
}}BY.initPrivacyPolicy=function BP(J){$j("#privacyPolicyDialog").dialog({autoOpen:false,height:400,width:700,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}});
B8();
$j("#ppv_update_save").unbind("click");
$j("#ppv_update_cancel").unbind("click");
$j(document).unbind("keyup",Y);
var CF=typeof J==="function"?J:function(){};
$j("#ppv_update_save").bind("click",{cb:CF},BQ);
$j("#ppv_update_cancel").bind("click",{cb:CF},AJ);
$j(document).bind("keyup",{cb:CF},Y);
B0.impression({"iId":"/"+JASK.ja.fid+"/tos"});
B0.bindActivity("#privacy_policy_panel");
$j("#privacyPolicyDialog").dialog(void");
};
function Y(CF){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==27){CF.stopImmediatePropagation();
CF.preventDefault();
AJ(CF);
}}BY.closePrivacyPolicy=function Bd(){$j("#privacyPolicyDialog").dialog("close");
if(JASK.serp&&CA){$j("#privacyPolicyDialog").remove();
}};
function BQ(CF){CF.preventDefault();
var J=JASK.cfg.ldomain+"/ja-update-user-tos";
$j.post(J,function(CG){if(CG){BY.closePrivacyPolicy();
CF.data.cb.call(window);
}else{BY.closePrivacyPolicy();
CF.data.cb.call(window);
}},"json");
}function AJ(J){J.preventDefault();
BY.closePrivacyPolicy();
J.data.cb.call(window);
}$j("#forgotpasswordform").keyup(function(CF){var J=(CF.keyCode?CF.keyCode:CF.which);
if(J==13){CF.preventDefault();
H();
}});
$j(".resetPwdBtn").click(function(J){J.preventDefault();
H();
});
$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#qc_panel").bgiframe();
BY.addInterestsSetup=function CC(){if(!$j("#dialog_interest").data("edited")){$j("#dialog_interest").val("");
}$j("#dialog_interest").css("color","#333");
$j("#dialog_interest").profileSuggestion("httpdisabled://"+JASK.ssCfg.server+"/query?sstype=soft&fn=topicsSuggestion&pn=ctopic","dialog_interest");
$j("#dialog_interest").data("edited","true");
};
BY.addPlaceSetup=function BC(){if(!$j("#dialog_place").data("edited")){$j("#dialog_place").val("");
}$j("#dialog_place").css("color","#333");
$j("#dialog_place").profileSuggestion("httpdisabled://"+JASK.ssCfg.server+"/query?sstype=prefix&fn=topicsSuggestion&pn=location","dialog_place");
$j("#dialog_place").data("edited","true");
};
function AM(J){return J.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/);
}BY.setGigyaLoaded=function(J){Bm=J;
};
BY.isGigyaLoaded=function(){return Bm;
};
return BY;
});
$j.fn.ui_position=function(B){var E=$j(this);
var D=$j(B["target"]);
var F=B["offset"];
var A=B["at"];
if(!D){return false;
}var C=0;
if(A=="bottom"){C=(E.position()["top"]+E.height())-(D.height());
}else{C=E.position()["top"];
}D.css("top",C+F[1]+"px");
};
(function(A){A.fn.ja_expandquestionbox=function(){function B(E){var C=E.val().length;
var D=Math.ceil(C/50);
if(D>0&&parseInt(E.attr("rows"))<=D){D=(D>2)?2:D;
E.attr("rows",D);
E.removeClass("qinputheight");
}}return this.each(function(){A(this).keypress(function(C){B($j(C.target));
});
A(this).bind("paste",function(C){setTimeout(function(){B($j(C.target));
},0);
});
B($j(this));
});
};
})(jQuery);
JASK.ask_dialog.loaddisabledAskDialog=function loaddisabledAskDialog(){var A=JASK.cfg.ldomain+"/ja-ask-dialog?thinHeader="+JASK.cfg.thinHeader+"&fullFlex="+JASK.cfg.fullFlex;
if(window.location.href.indexOf("paid=true")!=-1){A+="&paid=true";
}$j("#ask_question_dialog_container").loaddisabled(A,null,function(){$j("#ask_question_dialog").dialog({autoOpen:false,height:650,width:710,modal:true,draggable:false,resizable:false,show:{effect:"fade",mode:"show",speed:300},hide:{effect:"fade",mode:"hide",speed:300}});
$j("#recaptchaDialog").dialog({autoOpen:false,height:360,width:594,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400},close:function(){Recaptcha.destroy();
}});
$j("#recaptchaCancelBtn").click(function(){$j("#recaptchaDialog").dialog("close");
return false;
});
$j("#answerRecaptcha .recaptcha").bind("focus",function(C){var B=$j("#answerRecaptcha .recaptcha");
B.val("");
B.toggleClass("prefocus",false);
B.toggleClass("postfocus",true);
});
$j("#answerRecaptcha .recaptcha").keyup(function(C){var B=(C.keyCode?C.keyCode:C.which);
if(B==13){$j("#recaptchaBtn").trigger("click");
return false;
}});
});
};
$j(document).ready(function(){if(window["gigya"]){$j(document).bind("logout",function(){gigya.services.socialize.logout(JASK.social.conf);
});
}});

JASK.namespace("social");
JASK.social.conf=JASK.social.conf||{};
$j(document).ready(function(){JASK.social.importInterests=(function(){var H=null;
var O=null;
var AG=null;
var A=null;
var N=30;
var m=50;
var Q=30;
var Y=60*1000;
var r=0;
var c=false;
var AA=false;
var R=null;
var L=false;
var i=null;
var AB={APIKey:JASK.cfg.gigyaAPIKey,enabledProviders:"facebook,linkedin"};
function AM(AN){return(typeof AN!="string")?(AN+""):AN;
}function AE(AN){return l(AN).replace(/\>/,"&gt;").replace(/\</,"&lt;");
}function l(AN){return AM(AN).replace(/\n/g,"");
}function s(AN){return AM(AN).toUpperCase().replace(/\s/g,"");
}function J(AN,AP){var AO=AP||Q;
return(AN.length>AO)?(AN.substring(0,AO)+"..."):AN;
}function F(AN){return"<span class='b'>"+AN+"</span>";
}function t(AN,AQ,AP,AO){$j(AP).html(F(J(AN,40)));
var AR=$j(AO).html();
$j(AO).html("");
u(AN,AQ,AO,AR);
$j(AO+"> .d_interest").css({"width":"400px","margin-left":"-5px","overflow":"hidden"});
}function P(AN,AO,AP){$j("#import_avatar").remove();
u(AN,"user",AO,AP);
$j("#import_avatar").bind("loaddisabled",function(){$j(this).parents(".d_interest").css("width",($j(this).outerWidth(true)+25+"px"));
$j(this).parent().siblings(".delete_icon").css({"margin-left":"5px","float":"left"});
});
AO.find(".d_interest").css({"height":"50px","padding":"10px"});
}function u(AN,AP,AO,AR){AN=AM(AN);
if(!$j.trim(AN).length){return ;
}if(!AR){var AQ=J(AE(AN));
}else{var AQ=AR;
}$j('<div rel="'+AN+'" class="d_interest"><div style="float:left">'+AQ+'</div><div style="display:none;float:right;" class="delete_icon"></div></div>').hover(function(){$j(this).css("border","1px solid #CCCCCC").find(".delete_icon").show();
},function(){$j(this).css("border","1px solid white").find(".delete_icon").hide();
}).appendTo(AO).find(".delete_icon").hover(function(){$j(this).css("background-position","-9px -1396px").parent().css("border","1px solid #B10000");
},function(){$j(this).css("background-position","-9px -1346px").parent().css("border","1px solid #CCCCCC");
}).click(function(){$j(this).parent().remove();
if(!L){n({"iId":i.getParams().iId,"evId":"edit"});
L=true;
}if(AP=="places"||AP=="interests"){var AS=$j("#import_"+AP);
var AT=AS.closest(".importField");
if(AS.html()==""){AT.hide();
}}});
}function W(AO){var AN=(AA)?"genericsignup":"profile";
i.impression({"iId":"/"+AN+"/import/"+AO});
i.bindActivity("#interestsDialog");
}function n(AN){i.activity(AN);
}function B(AN){if(AN.errorCode==0){H=AN.user;
z();
$j("#interestsDialog").dialog(void");
o();
}else{$j("#interestsDialog").dialog(void");
q();
AK("Error: "+AN.errorMessage);
}}function z(){var AN={callback:v,enabledProviders:"facebook"};
w();
gigya.services.socialize.getFriendsInfo(AB,AN);
}function v(AN){if(!c){H["connections_size"]=AN.friends.getSize();
h(H.UID);
}}function h(AN){var AO={provider:"facebook",fields:"interests,activities,current_location,hometown_location",UID:AN,callback:j};
w();
gigya.services.socialize.getRawData(AB,AO);
}function j(AN){var AO=$j.parseJSON(AN.data);
if(AO.length){AH(AO);
}}function AH(AO){var AN={};
AO=AO[0];
if(AO.hometown_location&&AO.hometown_location.city){AN["cities"]=AO.hometown_location.city;
}if(AO.current_location&&AO.current_location.city){if(AN["cities"]){AN["cities"]+=", "+AO.current_location.city;
}else{AN["cities"]=AO.current_location.city;
}}AN["interests"]=AO.interests;
AN["activities"]=AO.activities;
$j.post(JASK.cfg.ldomain+"/ja-topics-import","json="+encodeURIComponent($j.toJSON(AN)),g,"json");
}function g(AN){if(!c){O=AN;
b(H);
p(O);
C(O);
E();
I();
AF();
W(H.loginProvider);
if(!AA){$j("#import_saveInfo").click(U);
}else{$j("#import_saveInfo").click(K);
}}}function T(AN,AR){var AO={};
var AQ=[];
AR.each(function(){AO[s($j(this).text())]=true;
});
for(var AP=0;
AP<AN.length;
AP++){if(typeof AO[s(AN[AP])]=="undefined"){AQ.push(AN[AP]);
}}return AQ;
}function p(AQ){var AP=k();
var AO=((m-AP)<N)?(m-AP):N;
if(AO>0){var AR="";
if(AQ.interests){AR+=AQ.interests;
}if(AQ.activities){AR+=","+AQ.activities;
}var AN=AR.split(",");
AN=T(AN,AG);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AT,AS){u(AS,"interests","#import_interests");
});
}}function b(AN){if(AN.identities.facebook.nickname){t(AN.identities.facebook.nickname,"user","#import_nickname","#pimport_nickname");
}if(AN.gender){var AO=(AN.gender=="m")?"male":"female";
t(AO,"user","#import_gender","#pimport_gender");
}if(AN.birthMonth&&AN.birthDay&&AN.birthYear){var AP=e([AN.birthMonth,AN.birthDay,AN.birthYear]);
t(AP,"user","#import_birthday","#pimport_birthday");
}if(AN.gender||AN.birthMonth){$j("#privacy_warning").show();
}else{$j("#privacy_warning").hide();
}if(typeof AN.connections_size!="undefined"||AN.connections_size!=null){t(AN.connections_size,"user","#import_connections","#pimport_connections");
}if(AN.photoURL){$j("#import_avatar").attr("src",AN.photoURL);
P(AN.identities.facebook.nickname,$j("#import_avatar").parent(),$j("#import_avatar").parent().html());
}}function C(AQ){var AP=a();
var AO=((m-AP)<N)?(m-AP):N;
if(AO>0){var AR="";
AR+=AQ.cities;
var AN=AR.split(",");
AN=T(AN,A);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AT,AS){u(AS,"places","#import_places");
});
}}function k(){AG=$j("#interestsContainer .intrcol");
return AG.length;
}function a(){A=$j("#placesContainer .intrcol");
return A.length;
}function E(){$j(".importValue").each(function(){if(!this.innerHTML){$j(this).parents(".importField").hide();
}});
if(!$j("#import_avatar").attr("src")){$j("#import_avatar").remove();
$j("#clear_avatar_link").remove();
}}function y(AN){$j(".importValue").text("");
$j(".importField").show();
$j("#import_avatar_container").html('<img style="height:50px" id="import_avatar">');
$j("#interestsDialog .d_interest").each(function(){var AQ=$j(this);
AQ.children(".delete_icon").remove();
var AO=AQ.html();
var AP=AQ.parent();
AQ.remove();
AP.html(AO);
});
H=null;
O=null;
L=false;
r=0;
c=false;
$j(".import_provider").text(D(AN));
$j("#import_provider_icon").removeClass();
if(AN=="facebook"){$j("#import_provider_icon").addClass("fb-icon-sm");
}else{if(AN=="linkedin"){$j("#import_provider_icon").addClass("li-icon-sm");
}}$j("#import_saveInfo").unbind("click");
$j("#importError").hide();
L=false;
if(i){i=null;
}i=new JASK.logging.JALogger();
}function S(AN){if(AN.errorCode==0){H=AN.user;
$j("#interestsDialog").dialog(void");
o();
if(H&&H["UID"]){AD(H["UID"]);
}else{AK("Error: No UID");
}}else{$j("#interestsDialog").dialog(void");
q();
AK("Error: "+AN.errorMessage);
}}function AD(AN){var AO={provider:"linkedin",fields:"interests,location,industry,headline,connections,specialties,associations",UID:AN,dataFormat:"xml",callback:AL};
w();
gigya.services.socialize.getRawData(AB,AO);
}function AL(AN){var AP=new DOMParser();
var AO=AP.parseFromString(AN.data,"text/xml");
if(AO){AC(AO);
}}function Z(AN,AO){if(AN){if(AO["interests"]){AO["interests"]=AO["interests"]+","+AN;
}else{AO["interests"]=AN;
}}}function AC(AR){var AP={};
var AQ=l($j(AR.getElementsByTagName("specialties")[0]).text());
var AO=l($j(AR.getElementsByTagName("associations")[0]).text());
var AS=l($j(AR.getElementsByTagName("industry")[0]).text());
AP["interests"]=l($j(AR.getElementsByTagName("interests")[0]).text());
Z(AQ,AP);
Z(AO,AP);
Z(AS,AP);
var AN=$j.trim(l($j(AR.getElementsByTagName("location")[0]).text()));
if(AN.length>4){AN=$j.trim(AN.substring(0,AN.length-3));
}AP["cities"]=AN;
AP["industry"]=AS;
AP["headline"]=l($j(AR.getElementsByTagName("headline")[0]).text());
AP["connections"]=l($j(AR.getElementsByTagName("connections")[0]).attr("total"));
$j.post(JASK.cfg.ldomain+"/ja-topics-import","json="+encodeURIComponent($j.toJSON(AP)),V,"json");
}function V(AN){if(!c){O=AN;
d(H);
G(O);
f(O);
E();
I();
AF();
W(H.loginProvider);
if(!AA){$j("#import_saveInfo").click(U);
}else{$j("#import_saveInfo").click(K);
}}}function d(AN){if(AN.identities.linkedin.nickname){t(AN.identities.linkedin.nickname,"user","#import_nickname","#pimport_nickname");
}if(AN.gender){var AO=(AN.gender=="m")?"male":"female";
t(AO,"user","#import_gender","#pimport_gender");
}if(AN.birthMonth&&AN.birthDay&&AN.birthYear){var AP=e([AN.birthMonth,AN.birthDay,AN.birthYear]);
t(AP,"user","#import_birthday","#pimport_birthday");
}if(AN.gender||AN.birthMonth){$j("#privacy_warning").show();
}else{$j("#privacy_warning").hide();
}if(AN.photoURL){$j("#import_avatar").attr("src",AN.photoURL);
P(AN.identities.linkedin.nickname,$j("#import_avatar").parent(),$j("#import_avatar").parent().html());
}}function G(AQ){var AP=k();
var AO=((m-AP)<N)?(m-AP):N;
if(AO>0){var AR="";
AR+=AQ.interests;
var AN=AR.split(",");
AN=T(AN,AG);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AT,AS){u(AS,"interests","#import_interests");
});
if(AQ.headline){t(AQ.headline,"user","#import_title","#pimport_title");
}if(AQ.industry){t(AQ.industry,"user","#import_industry","#pimport_industry");
}if(typeof AQ.connections!="undefined"){t(AQ.connections,"user","#import_connections","#pimport_connections");
}}}function f(AP){var AO=N-a();
if(AO>0){var AQ="";
AQ+=AP.cities;
var AN=AQ.split(",");
AN=T(AN,A);
AN=(AN.length>AO)?AN.splice(0,AO):AN;
$j.each(AN,function(AS,AR){u(AR,"places","#import_places");
});
}}function e(AN){for(var AO=0;
AO<AN.length;
AO++){if(AN[AO]=="0"){return"";
}}return AN[0]+"/"+AN[1]+"/"+AN[2];
}function o(){$j("#importResult").hide();
$j("#importBusy").show();
}function I(){$j("#importResult").show();
$j("#importBusy").hide();
}function q(){$j("#importResult").hide();
$j("#importBusy").hide();
}function AK(AN){$j("#importError").show();
if(console){console.log(AN);
}}function AJ(){var AQ={"user":{},"attributes":{}};
var AP=[];
$j("#import_interests > .d_interest").each(function(){AP.push($j(this).attr("rel"));
});
AQ.user["interests"]=AP.join();
AP=[];
$j("#import_places > .d_interest").each(function(){AP.push($j(this).attr("rel"));
});
if(AP.length){AQ.user["favorite_places"]=AP.join();
}if(O.hometown_location){AQ.user["hometown"]=O.hometown_location;
}if(O.current_location){AQ.user["city"]=O.current_location;
}var AO=$j("#pimport_nickname > .d_interest");
if(AO.length>0){AQ.user["firstName"]=H.firstName;
AQ.user["lastName"]=H.lastName;
}AQ.user["gender"]=$j("#pimport_gender > .d_interest").attr("rel");
AQ.user["birthday"]=$j("#pimport_birthday > .d_interest").attr("rel");
AQ.user["avatar_url"]=$j("#import_avatar").attr("src");
AQ.attributes["title"]=[$j("#pimport_title > .d_interest").attr("rel"),H.loginProvider];
AQ.attributes["industry"]=[$j("#pimport_industry > .d_interest").attr("rel"),H.loginProvider];
AQ.attributes["connections"]=[$j("#pimport_connections > .d_interest").attr("rel"),H.loginProvider];
AP=[];
$j("#import_interests > .d_interest").each(function(){AP.push($j(this).attr("rel"));
});
AQ.attributes["interest_count"]=[AP.length,H.loginProvider];
AQ.attributes["interests"]=[AP.join(),H.loginProvider];
var AS=true;
for(var AN in AQ.user){if(!AQ.user[AN]){delete AQ.user[AN];
continue;
}AS=false;
}var AR=true;
for(var AT in AQ.attributes){if(!AQ.attributes[AT]||($j.isArray(AQ.attributes[AT])&&!AQ.attributes[AT][0])){delete AQ.attributes[AT];
continue;
}AR=false;
}if(AS&&AR){return null;
}else{return AQ;
}}function D(AN){if("linkedin"==AN){return"LinkedIn";
}else{return $j.capitalize(AN);
}}function K(AP){AP.preventDefault();
var AO=AJ();
if(AO){var AN=JASK.cfg.ldomain+"/ja-edit-social-profile";
$j("#import_saveInfo").showBusy();
$j.post(AN,"json="+encodeURIComponent($j.toJSON(AO))+"&provider="+H.loginProvider,function(AQ){$j("#import_saveInfo").showDone();
if(AQ&&AQ.status["@code"]==100){$j("#interestsDialog").dialog("close");
R.apply(window,[AO,H.loginProvider]);
}else{AK("save failed");
}},"json");
}else{}}function U(AP){AP.preventDefault();
var AO=AJ();
if(AO){var AN=JASK.cfg.ldomain+"/ja-edit-social-profile";
$j("#import_saveInfo").showBusy();
$j.post(AN,"json="+encodeURIComponent($j.toJSON(AO))+"&provider="+H.loginProvider,function(AQ){$j("#import_saveInfo").showDone();
if(AQ&&AQ.status["@code"]==100){$j("#interestsDialog").dialog("close");
$j.jStorage.set("importConfirmation",H.loginProvider);
setTimeout(function(){window.location.reloaddisabled();
},250);
}else{AK("save failed");
}},"json");
}else{$j("#interestsDialog").dialog("close");
JASK.showValidateMsg("error_message","#errormsg","You did not import anything from "+D(H.loginProvider));
$j("#errormsg").show();
setTimeout(function(){$j("#errormsg").fadeOut();
},2000);
}}function X(){gigya.services.socialize.login(AB,{callback:B,provider:"facebook"});
}function x(){gigya.services.socialize.login(AB,{callback:S,provider:"linkedin"});
}function AI(AN){y(AN);
if(AN=="facebook"){X();
}else{x();
}}function w(){clearTimeout(r);
r=setTimeout(function(){AK("gigya timeout");
c=true;
},Y);
}function AF(){clearTimeout(r);
}function M(){$j("#interestsDialog").dialog("close");
}if($j.jStorage.get("importConfirmation")){$j(".import_provider").text(D($j.jStorage.get("importConfirmation")));
$j("#successmsg").show();
$j.jStorage.deleteKey("importConfirmation");
setTimeout(function(){$j("#successmsg").fadeOut();
},2000);
}return{close:function(AN){M();
}void:function(AN){AA=false;
window.scroll(0,0);
$j("#interestsDialog").dialog("option","position",JASK.getDialogOffset(800,900));
AI(AN);
},importIntoSignup:function(AO,AN){AA=true;
window.scroll(0,0);
R=typeof AN==="function"?AN:function(){};
AI(AO);
}};
})();
});

JASK.namespace("spellcheck");
JASK.spellcheck.ignoreList=[];
JASK.spellcheck.SpellChecker=function SpellChecker(A){this._errors=[];
this._errorCount=0;
this._currentIndex=0;
this._element=A;
this.conf={};
this.inCorrectionMode=false;
this.isRotating=false;
this.shouldSpellCheck=function(){return true;
};
this.onShow=function(){};
this.checkSpelling=function(){var B=$j("#"+this._element);
var C=B.val();
if(C!=""){$j.ajax({url:this.conf["url"],data:{"data":C},dataType:"jsonp",context:this,success:function(D){this.spellCheckCallback(D);
}});
}else{B.data("spellErrors",0);
}};
this.spellCheckCallback=function(E){var B=this;
B._errorMsg=E;
var F=this._errorMsg["results"];
var D=0;
B._errorCount=0;
B._errors=[];
B._currentIndex=0;
$j.each(F,function(H,G){var J=G["error"];
if(J["type"]=="spelling"){if((JASK.spellcheck.ignoreList.length==0||($j.inArray(J["string"],JASK.spellcheck.ignoreList)==-1))&&$j("#"+B._element).val().indexOf(J["string"])>=0){var I=B.buildErrorStructure(G);
if(I!=undefined){B._errors[D]=I;
D++;
}}}});
B._errorCount=D;
var C=B._element;
$j("#"+C).data("spellErrors",D);
if(D>0&&this.shouldSpellCheck()){this.displayErrors();
}else{$j("#"+C).focus();
if(this.conf.renderError){this.conf.renderError();
}}};
this.buildErrorStructure=function(C){var D;
var E=C["error"];
if(E["suggestions"]!=undefined){D=new Object();
D.suggestions=[];
var B=E["suggestions"]["option"];
$j.each(B,function(F,G){D.suggestions[F]=G;
});
D.actualWord=E["string"];
D.type=E["type"];
D.preContext=E["precontext"];
}return D;
};
this.displayErrors=function(){var C=this._element;
var B=$j("#"+C);
var I=B.val();
B.data("spellErrors",this._errorCount);
if(this._errorCount>0){var H=$j(this.suggestionMarkup(this._currentIndex));
var J="Did you mean?";
if(!this.inCorrectionMode&&!this.isRotating){J=this._errorCount+" misspelling"+((this._errorCount>1)?"s":"")+" found";
}if(this.conf.renderError){this.conf.renderError(J,$j(H));
}var E=this._errors[this._currentIndex];
var G=0;
if(B.data("endIndex")!=undefined){G=B.data("endIndex");
}if(this.isRotating){this.isRotating=false;
return ;
}var F=I.indexOf(E.actualWord,G);
if(this._currentIndex==0||F<0){F=I.indexOf(E.actualWord);
}var D=E.actualWord.length;
if(this.inCorrectionMode){B.setSelection(F,F+D);
B.data("startIndex",F);
B.data("endIndex",F+D);
this.isRotating=true;
}this.onShow&&this.onShow();
}else{B.focus();
}};
this.markIgnored=function(E){var C=JASK.spellcheck.ignoreList.length;
var D=this._errors;
var B=[];
JASK.spellcheck.ignoreList[C]=E;
this._errors=$j.grep(this._errors,function(F){return F.actualWord==E;
},true);
this._errorCount=this._errors.length;
if(this._errorCount<=this._currentIndex){this._currentIndex=0;
}};
this.suggestionMarkup=function(B){var E=this._errors;
var D=$j("<ul/>").addClass("spell-suggestions");
var C=this._element;
var F=E[B].actualWord;
if(!this.inCorrectionMode){$j(D).append($j("<a onclick=\"JASK.spellcheck.showSuggestions('"+C+"')\">Show suggestions &raquo;</a>"));
return D;
}$j.each(E[B].suggestions,function(I,H){$j(D).append($j("<li><a onclick=\" JASK.spellcheck.suggestionCorrection('"+C+"',"+I+')" >'+H+"</a></li>"));
});
var G=$j("<div>").addClass("sc-footer").append("<a onclick=\"JASK.spellcheck.ignoreSuggestion('"+C+"','"+escape(F)+"')\">Ignore</a>");
if(E.length>1){G.append("<span>&nbsp;|&nbsp;</span>").addClass("info").append("<a onclick=\"JASK.spellcheck.nextSpellingError('"+C+"')\">Next misspelling &raquo;</a>");
}return $j("<div>").append($j(D)).append(G);
};
this.getEventHandler=function(B){if(this.conf&&this.conf["events"]){return this.conf["events"][B];
}};
this.moveNext=function(){(this._currentIndex<(this._errorCount-1))?this._currentIndex++:(this._currentIndex=0);
};
this.makeCorrection=function(D){var E=this._errors[this._currentIndex];
var C=E.suggestions[D];
var B=$j("#"+this._element);
var G=B.data("startIndex");
var F=B.data("endIndex");
B.setSelection(G,F);
B.replaceSelection(C);
this.isRotating=false;
this._errors.splice(this._currentIndex,1);
this._errorCount--;
B.data("spellErrors",this._errorCount);
if(this._errorCount>0){this.inCorrectionMode=true;
if(this._errorCount==this._currentIndex){this._currentIndex=0;
}this.displayErrors();
}else{if(this.conf.renderError){this.conf.renderError();
}}};
};
JASK.spellcheck.showSuggestions=function(A){$j("#"+A).trigger("changeToSuggestionMode");
$j("#"+A).trigger("nextSpellingError");
};
JASK.spellcheck.suggestionCorrection=function(B,A){$j("#"+B).trigger("selectSuggestion",[A]);
};
JASK.spellcheck.nextSpellingError=function(A){$j("#"+A).trigger("nextSpellingError");
};
JASK.spellcheck.ignoreSuggestion=function(A,B){$j("#"+A).trigger("ignoreSuggestion",[B]);
};
(function(A){A.fn.ja_spellcheck=function(B){return this.each(function(){var D=$j(this).attr("id");
var C=new JASK.spellcheck.SpellChecker(D);
if(B){C.conf=B;
if(C.getEventHandler("shouldSpellCheck")!=undefined){C.shouldSpellCheck=C.getEventHandler("shouldSpellCheck");
}if(C.getEventHandler("onShow")!=undefined){C.onShow=C.getEventHandler("onShow");
}}$j(this).bind("changeToSuggestionMode",function(E){C._currentIndex=-1;
});
$j(this).bind("selectSuggestion",function(F,E){F.preventDefault();
C.makeCorrection(E);
$j(this).trigger("updateCharCount");
});
$j(this).bind("ignoreSuggestion",function(E,F){C.markIgnored(unescape(F));
$j(this).data("spellErrors",C._errorCount);
if(C._errorCount>0){C.inCorrectionMode=true;
C.isRotating=false;
C.displayErrors();
}else{if(C.conf.renderError){C.conf.renderError();
}}});
$j(this).bind("nextSpellingError",function(E){E.preventDefault();
C.inCorrectionMode=true;
C.isRotating=false;
C.moveNext();
C.displayErrors();
});
$j(this).bind("displaySpellErrors",function(E){C.displayErrors();
});
$j(this).typing({start:function(F,E){C.inCorrectionMode=false;
},stop:function(F,E){if(F.type!="blur"){C.checkSpelling();
}},delay:400});
$j(this).click(function(){C.inCorrectionMode=false;
C.isRotating=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).blur(function(){C.inCorrectionMode=false;
});
$j(this).bind("keyup",function(E){C.inCorrectionMode=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).bind("keydown",function(E){C.inCorrectionMode=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).bind("clearSpellErrors",function(){C._errorCount=0;
C._errors=[];
C._currentIndex=0;
JASK.spellcheck.ignoreList=[];
$j(this).data("spellErrors",0);
});
C.checkSpelling();
});
};
})(jQuery);

(function(A){A.fn.profileSuggestion=function(B,C){var D=409;
var E=$j("#profileSSWidth");
if(E.length>0&&E.val()){D=parseInt(E.val());
}if(C=="dialog_place"||C=="dialog_interest"){D=204;
}return this.each(function(){$j("#"+C).autocomplete(B,{width:D,top:2,selectFirst:false,highlight:false,scroll:false,max:8,minChars:2,cacheLength:30,matchSubset:false,itemsKey:"topicsSuggestion",setTurnOffComponent:F,dataType:"script",resultsClass:"ac_results_profile",parse:function(J){var G=[];
if(J==""){J[0]=$j("#"+C).val().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
}for(var H=0;
H<J.length;
H++){var I=$j.trim(J[H]);
if(I){G[G.length]={data:I,value:I.replace(/(<([^>]+)>)/ig,""),result:I.replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?q="+I.replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")};
}}return G;
},formatItem:function(I,H,G){return $j("<a/>").attr("href",I.url).addClass("txt4").html(I.data);
}});
A(this).result(function(G,H){$j("#"+C).val(H.value);
});
});
function F(I,G){var H=A("<div/>",{"id":"ssdisable"}).appendTo(I);
}};
})(jQuery);
function topicsSuggestion(A){$j(document.body).data("topicsSuggestion",A[1]);
}
function searchSuggestion(A){$j(document.body).data("searchSuggestion",A[1]);
}JASK.namespace("ss");
JASK.ss.cookie={disable:function(){var C=$j.cookie("gset");
var D="";
var A=new Date();
A.setFullYear(A.getFullYear()+2);
if(C&&C.indexOf("&ss=1")!=-1){var B=C.split("&ss=1");
D=B.join("");
D+="&ss=0";
}else{D="ss=0";
}document.cookie="gset="+D+"; expires="+A.toGMTString()+"; path=/; domain=.ask.com";
},isAvailable:function(){return(!$j.cookie("gset")||$j.cookie("gset").indexOf("ss=0")<0);
}};
(function(A){A.fn.ja_getValue=function(C,B){var D=this.val();
if(!D||(B&&D==B)){D=C?C:"";
}return D;
};
})(jQuery);
(function(A){A.fn.searchsuggestion=function(){return this.each(function(){var K=D(this);
var I=window["googleSuggestAds"];
if(I&&I.initialize){I.initialize({client:"suggest-aj-cat",channel:"SuggestAffected",uid:$j.cookie("wz_uid")==null?"":$j.cookie("wz_uid")});
}A(this).autocomplete("httpdisabled://"+JASK.ssCfg.server+"/query?sstype=prefix&fn=searchSuggestion",{width:K.width,selectFirst:false,highlight:false,scroll:false,max:8,minChars:2,cacheLength:30,matchSubset:false,dataType:"script",formatItem:H,parse:B,itemsKey:"searchSuggestion",setTurnOffComponent:C,left:K.left,top:K.top,adProvider:I,formatAd:E});
A(this).result(function(M,N){window.location.href=N.url;
});
function D(N){var Q=new Object();
var M=A("div[name=searchBoxContainer]:first");
var P=A(M).offset();
var O=A(N).offset();
Q.width=A(M).innerWidth()-10;
Q.top=A(M).outerHeight(true)-A(N).outerHeight(true)-(O.top-P.top)+3;
Q.left=0;
if(JASK.ssCfg.width){Q.width=JASK.ssCfg.width;
Q.top-=JASK.ssCfg.top;
Q.left=JASK.ssCfg.left;
}else{if(JASK.ssCfg.channel=="homepage"){Q.width=540;
Q.top-=4;
Q.left=-9;
}else{if(JASK.ssCfg.channel=="themes"){Q.width=540;
Q.top-=10;
Q.left=-12;
}}}return Q;
}var L="2352";
var F="0";
var G="dir";
var J=(function(){var O=new Array();
if((typeof GlobalNav!="undefined"&&GlobalNav.Variables._locale=="uk")){O["qsrc"]=L;
}else{O["qsrc"]=A("input[name=qsrc]").ja_getValue(L,"0");
}O["o"]=A("input[name=o]").ja_getValue(F);
O["l"]=A("input[name=l]").ja_getValue(G,"0");
O["siteid"]=A("input[name=siteid]").ja_getValue();
O["vps"]=A("input[name=vps]").ja_getValue();
O["siteid"]=A("input[name=siteid]").ja_getValue();
var M="";
for(var N in O){if(!O[N]==""){M+=("&"+N+"="+O[N]);
}}return M;
})();
function B(P){var Q="";
if(JASK.ssCfg.channel&&JASK.ssCfg.appendParams[JASK.ssCfg.channel]){Q=JASK.ssCfg.appendParams[JASK.ssCfg.channel]+"&";
}var M=[];
for(var N=0;
N<P.length;
N++){var O=A.trim(P[N]);
if(O){M[M.length]={data:O,value:O.replace(/(<([^>]+)>)/ig,""),result:O.replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?"+Q+"q="+O.replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")+J};
}}return M;
}function H(O,N,M){return A("<a/>").attr("href",O.url).addClass("txt4").html(O.data);
}function E(M){if(M&&M.line1&&M.line2&&M.visible_url){var N=A("<div/>");
N.append(A("<div/>").addClass("label").html("Sponsored Result"));
N.append(A("<div/>").addClass("line1").html(M.line1));
N.append(A("<div/>").addClass("line2").html(M.line2));
N.append(A("<div/>").addClass("url").html(M.visible_url));
return N;
}return false;
}function C(O,M){var N=A("<div/>",{"id":"ssdisable"}).appendTo(O);
A("<a/>",{"href":"#","class":"txt1",text:"Turn off suggestions",click:function(){A(M).unautocomplete();
JASK.ss.cookie.disable();
}}).appendTo(N);
}});
};
})(jQuery);
$j(document).ready(function(){if(!JASK.ssCfg.disableSS&&JASK.ss.cookie.isAvailable()){$j("input[name=q]:first").searchsuggestion();
}});

JASK.namespace("logging");
JASK.logging.JALogger=function JALogger(A){var D={iId:"0"};
$j.extend(D,JASK.cfg.trackerData);
if(A){$j.extend(D,A);
}var C=this;
function B(J,G,K){var F=(G)?G:JASK.cfg.trackerImpressionUri;
var I=K||function(){};
var H={};
$j.extend(H,JASK.cfg.trackerData,J);
$j.ajax({url:F,data:H,success:I,cache:false,global:false});
}function E(F){if(D.gaMode&&F.iId&&F.evId&&_gaq&&_gaq.push){_gaq.push(["_trackEvent",F.iId,F.evId,""]);
}}this.bindActivity=function(K,I){var H="*[data-activity]";
var F=(K)?$j(K).find(H):$j(H);
function G(){var L=$j(this).attr("data-activity");
B({"iId":D.iId,"evId":L,"qsrc":D.qsrc},JASK.cfg.trackerActivityUri);
E({"iId":D.iId,"evId":L});
}var J=I||G;
C.bind(F,J);
};
this.bind=function(F,H){if(typeof F=="string"){var G=$j(F);
}else{var G=F;
}G.each(function(){var I=($j(this).attr("data-eventType"))?$j(this).attr("data-eventType"):"mousedown";
$j(this).unbind(I+".activity");
$j(this).bind(I+".activity",H);
});
};
this.activity=function(F){B(F,JASK.cfg.trackerActivityUri);
E(F);
};
this.impression=function(F){B(F);
$j.extend(D,F);
};
this.setParams=function(F){$j.extend(D,F);
};
this.resetParams=function(){D={iId:"0"};
$j.extend(D,JASK.cfg.trackerData);
};
this.getParams=function(){return D;
};
};
JASK.logging.fid="generic";
JASK.logging.regFlowPixel=function regFlowPixel(A){var B=$j(document).data("regFlowID");
clearTimeout(B);
B=setTimeout(function(){if($j){var G=A||"start";
var F=Math.random()+"";
var C=F*10000000000000;
var E=$j.cookie("wz_uid");
var H=JASK.cfg.trackerData["o"];
var D=G==="start"?"signi429":"signi941";
var I=G==="start"?"ask_s499":"ask_a340";
$j('<iframe src="httpdisabled://fls.doubleclick.net/activityi;src=2903398;type='+D+";cat="+I+";u1="+E+";u4=;u3=;u2="+H+";ord="+C+'?" width="1" height="1" frameborder="0"></iframe>').appendTo("body");
}},500);
$j(document).data("regFlowID",B);
};
(function(A){A.fn.ja_addClickId=function(B){return this.each(function(){A(this).mousedown(function(){if(B){sct(B);
}});
});
};
})(jQuery);
JASK.logging.doPickOrdinal=function doPickOrdinal(G,A){var E=121;
var F="00000000000000000000000000000001";
var D=JASK.logging.getPickFragmentOrdinal(G,A);
var C=encodeURI(_SP(D));
C=JASK.logging.setPickUrlLdId(C);
C=$j.param.querystring(C,"c="+JASK.logging.fid);
C=$j.param.querystring(C,"qs="+E);
C=$j.param.querystring(C,"id="+F);
C=decodeURI($j.param.querystring(C,"p=1"));
var B=new Image();
B.src=C;
};
JASK.logging.getLdIdFromLdptCookie=function getLdIdFromLdptCookie(){var A="0";
var D=$j.cookie("ldpt");
if(D&&D.length>0){var B=D.indexOf("porg=");
if(B!=-1){try{A=D.substring(B+5,B+9);
}catch(C){}}}return A;
};
JASK.logging.setPickUrlLdId=function setPickUrlLdId(C){var A=C;
var B=JASK.logging.getLdIdFromLdptCookie();
var D=C.indexOf("&ex=");
if(D!=-1){A=C.substring(0,D);
}return $j.param.querystring(A,"ld="+B);
};
JASK.logging.getPickFragmentOrdinal=function getPickFragmentOrdinal(F,A){var E={en:"",io:A,b:"",tp:"d",ec:"1",ex:""};
var B=F.split("-");
var C=B[0];
var D=B[1];
if(D=="cf_action"){E.en="ccf";
}if(C=="cfalert"){E.b="jfc";
}return E;
};
JASK.logging.getPickFragment=function getPickFragment(A){return JASK.logging.getPickFragmentOrdinal(A,"0");
};
JASK.logging.doPick=function doPick(A){JASK.logging.doPickOrdinal(A,"0");
};

function _RP(B){if(WZInfo.pickRedirectPrefix!=""){return WZInfo.pickRedirectPrefix+pob(B);
}else{var A=WZInfo.pickRedirectDefault.replace("c=a&","c=anc&");
A=A.replace("q=&","q=default&");
return A+pob(B);
}}function _SP(B){if(WZInfo.pickPrefix!=""){return WZInfo.pickPrefix+pob(B);
}else{var A=WZInfo.pickPrefix.replace("c=a&","c=anc&");
A=A.replace("q=&","q=default&");
return A+pob(B);
}}function ptxt(A){var B="";
if(A.innerHTML){B=A.innerHTML;
B=B.replace(/<\/?[^>]+>/ig,"");
B=B.replace(/&amp;/g,"&");
}return B;
}function pk(A,D,C){if(A&&A.href){if(A.wzup){return true;
}if(!D.u){D.u=A.href;
}if(document.all&&navigator.userAgent.indexOf("MSIE")!=-1){D.u=enc(D.u);
}var B=(C)?obj(C):A;
if(!D.pt){switch(D.en.toLowerCase()){case"js":case"is":D.pt=D.en.toUpperCase()+" thumbnail";
break;
default:D.pt=ptxt(B);
}}A.href=_RP(D);
A.wzup=1;
}return true;
}function nopk(A,C,B){return true;
}function spk(A,E,D,C){if(A&&A.href&&E){if(!E.u){if(C){E.u=C;
}else{E.u=A.href;
}}if(!E.pt){var B=(D)?obj(D):A;
E.pt=ptxt(B);
}}return(new Image()).src=_SP(E);
}function noct(A,B){return true;
}function ct(A,C){if(A&&A.href&&C){if(!A.oUrl){A.oUrl=A.href;
}var B=A.innerHTML;
A.href=WZInfo.ctRedirectPrefix(C,A.oUrl);
if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&A.innerHTML!=B){A.innerHTML=B;
}}return true;
}function nosct(E,A,B){if(E){var C="";
if(A){C=((A.href)?A.href:A);
}var D=C;
return D;
}}function sct(F,A,B){if(F){var D="";
if(A){D=((A.href)?A.href:A);
}var E=WZInfo.ctPrefix(F,D);
E=E+"&rnd="+Math.random().toString();
var C=new Image();
if(B){setTimeout(function(){C.src=E;
},100);
}else{C.src=E;
}return E;
}}function wzr(C,A){if(C&&A){var B=WZInfo.ctRedirectPrefix(C,A);
if(B){return B;
}}}function enc(A){return(typeof encodeURIComponent!="undefined")?encodeURIComponent(A):escape(A);
}function obj(C,B){if(!B){B=document;
}var A=B.getElementById(C);
return A;
}function pob(A){A=A||{};
return WZInfo.pickObjConversion(A);
}function h(A){return(A!=null&&A!="undefined")?A:"";
}function cspk(A,E,F,C){var B="co";
if(E=="ahdict"){B="dicp";
}if(E=="roget"){B="dicp";
}if(E=="wiki"){B="wk";
}if(E=="col"){B="cb";
}if(E=="hmwh"){B="h0";
}if(E=="hmff"){B="h1";
}if(E=="wordnet"){B="dicp";
}if(E=="wordnetuk"){B="dicp";
}var D={};
D.en=B;
D.b="sa";
D.tp="d";
D.ec="1";
D.io=F;
if(C){spk(A,D);
}else{pk(A,D);
}return true;
}function fp(O,C,F,I,D,E){if(O.href){var M=O.href.match(WZInfo.framedPickDomainRE);
if(M){var P,N,B,G,H,J,A;
G=M[1];
B=M[2];
H=WZInfo.framedPickSearchDomain;
J=WZInfo.framedPickAdvLang;
A=WZInfo.framedPickAdvCtry;
N=WZInfo.framedPickUrlPrefix;
if(H){N+="&dm="+H+"&advl="+J+"&advc="+A;
}G+="u="+B+"&bu="+enc(N)+WZInfo.framedPickUrlPrefix2;
if(H){G+="&dm="+H;
}if(D){G+="&ou="+enc(E);
}if(F=="true"){var K=_mb(I);
var L;
if(D){P=WZInfo.framedPickTitle+E;
L=WZInfo.framedPickAbstract+D;
}else{L=_ma(I);
}G+="&ma="+enc(L)+"&mt="+enc(P)+"&mb="+K;
}C.url=(E)?E:O.href;
C.u=G;
}pk(O,C);
}return true;
}function InitClickLog(){var D=function(){return sct(this.getAttribute("ask_clicklogid"),this);
};
var A=document.getElementsByTagName("A");
for(var B=A.length-1;
B>=0;
B--){var C=A[B].getAttribute("ask_clicklogid");
if(C){ask.util.Events.addListener(A[B],"mousedown",D);
}}A=document.getElementsByName("ask_clicklog");
for(var B=A.length-1;
B>=0;
B--){var C=A[B].getAttribute("ask_clicklogid");
if(C){ask.util.Events.addListener(A[B],"mousedown",D);
}}}
JASK.isAuthenticated=function isAuthenticated(){return !!($j.cookie(JASK.cookieName));
};
JASK.doLogOut=function doLogOut(){JASK.doLogOutCookieLogic();
$j("a#signInUserLink").text("Sign In");
$j("#mini_me").css("display","none");
$j(document).trigger("logout");
};
JASK.removeSignInMiniMe=function(){JASK.doLogOutCookieLogic();
JASK.deleteCUCACookie();
$j("#mini_me").css("display","none");
$j(document).trigger("logout");
};
(function(A){A.fn.switchAuthentication=function(){return this.each(function(){A(this).click(function(){if(!JASK.isAuthenticated()){sct(51143);
JASK.ask_dialog.initSignin(3123);
return false;
}else{sct(53316);
JASK.doLogOut();
}return false;
});
});
};
})(jQuery);

JASK.showValidateMsg=function showValidateMsg(C,B,E,D){var A=D?D:300;
if(C=="errTip"){$j(B).html("<span class='error tip_msg'>"+E+"</span>");
}else{if(C=="clearTip"){$j(B).text("");
}else{if(C=="error"){$j(B).fadeOut(A,function(){$j(this).html("<span class='validate_error b txt3'>"+E+"</span>").fadeIn(A);
});
}else{if(C=="success"){$j(B).html("<div class='green_check'></div>");
}else{if(C=="help"&&$j(B).text()==""){$j(B).fadeOut(A,function(){$j(this).html("<span class='txt2 info'>"+E+"</span>").fadeIn(A);
});
}else{if(C=="clear"){$j(B).fadeOut(A,function(){$j(this).text("").fadeIn(A);
});
}else{if(C=="success_message"){$j(B).html("<div class='green_check'></div><div class='validate_successmsg b txt3'>"+E+"</div>");
}else{if(C=="error_message"){$j(B).html("<div class='erroricon' style='float:left;margin-left:0;'></div><div class='validate_errormsg b txt3'>"+E+"</div>");
}else{if(C=="success_clear"){$j(B).html("<div class='green_check'></div><div class='validate_successmsg b txt3'>"+E+"</div>").fadeTo(D,1).fadeOut(800);
}else{if(C=="clear_html"){$j(B).fadeOut(A);
}else{if(C=="tipTitle"){$j(B).html(E);
}}}}}}}}}}}};
JASK.getDialogOffset=function(B,A){var C=[($j(window).width()-B)/2,100];
if(A<$j(window).height()){C[1]=($j(window).height()-A)*0.3;
}return C;
};
$j(document).ready(function(){$j.ui.dialog.prototype.options.autoReposition=($j.browser.msie&&(parseInt($j.browser.version)<8))?false:true;
$j(window).resize(function(){$j(".ui-dialog-content:visible").each(function(){var A=$j(this).data("dialog");
if(A.options.autoReposition){A.option("position",A.options.position);
}});
});
});
(function(A){A.fn.showBusy=function(){return this.each(function(){if(($j(this).css("display")!="none")&&(!A.browser.msie||$j.browser.msie&&(parseInt($j.browser.version)>7))){$j(this).data("isBusy",true);
var B=($j(this).hasClass("JAButton"))?$j(this):$j(this).find(".JAButton");
if(B.length){var L=(A.browser.msie)?0:400;
if(B.hasClass("btn-mr6")){var K=B.find(".JAButtonLabel:visible"),I=B.css("width");
var J=B.offset(),G=B.innerHeight();
var D="<img align='top' class='JASpinner' height='"+parseInt(G/2)+"' style='position:absolute;left:0px;top:0px;margin-left:47%;margin-top:"+parseInt(G/4)+"px;' src='http://"+JASK.cfg.staticDomain+"/sh/i/a14/ajax-loaddisableder-1.gif'>";
var E=K.html();
K.html("<div class='JAInnerLabel' style='white-space:nowrap;float:left;text-align:center;width:"+(I)+"'><span style='color:#aaa'>"+E+"</span> "+D+"</div>");
var F=B.html();
K.html(E);
F=F.replace(/blue-/g,"gray-");
var C=A("<div class='overlay_button' style='width:"+I+";display:none;position:absolute;top:"+J.top+"px;left:"+J.left+"px;z-index:1000;'>"+F+"</div>").insertBefore(B);
C.fadeIn(L);
}else{var K=B.find(".JAButtonLabel:visible"),H=K.innerWidth();
var J=B.offset(),G=B.innerHeight();
var D="<img align='top' class='JASpinner' height='"+parseInt(G/2)+"' style='position:absolute;left:0px;top:0px;margin-left:42%;margin-top:"+parseInt(G/4)+"px;' src='http://"+JASK.cfg.staticDomain+"/sh/i/a14/ajax-loaddisableder-1.gif'>";
var E=K.text();
K.html("<div class='JAInnerLabel' style='white-space:nowrap;float:left;text-align:center;width:"+(H-30)+"'>"+E+" "+D+"</div>");
var F=B.html();
K.html(E);
F=F.replace(/blue-/g,"gray-");
var C=A("<div class='overlay_button' style='display:none;position:absolute;top:"+J.top+";pxleft:"+J.left+";px'>"+F+"</div>").insertBefore(B);
C.fadeIn(L);
}}}});
};
})(jQuery);
(function(A){A.fn.showDone=function(B){return this.each(function(){if(($j(this).css("display")!="none")&&(!A.browser.msie||$j.browser.msie&&(parseInt($j.browser.version)>7))){$j(this).removeData("isBusy");
var E=($j(this).hasClass("JAButton"))?$j(this):$j(this).find(".JAButton");
if(E.length){var C=(A.browser.msie)?0:400;
var D=E.siblings(".overlay_button");
D.find(".JASpinner").hide();
if(B){D.remove();
}else{D.fadeOut(C,function(){$j(this).remove();
});
}}}});
};
})(jQuery);
(function(A){A.fn.ja_collapsibleMenu=function(){function B(D){A(document).one("mouseup",D,C);
}function C(I){var G=I.data,H=I.target,J=G.menu,K=G.menuId,D=A(H).parents(K).length===1;
D=!D?H.id===J[0].id:D;
function F(){J.toggle();
J.parent().css("zIndex",0);
J.parent().parent().css("zIndex",0);
}if(D){var E=A(H).parents("a");
if((H.tagName==="A"||H.tagName==="a"||E.length==1)&&I.button!==2){F();
}else{B(G);
}}else{F();
}}return this.click(function(){var E=this,D=E.id.split("-"),H=D[1],G="#collapsibleLinkmenu-"+H,F=A("#collapsibleLinkmenu-"+H);
F.toggle();
if(F.is(":visible")){F.parent().css("zIndex",1002);
F.parent().parent().css("zIndex",1003);
}else{F.parent().css("zIndex",0);
F.parent().parent().css("zIndex",0);
}if(F.is(":visible")){B({menu:F,menuId:G});
}return false;
});
};
})(jQuery);
$j(document).ready(function(){$j("a.collapsibleLink").ja_collapsibleMenu();
});
(function(A){A.fn.ja_textarealimit=function(B){return this.each(function(){A(this).keypress(function(F){var G=F.target;
B=B||{};
var E=(B.speed)?B.limit:2048;
var C=E-G.value.length;
var D=F.charCode?F.charCode:F.keyCode?F.keyCode:0;
if(C<=0){if((F.ctrlKey&&D==97)||(F.ctrlKey&&D==65)){return true;
}if((F.ctrlKey&&D==120)||(F.ctrlKey&&D==88)){return true;
}if((F.ctrlKey&&D==99)||(F.ctrlKey&&D==67)){return true;
}if((F.ctrlKey&&D==122)||(F.ctrlKey&&D==90)){return true;
}if((F.ctrlKey&&D==118)||(F.ctrlKey&&D==86)||(F.shiftKey&&D==45)){return true;
}if(D>32&&D<40){return true;
}return D==46||D==8||D==9;
}});
});
};
})(jQuery);
(function(A){A.fn.ja_slidablePost=function(C,B){A(this).click(function(){var E=this.id.split("-");
var H=E[0];
var G="#"+H+"-content";
B=B||{};
var F=A(G).is(":hidden");
if(!F){A("#"+H+"-link").text("Show "+C);
}else{A("#"+H+"-link").text("Hide "+C);
}A("#"+H+"-arrow").toggleClass("rightlinkimg",!F);
A("#"+H+"-arrow").toggleClass("droplinkimgmoderationmessage",F);
var D=(B.speed)?B.speed:200;
A(G).slideToggle(D);
return false;
});
};
})(jQuery);
(function(A){A.fn.ja_slidableLink=function(B){return this.each(function(){A(this).click(function(){var E=this.id.split("-");
var G=E[0];
var F="#"+G+"-content";
var D="#"+G+"-toggleStatus";
B=B||{};
var C=(B.speed)?B.speed:400;
A(F).slideToggle(C,function(){var H=A(F).is(":hidden");
A(D).toggleClass("tglplus",H);
A(D).toggleClass("tglminus",!H);
});
return false;
});
});
};
})(jQuery);

JASK.cookieName="cs";
JASK.deleteUserCookies=function deleteUserCookies(){if($j.cookie(JASK.cookieName)){$j.cookie("wz_cu","2",{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:63072000});
$j.cookie("cu.wz","2",{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:63072000});
}$j.cookie(JASK.cookieName,null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
$j.cookie("cp",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
$j.cookie("lcv",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
};
JASK.createCUCACookie=function(){if(!$j.cookie("cu.ca")){var A=new Date();
A.setTime(A.getTime()+(365*24*60*60*1000));
document.cookie="cu.ca="+JASK.CPCookie.getUserName()+"|"+JASK.CPCookie.getAvatarURL()+";expires="+A.toUTCString()+";domain=."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,"")+";path=/;";
}};
JASK.deleteCUCACookie=function(){$j.cookie("cu.ca",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
};
JASK.doLogOutCookieLogic=function(){JASK.createCUCACookie();
JASK.deleteUserCookies();
};
JASK.isEraserOn=function isEraserOn(){return !!($j.cookie("askeraser"));
};
JASK.CPCookie={getParsedValues:function(){var B=$j.cookie("cp"),A=[];
if(B){A=B.split("|");
}return A;
},getAvatarURL:function(){var A=this.getParsedValues();
return A[3]?A[3]:"httpdisabled://"+JASK.cfg.staticDomain+"/sh/i/a14/c/generic.png";
},getUserName:function(){var A=this.getParsedValues();
return A[8]?A[8]:"";
}};

$j(document).ready(function(){JASK.ask_dialog.loaddisabledAskDialog();
$j(document).bind("userCreated",function(){$j("a#signInUserLink").text("Sign Out");
$j("#mini_me").loaddisabled(JASK.cfg.ldomain+"/ja-mini-me",function(){JASK.voidConfirm();
});
$j("#mini_me").css("display","inline");
});
});

$j(document).ready(function(){$j("#signInUserLink,#miniMeSignIn").switchAuthentication();
$j("#miniMeSignOut").click(function(){JASK.removeSignInMiniMe();
});
$j("#miniMeSignUp").click(function(){JASK.ask_dialog.initSignup();
});
var B=$j("#mini_me_notification");
JASK.intervals={};
JASK.cfg.idle=false;
var A=function(){if(JASK.isAuthenticated()){B.loaddisabled(JASK.cfg.ldomain+"/jn?rnd="+new Date().getTime());
}};
var F=function(){var G=$j("#mini_me #notification_link");
if(G.length>0){$j("#notification_img").effect("bounce",{times:4,distance:10},500);
}};
var D=function(){if(B.length>0&&JASK.cfg.poll){JASK.intervals["notification"]=setInterval(A,30000);
JASK.intervals["bounce"]=setInterval(F,5000);
}};
D();
JASK.timers={};
var E=function(){JASK.timers["idler"]=setTimeout(function(){clearInterval(JASK.intervals["notification"]);
clearInterval(JASK.intervals["bounce"]);
JASK.cfg.idle=true;
},1200000);
};
E();
var C="mousemove keydown DOMMouseScroll mousewheel mousedown";
$j(document).bind(C,function(){clearTimeout(JASK.timers["idler"]);
E();
if(JASK.cfg.idle){JASK.cfg.idle=false;
A();
D();
}});
});
$j(document).ready(function(){if(JASK.isAuthenticated()){$j("#mini_me").css("display","inline");
}});

