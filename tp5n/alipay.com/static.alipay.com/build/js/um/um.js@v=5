(function(g,C){var d={version:"0.5",enabled:true,debug:false,ratio:1,timeout:3000,timestamp:"-",token:"",flashUrl:"/assets/lsa.swf",serviceUrl:"/service/um.json"},w=[10,8,7,3,2],z=window,Q=z.document,L=z.navigator,K=0,x=null,k=false,v=null,y=false,f,M,e=function(){v=Q.getElementById("umData");x=Q.getElementById("umFlash");try{k||(k=x&&x.md5)}catch(i){}};z.umw&&umw.walk("execstart");var m=function(){var s=Q.getElementById!=C&&Q.getElementsByTagName!=C&&Q.createElement!=C,r=L.userAgent.toLowerCase(),q=L.platform.toLowerCase(),F=q?/win/.test(q):/win/.test(r);q=q?/mac/.test(q):/mac/.test(r);var D=/webkit/.test(r)?parseFloat(r.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,B=/msie/.test(r);/opera/.test(r);r=!D&&/gecko/.test(r);var u=function(H,I){return L.plugins&&L.plugins[H]&&L.mimeTypes&&L.mimeTypes[I]&&L.mimeTypes[I].enabledPlugin?L.plugins[H]:false},o=function(I){var J=false;try{J=new ActiveXObject(I)}catch(H){}return J},p,n,j=[0,0,0],E=0,G=0;if(z.ActiveXObject){if(p=o("ShockwaveFlash.ShockwaveFlash")){try{if(n=p.GetVariable("$version")){n=n.split(" ")[1].split(",");j=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]}}catch(i){}p=null}if(p=o("Aliedit.EditCtrl")){try{E=1;if(typeof p.alieditVersion!="undefined"){E=parseInt(p.alieditVersion(),10)||1}}catch(A){}p=null}if(p=o("Alim.webmod")){try{G=1;if(typeof p.getHardVersion!="undefined"){G=parseInt(p.getHardVersion().replace(/\./g,""),10)||1}}catch(t){}p=null}}else{if((p=u("Shockwave Flash","application/x-shockwave-flash"))&&p.description){n=p.description.replace(/^.*\s+(\S+\s+\S+$)/,"$1");j[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10);j[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10);j[2]=/[a-zA-Z]/.test(n)?parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;p=null}if(p=u("Aliedit Plug-In","application/aliedit")||u("Alipay security control","application/aliedit")){E=1;if(typeof p.getAlieditVersion!="undefined"){E=parseInt(p.getAlieditVersion(),10)||1}p=null}}return{w3:s,flash:j,edit:E,mod:G,wk:D,gk:r,ie:B,win:F,mac:q}}(),R=function(){var i=[];return function(n){if(window.Tracker){var j=Tracker.minInterval;Tracker.minInterval=0;Tracker.click("um-"+n);Tracker.minInterval=j}else{if(n){i.push(n);setTimeout(function(){R(i.shift())},100)}}}}(),c=function(o){for(var n=1,j=arguments.length;n<j;n++){for(var i in arguments[n]){if(arguments[n].hasOwnProperty(i)){o[i]=arguments[n][i]}}}return o},l=function(n,j,i){if(n.attachEvent){n.attachEvent("on"+j,function(o){i.call(n,o)})}else{if(n.addEventListener){n.addEventListener(j,i,false)}else{n["on"+j]=function(o){i.call(n,o)}}}},b=function(){var j=Q.getElementsByTagName("head")[0]||Q.documentElement,i=function(o){var n="_"+parseInt(Math.random()*10000,10)+"_"+(new Date).getTime();window[n]=function(p){o(p);j.removeChild(Q.getElementById(n));try{delete window[n]}catch(q){}};return n};return function(r,o,n){var t=false,s=document.createElement("script");o=i(o);r=r;var p;p=[];for(var q in n||{}){p.push(q+"="+encodeURIComponent(n[q]))}p.push("_callback="+o);r+=r.indexOf("?")>0?"&":"?";r+=p.join("&");s.id=o;s.onloaddisabled=s.onreadystatechange=function(){if(!t&&(!this.readyState||this.readyState==="loaddisableded"||this.readyState==="complete")){t=true;R("req-resp");s.onloaddisabled=s.onreadystatechange=null}};R("req-sent");s.src=r;j.insertBefore(s,j.firstChild)}}();g.getStatus=function(i){return i?K:K>=200};g.init=function(p){if(!y){y=true;z.umw&&umw.walk("initenter");try{M=c({},d,p||{})}catch(o){R("err-extend")}K=1;var n=0;f=setTimeout(function(){if(K<3){e();n++;if(n<10&&x){R(k?"timeout-flash":"timeout-flash-na");setTimeout(arguments.callee,M.timeout>>1);h();return}else{setTimeout(arguments.callee,200)}}K<200&&R("timeout");K=201},M.timeout);if(M.enabled&&(M.ratio<=1||!parseInt(Math.random()*M.ratio,10))){R("hit");var j=true,i=false;p=function(r){if(j){(j=(r.which||r.charCode||r.keyCode)==13||i&&r.button==1)||R("manual")}};l(Q,"mousemove",function(){i=true});l(Q,"click",p);l(Q,"keydown",p);l(Q,"keypress",p);try{a()}catch(q){R("init-error")}}else{R("missed")}z.umw&&umw.walk("initfinish")}};var h=function(){var n=function(p,o){if(typeof p!="boolean"&&(!p||p=="-")){return"-"}switch(o){case 0:if(typeof p==="string"){p=p==="true"}result=p?"1":"0";break;case 1:result=parseInt(p,10)||0;break;case 2:p=""+p;result=k&&p.length>32?x.md5(p):p;break;default:result="-"}return result},j={set:function(p,o){try{x&&x.setCookie(p,o)}catch(s){}if(z.localStorage){localStorage[p]=o}if(L.cookieEnabled){var r=p+"="+encodeURIComponent(o);r+=";expires="+(new Date((new Date).getTime()+31536000000)).toGMTString();Q.cookie=r}if(m.ie&&v){v.setAttribute(p,o);try{v.save("um")}catch(q){}}},get:function(r,p){var A,u="",s=0;if(p==C){p=255}if(k){try{A=x.getCookie(r)||"";if(!u&&p&1){u=A}s+=w[0]}catch(t){}}if(z.localStorage){A=localStorage[r]||"";if(!u&&p&4){u=A}s+=w[2]}if(v){try{v.loaddisabled("um")}catch(q){}A=v.getAttribute(r);if(!u&&p&8){u=A}s+=w[3]}if(L.cookieEnabled){var o=Q.cookie.indexOf(r+"=");if(o!=-1){o+=r.length+1;A=Q.cookie.indexOf(";",o);if(A==-1){A=Q.cookie.length}A=decodeURIComponent(Q.cookie.substring(o,A)||"")}if(!u&&p&8){u=A}s+=w[4]}p=R("points-"+s);u&&p==255&&j.set(r,u);return u},remove:function(p,o){if(o==C){o=255}if(L.cookieEnabled&&o&16){Q.cookie=p+"=;expires=Thu, 01-Jan-70 00:00:01 GMT;"}if(m.ie&&o&8&&v){v.removeAttribute(p);try{v.save("um")}catch(q){}}o&4&&z.localStorage&&localStorage.removeItem(p);o&1&&k&&x.setCookie(p,"")}},i=[{avHardwareDisable:[0,0],hasAudio:[0,0],hasAudioEncoder:[0,0],hasMP3:[0,0],hasPrinting:[0,0],hasStreamingAudio:[0,0],hasStreamingVideo:[0,0],hasVideoEncoder:[0,0],maxLevelIDC:[1,0],pixelAspectRatio:[1,0],screenColor:[2,0],screenDPI:[1,0],screenResolutionX:[1,0],screenResolutionY:[1,0]},{hasAccessibility:[0,0],hasEmbeddedVideo:[0,0],hasScreenBroadcast:[0,0],hasScreenPlayback:[0,0],isDebugger:[0,0],isEmbeddedInAcrobat:[0,0],hasIME:[0,0],hasTLS:[0,0],language:[2,0],languages:[2,0],localFileReadDisable:[0,0],os:[2,0],fonts:[2,0],cookieEnabled:[0,1],platform:[2,1,function(o){if(!o){return""}return o.split(" ").shift()}]},{playerType:[2,0],version:[2,0],userAgent:[2,1],appCodeName:[2,1],appMinorVersion:[2,1],appName:[2,1],appVersion:[2,1],systemLanguage:[2,1],userLanguage:[2,1],browserLanguage:[2,1],manufacturer:[2,0],cpuClass:[2,1]}];return function(){if(!(arguments.callee.invoked||!y)){arguments.callee.invoked=true;K=3;window.__flash__removeCallback=function(O,N){if(O){O[N]=null}};e();var H={xt:M.token||"",xf:k&&m.flash[0]>=9?1:0};H.xt||R("no-token");try{if(m.ie&&m.edit){var F=new ActiveXObject("Aliedit.EditCtrl");if(F.UseP){H.xp=F.ci2()}}if(m.mod){var D=new ActiveXObject("Alim.webmod");if(m.mod>=2001){D.timestamp=M.timestamp||"-"}H.xh=D.ciraw()}}catch(u){R("err-run");if(!H.xp){H.xp=""}if(!H.xh){H.xh=""}}try{for(F=0;F<3;F++){D=[];var r=[],s=i[F],q;for(q in s){s.hasOwnProperty(q)&&D.push(q)}D=D.sort();for(var p=0,G=D.length;p<G;p++){var I=i[F][D[p]],o="";try{if((o=(I[1]?L[D[p]]:k&&x.getCapabilities(D[p]))||"")&&I[2]){o=I[2](o)}}catch(B){}r.push(n(o,I[0]))}H["x"+F]=r.join("^^")}}catch(t){R("err-read")}var J;try{J=H.xs=j.get("_umdata")}catch(A){R("err-read")}K=4;try{b(M.serviceUrl,function(N){f&&clearTimeout(f);if(!N||!("id" in N)){K=200;R("invalid")}else{K=255;(J=N.id)&&j.set("_umdata",J);M.debug&&M.onCompleted&&M.onCompleted(N.id)}},H)}catch(E){R("err-send")}}}}(),a=function(){g.flashLoaded=function(){if(!(arguments.callee.invoked||!y)){k=arguments.callee.invoked=true;h()}};return function(){if(!(arguments.callee.invoked||!y)){arguments.callee.invoked=true;K=2;try{m.ie&&void('<input type="hidden" id="umData" style="behavior:url("#default#userData")"/>')}catch(j){R("err-ud")}if(m.flash[0]>=9){try{void(m.ie?'<objectdisabled type="application/x-shockwave-flash" width="1" height="1" id="umFlash"><param name="movie" value="'+M.flashUrl+'" /><param name="allowScriptAccess" value="always" /></object>':'<objectdisabled type="application/x-shockwave-flash" data="'+M.flashUrl+'" width="1" height="1" id="umFlash"><param name="allowScriptAccess" value="always" /></object>')}catch(i){R("err-fl");h()}}else{R("no-flash");h()}}}}();z.umw&&umw.walk("execend")})(window.um={});