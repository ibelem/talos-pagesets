(function(){$.fn.tabelaClassificacao=function(tipo,slug,edicao,nome,ge_server_url){$btnCombo=$('#ge-classificacao-generica .ge-combo-classificacao');$widgetTitulo=$("#ge-classificacao-generica .widget-titulo strong");$table=$("#ge-classificacao-generica table");$thead=$("thead",$table);$tbody=$("tbody",$table);$link=$("#ge-classificacao-generica .link");tipo_widget=tipo;url_campeonato='';slug_time='';pos=0;geServer=ge_server_url;if(tipo_widget=="campeonato")
{url_campeonato=geServer+'/dynamo/futebol/campeonato/todos.json';if(($.cookie("GLOBOESPORTE_PREFS")!==null)){var list=$.cookie("GLOBOESPORTE_PREFS").split(',');slug=list[0];nome=list[1];edicao=list[2];$widgetTitulo.html('<a href="" >'+limpaTituloCampeonato(nome)+'</a>');$("thead",$table).show();$link.html('<a href="" title="veja tudo sobre '+nome+'">veja tudo sobre '+nome+' &raquo;</a>').addClass('link-mata-mata');}}
else{slug_time=slug;url_campeonato=geServer+'/dynamo/futebol/time/'+slug_time+'/campeonatos.json';}
self.toolTipClassificacaoGenerico();$.jsonp({url:url_campeonato,timeout:2000,cache:true,success:self.populateCampeonatos,error:self.populateErro()});if(tipo_widget=='campeonato'){self.obterCampeonatoGenerico(slug,edicao,nome);}},populateCampeonatos=function(response){$dropdown=$(".ge-combo-classificacao-opcoes ul");proximo_campeonato='';html='';$.each(response.campeonatos,function(index,campeonato){if(campeonato.proximo){proximo_campeonato=campeonato;}
html+='<li><a href="#" slug="'+campeonato.slug+'" edicao="'+campeonato.edicao.slug+'">'+campeonato.nome+'</a></li>';});$dropdown.append(html);$("li a",$dropdown).bind('click',function(){if($btnCombo.hasClass("ativo")){$btnCombo.removeClass("ativo");$btnCombo.addClass("inativo");}
else{$btnCombo.addClass("ativo");$btnCombo.removeClass("inativo");}
$(".ge-combo-classificacao-opcoes").hide();$(".tabela-classificacao").show();$("#ge-classificacao-generica .link").show();pos=0;obterCampeonatoGenerico($(this).attr('slug'),$(this).attr('edicao'),$(this).text());return false;});if(tipo_widget=='time'){$widgetTitulo.html('<a href="" >'+proximo_campeonato.nome+'</a>');$link.html('<a href="" title="veja tudo sobre '+proximo_campeonato.nome+'">veja tudo sobre '+proximo_campeonato.nome+' &raquo;</a>').addClass('link-mata-mata');self.obterCampeonatoGenerico(proximo_campeonato.slug,proximo_campeonato.edicao.slug,proximo_campeonato.nome);}},obterCampeonatoGenerico=function(slug,edicao,nome){var value=slug+','+nome+','+edicao;$widgetTitulo.html('<a href="" >'+self.limpaTituloCampeonato(nome)+'</a>');$link.html('<a href="" title="veja tudo sobre '+nome+'">veja tudo sobre '+nome+' &raquo;</a>').addClass('link-mata-mata');$.cookie("GLOBOESPORTE_PREFS",value,{expires:3});if(slug_time==''){urlJsonTpl=this.geServer+"/dynamo/futebol/campeonato/{slug}/{edicao}/widget_classificacao.json";urlJson=urlJsonTpl.replace("{slug}",slug).replace("{edicao}",edicao);}
else{urlJsonTpl=this.geServer+"/dynamo/futebol/campeonato/{slug}/{edicao}/{time}/widget_classificacao.json";urlJson=urlJsonTpl.replace("{slug}",slug).replace("{edicao}",edicao).replace("{time}",slug_time);}
$.jsonp({url:urlJson,timeout:2000,cache:true,success:self.populateTabela,error:self.populateErro()});},populateTabela=function(response){dados=response;$("a",$link).attr('href',dados.classificacao.url);$("a",$widgetTitulo).attr('href',dados.classificacao.url);if(dados.classificacao.tipo=='pontos_corridos_simples'){self.populatePontosCorridosSimples();}else if(dados.classificacao.tipo=='pontos_corridos_grupada'){self.populatePontosCorridosGrupada();}else if(dados.classificacao.tipo=='mata_mata'){self.populateMataMata();}
else{self.populateErro();}},populatePontosCorridosSimples=function(data){$thead.html('<tr><td colspan="2" class="atualizada">classificação atualizada</td><td>P</td><td>J</td><td>V</td></tr>');html='';$.each(dados.classificacao.times,function(index,time){if(time.slug==slug_time){html+='<tr class="time-home">'+'<td class="cor-tabela destaque">'+time.ordem+'</td>'+'<td class="time destaque">'+time.nome_popular+'</td>'+'<td class="coluna-p destaque">'+time.pontos+'</td>'+'<td class="coluna-j destaque">'+time.jogos+'</td>'+'<td class="coluna-v destaque">'+time.vitorias+'</td>'+'</tr>';}
else{html+='<tr class="time-home">'+'<td class="cor-tabela">'+time.ordem+'</td>'+'<td class="time">'+time.nome_popular+'</td>'+'<td class="coluna-p">'+time.pontos+'</td>'+'<td class="coluna-j">'+time.jogos+'</td>'+'<td class="coluna-v">'+time.vitorias+'</td>'+'</tr>';}});$("thead",$table).show();$tbody.html('');$tbody.html(html);var self=this;},populatePontosCorridosGrupada=function(){$thead.html('<tr><td class="atualizada" colspan="2"><span>'+dados.classificacao.grupos[0].nome_grupo+'</span><a href="#" class="anterior btn-off">anterior</a><a href="#" class="proximo">proximo</a></td><td>P</td><td>J</td><td>V</td></tr>')
self.readJsonPontosCorrigosGrupada();},readJsonPontosCorrigosGrupada=function(){grupoLength=dados.classificacao.grupos.length;html='';$.each(dados.classificacao.grupos[pos].times,function(index,time){if(time.slug==slug_time){html+='<tr class="time-home">'+'<td class="cor-tabela destaque">'+time.ordem+'</td>'+'<td class="time destaque">'+time.nome_popular+'</td>'+'<td class="coluna-p destaque">'+time.pontos+'</td>'+'<td class="coluna-j destaque">'+time.jogos+'</td>'+'<td class="coluna-v destaque">'+time.vitorias+'</td>'+'</tr>';}
else{html+='<tr class="time-home">'+'<td class="cor-tabela">'+time.ordem+'</td>'+'<td class="time">'+time.nome_popular+'</td>'+'<td class="coluna-p">'+time.pontos+'</td>'+'<td class="coluna-j">'+time.jogos+'</td>'+'<td class="coluna-v">'+time.vitorias+'</td>'+'</tr>';}});$("thead",$table).show();$tbody.empty().html(html);$("span",$thead).empty().html(dados.classificacao.grupos[pos].nome_grupo);self.bindBtnPontosCorrigosGrupada();},bindBtnPontosCorrigosGrupada=function(){$btnAnterior=$("#ge-classificacao-generica thead a.anterior");$btnProximo=$("#ge-classificacao-generica thead a.proximo");if(pos>=(grupoLength-1)){$btnProximo.addClass('btn-off');}
if(pos==0){$btnAnterior.addClass('btn-off');}
$btnProximo.unbind().bind('click',function(){if(!$(this).hasClass('btn-off')){if(pos<(grupoLength-1)){$btnAnterior.removeClass('btn-off');pos++;self.readJsonPontosCorrigosGrupada();}}
return false;});$btnAnterior.unbind().bind('click',function(){if(!$(this).hasClass('btn-off')){if(pos>0){$btnProximo.removeClass('btn-off');pos--;self.readJsonPontosCorrigosGrupada();}}
return false;});},populateMataMata=function(){var json=dados.classificacao;$thead.html('<tr><td class="mata-mata" colspan="2"><span>'+json.nome_fase+'</span></td>')
html='';try{html+='<tr>'+'<td class="lista-mata-mata">'+'   <a href="#">'+'     <div class="listagem-jogos">'+'      <div class="time mandante">'+'       <span class="nome cufon">'+json.jogo.equipe_a.sigla_equipe_a+'</span>   '+'       <div class="time-escudo jogo-escudo-mandante">'+'        <img src="'+json.jogo.equipe_a.escudo+'" />'+'       </div>               '+'      </div>             '+'      <div class="placar"> '+'       <span class="mandante cufon">'+(json.jogo.ida_jogo.placar_oficial_a!=null?json.jogo.ida_jogo.placar_oficial_a:"")+'</span>'+'       <img src="/media/libby/widget_globoesporte/classificacao/img/versus_cinza.gif" class="versus" />     '+'       <span class="visitante cufon">'+(json.jogo.ida_jogo.placar_oficial_b!=null?json.jogo.ida_jogo.placar_oficial_b:"")+'</span>       '+'     </div>'+'      <div class="time visitante">     '+'       <span class="nome cufon">'+json.jogo.equipe_b.sigla_equipe_b+'</span>  '+'       <div class="time-escudo jogo-escudo-visitante">'+'           <img src="'+json.jogo.equipe_b.escudo+'" />      '+'      </div>'+'     </div>'+'     </div>'+'   </a>'+'</td>'+'</tr>';if(json.jogo.volta_jogo){html+='<tr>'+'<td class="lista-mata-mata">'+'   <a href="#">'+'     <div class="listagem-jogos">'+'      <div class="time mandante">'+'       <span class="nome cufon">'+json.jogo.equipe_b.sigla_equipe_b+'</span>   '+'       <div class="time-escudo jogo-escudo-mandante">'+'        <img src="'+json.jogo.equipe_b.escudo+'" />'+'       </div>               '+'      </div>             '+'      <div class="placar"> '+'       <span class="mandante cufon">'+(json.jogo.volta_jogo.placar_oficial_b!=null?json.jogo.ida_jogo.placar_oficial_b:"")+'</span>'+'       <img src="/media/libby/widget_globoesporte/classificacao/img/versus_cinza.gif" class="versus" />     '+'       <span class="visitante cufon">'+(json.jogo.volta_jogo.placar_oficial_a!=null?json.jogo.ida_jogo.placar_oficial_a:"")+'</span>       '+'     </div>'+'      <div class="time visitante">     '+'       <span class="nome cufon">'+json.jogo.equipe_a.sigla_equipe_a+'</span>  '+'       <div class="time-escudo jogo-escudo-visitante">'+'           <img src="'+json.jogo.equipe_a.escudo+'" />      '+'      </div>'+'     </div>      '+'     </div>'+'   </a>'+'</td>'+'</tr>';}
$("thead",$table).show();$tbody.empty().html(html);}
catch(err){self.populateErro();}},populateErro=function(){html='';html+='<tr>'+'<td colspan="5" class="widget-erro">'+'   Não existem jogos cadastrados'+'</td>'+'</tr>';$("thead",$table).hide();$tbody.empty().html(html);},toolTipClassificacaoGenerico=function(){var $btnCloseCombo=$('#ge-classificacao-generica .btn-close-combo');var $TooltipComboOpcoes=$('#ge-classificacao-generica .ge-combo-classificacao-opcoes');var $tableClassificacao=$('#ge-classificacao-generica .tabela-classificacao');var $barraLink=$('#ge-classificacao-generica .link');$btnCombo.click(function(){if($btnCombo.hasClass("ativo")){$btnCombo.removeClass("ativo");$btnCombo.addClass("inativo");}
else{$btnCombo.addClass("ativo");$btnCombo.removeClass("inativo");}
$tableClassificacao.toggle();$barraLink.toggle();$TooltipComboOpcoes.toggle().jScrollPane();return false;});},limpaTituloCampeonato=function(obj){var tituloLimpo=obj;return tituloLimpo.replace('Campeonato ','');}})(jQuery);jQuery.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined){options.expires=-1;}
if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
value=String(value);return(document.cookie=[encodeURIComponent(key),'=',options.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
options=value||{};var result,decode=options.raw?function(s){return s;}:decodeURIComponent;return(result=new RegExp('(?:^|; )'+encodeURIComponent(key)+'=([^;]*)').exec(document.cookie))?decode(result[1]):null;};(function(b,a,c){b.fn.jScrollPane=function(f){function d(D,N){var ay,P=this,X,aj,w,al,S,Y,z,r,az,aE,au,j,I,i,k,Z,T,ap,W,u,B,aq,ae,am,G,m,at,ax,y,av,aH,g,K,ai=true,O=true,aG=false,l=false,ao=D.clone(false,false).empty(),ab=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";aH=D.css("paddingTop")+" "+D.css("paddingRight")+" "+D.css("paddingBottom")+" "+D.css("paddingLeft");g=(parseInt(D.css("paddingLeft"),10)||0)+(parseInt(D.css("paddingRight"),10)||0);function ar(aQ){var aO,aP,aK,aM,aL,aJ,aI,aN;ay=aQ;if(X===c){aI=D.scrollTop();aN=D.scrollLeft();D.css({overflow:"hidden",padding:0});aj=D.innerWidth()+g;w=D.innerHeight();D.width(aj);X=b('<div class="jspPane" />').css("padding",aH).append(D.children());al=b('<div class="jspContainer" />').css({width:aj+"px",height:w+"px"}).append(X).appendTo(D)}else{D.css("width","");aJ=D.innerWidth()+g!=aj||D.outerHeight()!=w;if(aJ){aj=D.innerWidth()+g;w=D.innerHeight();al.css({width:aj+"px",height:w+"px"})}if(!aJ&&K==S&&X.outerHeight()==Y){D.width(aj);return}K=S;X.css("width","");D.width(aj);al.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}aO=X.clone(false,false).css("position","absolute");aP=b('<div style="width:1px; position: relative;" />').append(aO);b("body").append(aP);S=Math.max(X.outerWidth(),aO.outerWidth());aP.remove();Y=X.outerHeight();z=S/aj;r=Y/w;az=r>1;aE=z>1;if(!(aE||az)){D.removeClass("jspScrollable");X.css({top:0,width:al.width()-g});o();E();Q();x();ah()}else{D.addClass("jspScrollable");aK=ay.maintainPosition&&(I||Z);if(aK){aM=aC();aL=aA()}aF();A();F();if(aK){M(aM,false);L(aL,false)}J();af();an();if(ay.enableKeyboardNavigation){R()}if(ay.clickOnTrack){q()}C();if(ay.hijackInternalLinks){n()}}if(ay.autoReinitialise&&!av){av=setInterval(function(){ar(ay)},ay.autoReinitialiseDelay)}else{if(!ay.autoReinitialise&&av){clearInterval(av)}}aI&&D.scrollTop(0)&&L(aI,false);aN&&D.scrollLeft(0)&&M(aN,false);D.trigger("jsp-initialised",[aE||az])}function aF(){if(az){al.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));T=al.find(">.jspVerticalBar");ap=T.find(">.jspTrack");au=ap.find(">.jspDrag");if(ay.showArrows){aq=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aD(0,-1)).bind("click.jsp",aB);ae=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aD(0,1)).bind("click.jsp",aB);if(ay.arrowScrollOnHover){aq.bind("mouseover.jsp",aD(0,-1,aq));ae.bind("mouseover.jsp",aD(0,1,ae))}ak(ap,ay.verticalArrowPositions,aq,ae)}u=w;al.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){u-=b(this).outerHeight()});au.hover(function(){au.addClass("jspHover")},function(){au.removeClass("jspHover")}).bind("mousedown.jsp",function(aI){b("html").bind("dragstart.jsp selectstart.jsp",aB);au.addClass("jspActive");var s=aI.pageY-au.position().top;b("html").bind("mousemove.jsp",function(aJ){U(aJ.pageY-s,false)}).bind("mouseup.jsp mouseleave.jsp",aw);return false});p()}}function p(){ap.height(u+"px");I=0;W=ay.verticalGutter+ap.outerWidth();X.width(aj-W-g);if(T.position().left===0){X.css("margin-left",W+"px")}}function A(){if(aE){al.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />')));am=al.find(">.jspHorizontalBar");G=am.find(">.jspTrack");i=G.find(">.jspDrag");if(ay.showArrows){ax=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aD(-1,0)).bind("click.jsp",aB);y=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aD(1,0)).bind("click.jsp",aB);if(ay.arrowScrollOnHover){ax.bind("mouseover.jsp",aD(-1,0,ax));y.bind("mouseover.jsp",aD(1,0,y))}ak(G,ay.horizontalArrowPositions,ax,y)}i.hover(function(){i.addClass("jspHover")},function(){i.removeClass("jspHover")}).bind("mousedown.jsp",function(aI){b("html").bind("dragstart.jsp selectstart.jsp",aB);i.addClass("jspActive");var s=aI.pageX-i.position().left;b("html").bind("mousemove.jsp",function(aJ){V(aJ.pageX-s,false)}).bind("mouseup.jsp mouseleave.jsp",aw);return false});m=al.innerWidth();ag()}}function ag(){al.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){m-=b(this).outerWidth()});G.width(m+"px");Z=0}function F(){if(aE&&az){var aI=G.outerHeight(),s=ap.outerWidth();u-=aI;b(am).find(">.jspCap:visible,>.jspArrow").each(function(){m+=b(this).outerWidth()});m-=s;w-=s;aj-=aI;G.parent().append(b('<div class="jspCorner" />').css("width",aI+"px"));p();ag()}if(aE){X.width((al.outerWidth()-g)+"px")}Y=X.outerHeight();r=Y/w;if(aE){at=Math.ceil(1/z*m);if(at>ay.horizontalDragMaxWidth){at=ay.horizontalDragMaxWidth}else{if(at<ay.horizontalDragMinWidth){at=ay.horizontalDragMinWidth}}i.width(at+"px");k=m-at;ad(Z)}if(az){B=Math.ceil(1/r*u);if(B>ay.verticalDragMaxHeight){B=ay.verticalDragMaxHeight}else{if(B<ay.verticalDragMinHeight){B=ay.verticalDragMinHeight}}au.height(B+"px");j=u-B;ac(I)}}function ak(aJ,aL,aI,s){var aN="before",aK="after",aM;if(aL=="os"){aL=/Mac/.test(navigator.platform)?"after":"split"}if(aL==aN){aK=aL}else{if(aL==aK){aN=aL;aM=aI;aI=s;s=aM}}aJ[aN](aI)[aK](s)}function aD(aI,s,aJ){return function(){H(aI,s,this,aJ);this.blur();return false}}function H(aL,aK,aO,aN){aO=b(aO).addClass("jspActive");var aM,aJ,aI=true,s=function(){if(aL!==0){P.scrollByX(aL*ay.arrowButtonSpeed)}if(aK!==0){P.scrollByY(aK*ay.arrowButtonSpeed)}aJ=setTimeout(s,aI?ay.initialDelay:ay.arrowRepeatFreq);aI=false};s();aM=aN?"mouseout.jsp":"mouseup.jsp";aN=aN||b("html");aN.bind(aM,function(){aO.removeClass("jspActive");aJ&&clearTimeout(aJ);aJ=null;aN.unbind(aM)})}function q(){x();if(az){ap.bind("mousedown.jsp",function(aN){if(aN.originalTarget===c||aN.originalTarget==aN.currentTarget){var aL=b(this),aO=aL.offset(),aM=aN.pageY-aO.top-I,aJ,aI=true,s=function(){var aR=aL.offset(),aS=aN.pageY-aR.top-B/2,aP=w*ay.scrollPagePercent,aQ=j*aP/(Y-w);if(aM<0){if(I-aQ>aS){P.scrollByY(-aP)}else{U(aS)}}else{if(aM>0){if(I+aQ<aS){P.scrollByY(aP)}else{U(aS)}}else{aK();return}}aJ=setTimeout(s,aI?ay.initialDelay:ay.trackClickRepeatFreq);aI=false},aK=function(){aJ&&clearTimeout(aJ);aJ=null;b(document).unbind("mouseup.jsp",aK)};s();b(document).bind("mouseup.jsp",aK);return false}})}if(aE){G.bind("mousedown.jsp",function(aN){if(aN.originalTarget===c||aN.originalTarget==aN.currentTarget){var aL=b(this),aO=aL.offset(),aM=aN.pageX-aO.left-Z,aJ,aI=true,s=function(){var aR=aL.offset(),aS=aN.pageX-aR.left-at/2,aP=aj*ay.scrollPagePercent,aQ=k*aP/(S-aj);if(aM<0){if(Z-aQ>aS){P.scrollByX(-aP)}else{V(aS)}}else{if(aM>0){if(Z+aQ<aS){P.scrollByX(aP)}else{V(aS)}}else{aK();return}}aJ=setTimeout(s,aI?ay.initialDelay:ay.trackClickRepeatFreq);aI=false},aK=function(){aJ&&clearTimeout(aJ);aJ=null;b(document).unbind("mouseup.jsp",aK)};s();b(document).bind("mouseup.jsp",aK);return false}})}}function x(){if(G){G.unbind("mousedown.jsp")}if(ap){ap.unbind("mousedown.jsp")}}function aw(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(au){au.removeClass("jspActive")}if(i){i.removeClass("jspActive")}}function U(s,aI){if(!az){return}if(s<0){s=0}else{if(s>j){s=j}}if(aI===c){aI=ay.animateScroll}if(aI){P.animate(au,"top",s,ac)}else{au.css("top",s);ac(s)}}function ac(aI){if(aI===c){aI=au.position().top}al.scrollTop(0);I=aI;var aL=I===0,aJ=I==j,aK=aI/j,s=-aK*(Y-w);if(ai!=aL||aG!=aJ){ai=aL;aG=aJ;D.trigger("jsp-arrow-change",[ai,aG,O,l])}v(aL,aJ);X.css("top",s);D.trigger("jsp-scroll-y",[-s,aL,aJ]).trigger("scroll")}function V(aI,s){if(!aE){return}if(aI<0){aI=0}else{if(aI>k){aI=k}}if(s===c){s=ay.animateScroll}if(s){P.animate(i,"left",aI,ad)}else{i.css("left",aI);ad(aI)}}function ad(aI){if(aI===c){aI=i.position().left}al.scrollTop(0);Z=aI;var aL=Z===0,aK=Z==k,aJ=aI/k,s=-aJ*(S-aj);if(O!=aL||l!=aK){O=aL;l=aK;D.trigger("jsp-arrow-change",[ai,aG,O,l])}t(aL,aK);X.css("left",s);D.trigger("jsp-scroll-x",[-s,aL,aK]).trigger("scroll")}function v(aI,s){if(ay.showArrows){aq[aI?"addClass":"removeClass"]("jspDisabled");ae[s?"addClass":"removeClass"]("jspDisabled")}}function t(aI,s){if(ay.showArrows){ax[aI?"addClass":"removeClass"]("jspDisabled");y[s?"addClass":"removeClass"]("jspDisabled")}}function L(s,aI){var aJ=s/(Y-w);U(aJ*j,aI)}function M(aI,s){var aJ=aI/(S-aj);V(aJ*k,s)}function aa(aU,aP,aJ){var aN,aK,aL,s=0,aT=0,aI,aO,aR,aQ,aS;try{aN=b(aU)}catch(aM){return}aK=aN.outerHeight();aL=aN.outerWidth();al.scrollTop(0);al.scrollLeft(0);while(!aN.is(".jspPane")){s+=aN.position().top;aT+=aN.position().left;aN=aN.offsetParent();if(/^body|html$/i.test(aN[0].nodeName)){return}}aI=aA();aO=aI+w;if(s<aI||aP){aQ=s-ay.verticalGutter}else{if(s+aK>aO){aQ=s-w+aK+ay.verticalGutter}}if(aQ){L(aQ,aJ)}viewportLeft=aC();aR=viewportLeft+aj;if(aT<viewportLeft||aP){aS=aT-ay.horizontalGutter}else{if(aT+aL>aR){aS=aT-aj+aL+ay.horizontalGutter}}if(aS){M(aS,aJ)}}function aC(){return-X.position().left}function aA(){return-X.position().top}function af(){al.unbind(ab).bind(ab,function(aL,aM,aK,aI){var aJ=Z,s=I;P.scrollBy(aK*ay.mouseWheelSpeed,-aI*ay.mouseWheelSpeed,false);return aJ==Z&&s==I})}function o(){al.unbind(ab)}function aB(){return false}function J(){X.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){aa(s.target,false)})}function E(){X.find(":input,a").unbind("focus.jsp")}function R(){var s,aI;X.focus(function(){D.focus()});D.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aM){if(aM.target!==this){return}var aL=Z,aK=I;switch(aM.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=aM.keyCode;aJ();break;case 35:L(Y-w);s=null;break;case 36:L(0);s=null;break}aI=aM.keyCode==s&&aL!=Z||aK!=I;return!aI}).bind("keypress.jsp",function(aK){if(aK.keyCode==s){aJ()}return!aI});if(ay.hideFocus){D.css("outline","none");if("hideFocus"in al[0]){D.attr("hideFocus",true)}}else{D.css("outline","");if("hideFocus"in al[0]){D.attr("hideFocus",false)}}function aJ(){var aL=Z,aK=I;switch(s){case 40:P.scrollByY(ay.keyboardSpeed,false);break;case 38:P.scrollByY(-ay.keyboardSpeed,false);break;case 34:case 32:P.scrollByY(w*ay.scrollPagePercent,false);break;case 33:P.scrollByY(-w*ay.scrollPagePercent,false);break;case 39:P.scrollByX(ay.keyboardSpeed,false);break;case 37:P.scrollByX(-ay.keyboardSpeed,false);break}aI=aL!=Z||aK!=I;return aI}}function Q(){D.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function C(){if(location.hash&&location.hash.length>1){var aJ,aI;try{aJ=b(location.hash)}catch(s){return}if(aJ.length&&X.find(location.hash)){if(al.scrollTop()===0){aI=setInterval(function(){if(al.scrollTop()>0){aa(location.hash,true);b(document).scrollTop(al.position().top);clearInterval(aI)}},50)}else{aa(location.hash,true);b(document).scrollTop(al.position().top)}}}}function ah(){b("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function n(){ah();b("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var s=this.href.split("#"),aI;if(s.length>1){aI=s[1];if(aI.length>0&&X.find("#"+aI).length>0){aa("#"+aI,true);return false}}})}function an(){var aJ,aI,aL,aK,aM,s=false;al.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(aN){var aO=aN.originalEvent.touches[0];aJ=aC();aI=aA();aL=aO.pageX;aK=aO.pageY;aM=false;s=true}).bind("touchmove.jsp",function(aQ){if(!s){return}var aP=aQ.originalEvent.touches[0],aO=Z,aN=I;P.scrollTo(aJ+aL-aP.pageX,aI+aK-aP.pageY);aM=aM||Math.abs(aL-aP.pageX)>5||Math.abs(aK-aP.pageY)>5;return aO==Z&&aN==I}).bind("touchend.jsp",function(aN){s=false}).bind("click.jsp-touchclick",function(aN){if(aM){aM=false;return false}})}function h(){var s=aA(),aI=aC();D.removeClass("jspScrollable").unbind(".jsp");D.replaceWith(ao.append(X.children()));ao.scrollTop(s);ao.scrollLeft(aI)}b.extend(P,{reinitialise:function(aI){aI=b.extend({},ay,aI);ar(aI)},scrollToElement:function(aJ,aI,s){aa(aJ,aI,s)},scrollTo:function(aJ,s,aI){M(aJ,aI);L(s,aI)},scrollToX:function(aI,s){M(aI,s)},scrollToY:function(s,aI){L(s,aI)},scrollToPercentX:function(aI,s){M(aI*(S-aj),s)},scrollToPercentY:function(aI,s){L(aI*(Y-w),s)},scrollBy:function(aI,s,aJ){P.scrollByX(aI,aJ);P.scrollByY(s,aJ)},scrollByX:function(s,aJ){var aI=aC()+s,aK=aI/(S-aj);V(aK*k,aJ)},scrollByY:function(s,aJ){var aI=aA()+s,aK=aI/(Y-w);U(aK*j,aJ)},positionDragX:function(s,aI){V(s,aI)},positionDragY:function(aI,s){V(aI,s)},animate:function(aI,aL,s,aK){var aJ={};aJ[aL]=s;aI.animate(aJ,{duration:ay.animateDuration,ease:ay.animateEase,queue:false,step:aK})},getContentPositionX:function(){return aC()},getContentPositionY:function(){return aA()},getContentWidth:function(){return S()},getContentHeight:function(){return Y()},getPercentScrolledX:function(){return aC()/(S-aj)},getPercentScrolledY:function(){return aA()/(Y-w)},getIsScrollableH:function(){return aE},getIsScrollableV:function(){return az},getContentPane:function(){return X},scrollToBottom:function(s){U(j,s)},hijackInternalLinks:function(){n()},destroy:function(){h()}});ar(N)}f=b.extend({},b.fn.jScrollPane.defaults,f);b.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){f[this]=f[this]||f.speed});var e;this.each(function(){var g=b(this),h=g.data("jsp");if(h){h.reinitialise(f)}else{h=new d(g,f);g.data("jsp",h)}e=e?e.add(g):g});return e};b.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);(function($){var types=['DOMMouseScroll','mousewheel'];$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(event.wheelDelta){delta=event.wheelDelta/120;}
if(event.detail){delta=-event.detail/3;}
deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120;}
args.unshift(event,delta,deltaX,deltaY);return $.event.handle.apply(this,args);}})(jQuery);(function($,setTimeout){function noop(){}
function genericCallback(data){lastValue=[data];}
function appendScript(node){head.insertBefore(node,head.firstChild);}
function callIfDefined(method,object,parameters){return method&&method.apply(object.context||object,parameters);}
function qMarkOrAmp(url){return(/\?/.test(url)?"&":"?");}
var
STR_ASYNC="async",STR_CHARSET="charset",STR_EMPTY="",STR_ERROR="error",STR_JQUERY_JSONP="_jqjsp",STR_ON="on",STR_ONCLICK=STR_ON+"click",STR_ONERROR=STR_ON+STR_ERROR,STR_ONLOAD=STR_ON+"loaddisabled",STR_ONREADYSTATECHANGE=STR_ON+"readystatechange",STR_REMOVE_CHILD="removeChild",STR_SCRIPT_TAG="<script/>",STR_SUCCESS="success",STR_TIMEOUT="timeout",browser=$.browser,head=$("head")[0]||document.documentElement,pageCache={},count=0,lastValue,xOptionsDefaults={callback:STR_JQUERY_JSONP,url:location.href};function jsonp(xOptions){xOptions=$.extend({},xOptionsDefaults,xOptions);var completeCallback=xOptions.complete,dataFilter=xOptions.dataFilter,callbackParameter=xOptions.callbackParameter,successCallbackName=xOptions.callback,cacheFlag=xOptions.cache,pageCacheFlag=xOptions.pageCache,charset=xOptions.charset,url=xOptions.url,data=xOptions.data,timeout=xOptions.timeout,pageCached,done=0,cleanUp=noop;xOptions.abort=function(){!done++&&cleanUp();};if(callIfDefined(xOptions.beforeSend,xOptions,[xOptions])===false||done){return xOptions;}
url=url||STR_EMPTY;data=data?((typeof data)=="string"?data:$.param(data,xOptions.traditional)):STR_EMPTY;url+=data?(qMarkOrAmp(url)+data):STR_EMPTY;callbackParameter&&(url+=qMarkOrAmp(url)+encodeURIComponent(callbackParameter)+"=?");!cacheFlag&&!pageCacheFlag&&(url+=qMarkOrAmp(url)+"_"+(new Date()).getTime()+"=");url=url.replace(/=\?(&|$)/,"="+successCallbackName+"$1");function notifySuccess(json){!done++&&setTimeout(function(){cleanUp();pageCacheFlag&&(pageCache[url]={s:[json]});dataFilter&&(json=dataFilter.apply(xOptions,[json]));callIfDefined(xOptions.success,xOptions,[json,STR_SUCCESS]);callIfDefined(completeCallback,xOptions,[xOptions,STR_SUCCESS]);},0);}
function notifyError(type){!done++&&setTimeout(function(){cleanUp();pageCacheFlag&&type!=STR_TIMEOUT&&(pageCache[url]=type);callIfDefined(xOptions.error,xOptions,[xOptions,type]);callIfDefined(completeCallback,xOptions,[xOptions,type]);},0);}
pageCacheFlag&&(pageCached=pageCache[url])?(pageCached.s?notifySuccess(pageCached.s[0]):notifyError(pageCached)):setTimeout(function(script,scriptAfter,timeoutTimer){if(!done){timeoutTimer=timeout>0&&setTimeout(function(){notifyError(STR_TIMEOUT);},timeout);cleanUp=function(){timeoutTimer&&clearTimeout(timeoutTimer);script[STR_ONREADYSTATECHANGE]=script[STR_ONCLICK]=script[STR_ONLOAD]=script[STR_ONERROR]=null;head[STR_REMOVE_CHILD](script);scriptAfter&&head[STR_REMOVE_CHILD](scriptAfter);};window[successCallbackName]=genericCallback;script=$(STR_SCRIPT_TAG)[0];script.id=STR_JQUERY_JSONP+count++;if(charset){script[STR_CHARSET]=charset;}
function callback(result){(script[STR_ONCLICK]||noop)();result=lastValue;lastValue=undefined;result?notifySuccess(result[0]):notifyError(STR_ERROR);}
if(browser.msie){script.event=STR_ONCLICK;script.htmlFor=script.id;script[STR_ONREADYSTATECHANGE]=function(){/loaddisableded|complete/.test(script.readyState)&&callback();};}else{script[STR_ONERROR]=script[STR_ONLOAD]=callback;browser.opera?((scriptAfter=$(STR_SCRIPT_TAG)[0]).text="jQuery('#"+script.id+"')[0]."+STR_ONERROR+"()"):script[STR_ASYNC]=STR_ASYNC;;}
script.src=url;appendScript(script);scriptAfter&&appendScript(scriptAfter);}},0);return xOptions;}
jsonp.setup=function(xOptions){$.extend(xOptionsDefaults,xOptions);};$.jsonp=jsonp;})(jQuery,setTimeout);